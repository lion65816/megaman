(function(){function $parcel$export(e,t,i,a){Object.defineProperty(e,t,{get:i,set:a,enumerable:!0,configurable:!0})}function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequired6c3;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var i={id:e,exports:{}};return $parcel$modules[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a},parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequired6c3=parcelRequire),parcelRequire.register("kvHoK",(function(e,t){var i,a;$parcel$export(e.exports,"register",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"resolve",(function(){return a}),(function(e){return a=e}));var n={};i=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)n[t[i]]=e[t[i]]},a=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),parcelRequire.register("b1081",(function(module,exports){parcelRequire("boCbw");var $6gF5a=parcelRequire("6gF5a"),$k0pvG=parcelRequire("k0pvG"),$8aMPH=parcelRequire("8aMPH"),$fZtuh=parcelRequire("fZtuh"),$fdp2f=parcelRequire("fdp2f"),$eza1s=parcelRequire("eza1s"),$d8PpQ=parcelRequire("d8PpQ"),$9qiPQ=parcelRequire("9qiPQ"),$f9USI=parcelRequire("f9USI"),$eMdmS=parcelRequire("eMdmS"),Suggest,$gVOTG=parcelRequire("gVOTG"),PublicAPI=$gVOTG.default;window.bluebillywig=window.bluebillywig||{},window.bluebillywig._internal=window.bluebillywig._internal||{};var windowName="OutstreamPlayer",Player=window.bluebillywig[windowName]=function(e,t){this._internal=new PlayerHelper(e,t,this)};Player.prototype.destruct=function(){return this._internal&&(this._internal=this._internal.exit()),null};var PlayerHelper=function(e,t,i){$8aMPH.setDebugModeFromOpts("object"==typeof e?e:t),$8aMPH.debugMode&&performance.mark("PLAYER_INIT");var a=this;if(this._documentReady=!1,this._player=i,this.$wrapper=$parcel$interopDefault($6gF5a)("<div></div>").addClass("bb-media").addClass("bb_wrapper"),-1==location.href.indexOf("video.elsevier.nl")&&-1==location.href.indexOf(".ah.nl")&&-1==location.href.indexOf("ajax.nl")||(this.$wrapper=$parcel$interopDefault($6gF5a)('<span style="display:block"></span>').addClass("bb_wrapper").addClass("bb-media")),this._cmpTimeoutReached=!1,void 0===e)return!1;if("string"==typeof e)this._stringInit(e,t);else{var n=(e=this._preprocessOpts(e))&&(e.clipListData&&"true"===e.clipListData.useSuggest||e.requestParams&&"true"===e.requestParams.useSuggest);"function"==typeof Suggest&&n?($8aMPH.debugMode&&performance.mark("Suggest"),this._suggest=new Suggest(e,i,(function(i){i?a._objectInit(i,t):a._objectInit(e,t)})),$8aMPH.debugMode&&performance.mark("end_Suggest")):this._objectInit(e,t)}};PlayerHelper.prototype.exit=function(){if(this.Main&&(this.Main=this.Main.exit()),this._detections=null,this._statsEngine&&(this._statsEngine=this._statsEngine.exit()),this._placement=null,this.$wrapper&&this.$wrapper.remove(),this.$wrapper=null,this.$interactivityWrapper&&this.$interactivityWrapper.remove(),this.$interactivityWrapper=null,this._opts=null,this._playout=null,this._clip=null,this._adUnit=null,this._np&&(this._np=this._np.exit()),this._consentFrameworkSupport&&(this._consentFrameworkSupport=this._consentFrameworkSupport.exit()),window.bluebillywig&&window.bluebillywig.players){var e=window.bluebillywig.players.indexOf(this._player);e>=0&&window.bluebillywig.players.splice(e,1)}return null},PlayerHelper.prototype._preprocessOpts=function(e){if((e=e||{}).embedData&&(!e.scriptLink||-1===e.scriptLink.indexOf(".json?"))){var t=e.embedData.baseurl+"/p/"+e.embedData.playoutSafeName+"/"+e.embedData.contentIndicator+"/"+e.embedData.contentId,i=this._findScript(t,e);i&&i.src&&(e.scriptLink=i.src)}return e.scriptLink&&(e.requestParams=e.requestParams||{},e.requestParams=$fZtuh.getQueryParamsFromUrl(e.scriptLink,e.requestParams)),e.requestParams&&void 0!==e.requestParams.useHostPageQueryString&&"false"!==e.requestParams.useHostPageQueryString&&(e.requestParams=$fZtuh.getQueryParamsFromUrl(document.location.href,e.requestParams)),e},PlayerHelper.prototype._objectInit=function(opts,overrides){var ref,ref1,ref2,ref3;$8aMPH.setDebugModeFromOpts(opts),$8aMPH.default("[Player] _objectInit");var playerId=(null==opts||null===(ref=opts.embedData)||void 0===ref?void 0:ref.baseurl)+"/p/"+(null==opts||null===(ref1=opts.embedData)||void 0===ref1?void 0:ref1.playoutSafeName)+"/"+(null==opts||null===(ref2=opts.embedData)||void 0===ref2?void 0:ref2.contentIndicator)+"/"+(null==opts||null===(ref3=opts.embedData)||void 0===ref3?void 0:ref3.contentId),playerAliasOrId=(null==opts?void 0:opts.alias)||playerId;opts&&(opts.playerAliasOrId=playerAliasOrId),$8aMPH.debugMode&&performance.mark("IABConsentFrameworkSupport"),this._consentFrameworkSupport=new $9qiPQ.default,$8aMPH.debugMode&&performance.mark("end_IABConsentFrameworkSupport"),$k0pvG.default.getService(opts.playerAliasOrId).setInstance("ConsentFrameworkSupport",this._consentFrameworkSupport);var customSkinPath=$fZtuh.getCustomSkinPath(opts);if($8aMPH.default("[PlayerHelper] customSkinPath = "+customSkinPath),customSkinPath){var _this=this,customSkinJsonUrl=customSkinPath+"skin.json";$fZtuh.fetchData(customSkinJsonUrl).then((function(data){data?($8aMPH.debugMode&&performance.mark("Custom skin placement"),data&&data.customSkinInfo&&(opts.customSkinInfo=data.customSkinInfo),data&&data.customSkinCss&&(opts.playerCSS=data.customSkinCss.replace(/{{bbCustomSkinPath}}/g,customSkinPath)),data&&data.customSkinHtml&&(opts.playerHTML=data.customSkinHtml),data&&data.customSkinJs&&eval(data.customSkinJs),$8aMPH.debugMode&&performance.mark("end_Custom skin placement"),$8aMPH.default("[Player] Done loading custom player. Info: "+data.customSkinInfo),_this._objectPlacement(opts,overrides)):($8aMPH.default("[Player] Error loading custom skin url: no data"),_this._objectPlacement(opts,overrides))})).catch((function(e){$8aMPH.default("[Player] Error loading custom skin url: "+e),_this._objectPlacement(opts,overrides)}))}else this._objectPlacement(opts,overrides)},PlayerHelper.prototype._stringInit=function(e,t){var i=function(e){var t=e;"function"==typeof PublicAPI.prototype[t]&&"_"!=t.charAt(0)&&(n._player[t]=$parcel$interopDefault($6gF5a).proxy((function(){var e=arguments;n.$wrapper.on("bb_player_ready.tmpfunc"+t,{methodName:this.methodName},(function(t){var i=t.data.methodName;n.$wrapper.off("bb_player_ready.tmpfunc"+i),n._player[i].apply(n._player,e)}))}),{methodName:t}))},a=this,n=this;for(var s in this._player._id=e,window.bluebillywig.players=window.bluebillywig.players||[],window.bluebillywig.players.indexOf(n._player)<0&&window.bluebillywig.players.push(n._player),PublicAPI.prototype)i(s);if((t="object"==typeof t?t:{}).playoutData)try{JSON.stringify(t.playoutData)}catch(e){for(var o in t.playoutData){var r=t.playoutData[o];r&&!0!==r&&!1!==r&&isNaN(parseFloat(r))&&(r=r.toString()),t.playoutData[o]=r}}$fZtuh.fetchData(e).then((function(i){i?(i.scriptLink=e,"object"==typeof(i=a._preprocessOpts(i)).requestParams?$parcel$interopDefault($6gF5a).extend(i.requestParams,t):i.requestParams=t,t.clipData&&(i.clipData=t.clipData),t.clipListData&&(i.clipListData=t.clipListData),t.playoutData&&(i.playoutData=t.playoutData),t.adServicesData&&(i.adServicesData=t.adServicesData),a._objectInit(i,t)):$8aMPH.default("[Player] Error loading "+e+": no data")})).catch((function(t){$8aMPH.default("[Player] Error loading "+e+": "+t)}))},PlayerHelper.prototype._determineNoSkinMode=function(){var e=!1,t=this._opts&&this._opts.playoutData&&this._opts.playoutData.skinBehaviour?this._opts.playoutData.skinBehaviour.toLowerCase():"",i=!!(this._clip&&null!=this._clip.timelines&&this._clip&&this._clip.timelines.length>0),a=this._clip&&"true"==this._clip.shouldPlayInline,n=this._clip&&("true"===this._clip.cubemapVideo||!0===this._clip.cubemapVideo||"360video"==this._clip.subtype),s=this._detections&&this._detections.canPlayInline,o=this._detections&&this._detections.hasTouch,r=this._clip&&"live"==this._clip.sourcetype&&this._detections&&this._detections.isiOS;if(!i&&!n&&!r)switch(t){case"always_on":e=!1;break;case"disable_always":e=!0;break;case"disable_on_touch":o&&(e=!0);break;default:a||s||"video"!=this._clip.mediatype||(e=!0)}return e},PlayerHelper.prototype._objectPlacement=function(e,t){if(this.$wrapper){var i=this;if(i._opts=e,i._playout=e.playoutData,i._clip=e.clipData,i._adUnit=null,e.adSchedulingData&&e.adSchedulingData.scheduleId&&(e.adServicesData=null),e.adServicesData&&$parcel$interopDefault($6gF5a).each(e.adServicesData,(function(e,t){"inarticle"===t.positionType&&(i._adUnit=t)})),$8aMPH.debugMode&&performance.mark("Detections"),i._detections=new $d8PpQ.default(i.$wrapper,e),$8aMPH.debugMode&&performance.mark("end_Detections"),i._setOptionOverrides(e),$8aMPH.debugMode&&performance.mark("objectPlacement"),!i._detections.canControlVolume&&i._opts&&"true"==i._opts.nsiNoPlayer)return!1;if($8aMPH.default("[Player] target = "+e.target),void 0!==i._playout&&null!=i._playout){if(i.escapedPlayoutLabel=i._playout.label.replace(/[^\w-]/g,"_"),i.escapedContentId=void 0!==i._opts.contentId&&null!=i._opts.contentId?i._opts.contentId.replace(/[^\w-]/g,"_"):"",i._opts.embedData.contentId&&(i.escapedContentId=i._opts.embedData.contentId.replace(/[^\w-]/g,"_")),i._acDivId="bb-ac-"+i.escapedPlayoutLabel+"-"+i.escapedContentId,i._altContentDiv=document.getElementById(i._acDivId),i.$wrapper&&i.$wrapper.attr("id",i._acDivId.replace("-ac-","-wr-")),e.embedData){var a=e.embedData.baseurl+"/p/"+e.embedData.playoutSafeName+"/"+e.embedData.contentIndicator+"/"+e.embedData.contentId,n=this._findScript(a,e);n&&n.src&&(e.scriptLink=n.src)}if(("true"==i._playout.iframeBreakout||!0===i._playout.iframeBreakout&&i._detections.inIframe)&&i._attemptIFrameBreakOut())return!1;if($8aMPH.debugMode&&performance.mark("Player._placeWrapper"),this._placeWrapperSuccess=this._placeWrapper(e),$8aMPH.debugMode&&performance.mark("end_Player._placeWrapper"),!this._placeWrapperSuccess){if(this._placeWrapperRetryInterval||(this._placeWrapperRetryCount=0,this._placeWrapperRetryInterval=setInterval((function(){(i._placeWrapperRetryCount++>20||i._documentReady)&&i._placeWrapperRetryInterval&&(clearInterval(i._placeWrapperRetryInterval),i._placeWrapperRetryInterval=null),i._placeWrapperSuccess=i._placeWrapper(e),i._placeWrapperSuccess&&i._placeWrapperRetryInterval&&(clearInterval(i._placeWrapperRetryInterval),i._placeWrapperRetryInterval=null)}),500)),this._documentReady){if(i._noStatsMode=e.playoutData&&"true"===e.playoutData.noStats,!i._noStatsMode&&"function"==typeof $eza1s.default){if(this._statsEngine||($8aMPH.debugMode&&performance.mark("StatsEngine"),this._statsEngine=new $eza1s.default(i.$wrapper,e),$8aMPH.debugMode&&performance.mark("end_StatsEngine")),i.$wrapper.triggerHandler("bb_error",[{msg:"wrapper placement failed"}]),e.embedData&&"a"===e.embedData.contentIndicator){var s=e.embedData.contentId,o=e.adServicesData&&e.adServicesData.length>0?e.adServicesData[0].positionType:"outstream";i.$wrapper.triggerHandler("bb_adunit_failed",[{adUnitCode:s,adPosition:o}])}if((null==e?void 0:e.adSchedulingData)&&void 0!==e.adSchedulingData.scheduleId){var r=e.adSchedulingData.scheduleId,l=void 0!==e.adSchedulingData.scheduleCode?e.adSchedulingData.scheduleCode:String(r);i.$wrapper.triggerHandler("bb_as_placement_failed",[{adType:"ad-scheduling",adPosition:"vmap",adScheduleCode:l}])}}}else $parcel$interopDefault($6gF5a)(document).ready((function(){i._documentReady||(i._documentReady=!0,i._placeWrapperSuccess||(i._objectPlacement(e,t),i._placeWrapperRetryInterval&&(clearInterval(i._placeWrapperRetryInterval),i._placeWrapperRetryInterval=null)))}));return!1}}i.$wrapper.css({position:"relative"}),i._clip&&i._clip.playoutoverride&&i.$wrapper.css({margin:"auto"});e.playoutData&&e.playoutData.width&&(-1!=e.playoutData.width.indexOf("%")?e.playoutData.width:e.playoutData.width);var d="height:"+(e.playoutData&&e.playoutData.height?-1!=e.playoutData.height.indexOf("%")?e.playoutData.height:e.playoutData.height+"px;":"100%")+";";!e.playoutData||"true"!=e.playoutData.responsiveSizing&&"true"!=e.playoutData.autoHeight||(d=9*i.$wrapper.width()/16,e.playoutData.height=String(d));var u=i.$wrapper?i.$wrapper.attr("id").replace("bb-wr-","bb-iawr-"):"";if(i.$interactivityWrapper=i.$wrapper.wrap('<div class="bb_iawr" id="'+u+'" style="position:relative;display:block;overflow:hidden;font-family:arial, helvetica, sans-serif;"></div>').parent(),i.$wrapper.data("iawrapper",i.$interactivityWrapper[0]),i._playout&&"true"==i._playout.screenshotMode&&(i._playout.controlBar="Hide",$parcel$interopDefault($6gF5a)("body").append("<style>.bb-container .bb-error-container{display:none !important;}.bb-state-error .bb-container .bb-bigplaycontainer{opacity:1 !important;} .bb-container {font-size:10px !important;}</style>")),i._noSkinMode=i._determineNoSkinMode(),i._nativeControls=e&&e.playoutData&&"false"!==e.playoutData.nativeControls,i._noSkinMode?(e.noSkinMode=!0,i._nativeControls&&(e.addNativeControls=!0)):(e.noSkinMode=!1,e.addNativeControls=!1),e&&e.playoutData&&"on"==e.playoutData.forceSkin&&(e.noSkinMode=!1,e.addNativeControls=!1),e&&e.playoutData&&"off"==e.playoutData.forceSkin&&(e.noSkinMode=!0,e.addNativeControls=!0),e.noSkinMode&&e&&e.clipData&&void 0!==e.clipData.timelineFallback){var h=e.requestParams;return h.placeAfterTarget="true",h.target=i.$wrapper.parent()[0],this._np=new Player(e.embedData.baseurl+"/p/"+e.playoutData.label+"/"+e.embedData.contentIndicator+"/"+e.clipData.timelineFallback+".json",h),i.$wrapper.remove(),!1}window.bluebillywig._internal.Skin=window.bluebillywig._internal.Skin||window.bluebillywig._internal.Skin2,window.bluebillywig._internal.Skin2=window.bluebillywig._internal.Skin2||window.bluebillywig._internal.Skin,e.noSkinMode,i._player.setFlag=function(e,t){PublicAPI.prototype.setFlag(e,t,i.$wrapper)};var c=[];i.$wrapper.on("bb_flagchange.Player",(function(e,t){$parcel$interopDefault($6gF5a).each(t,(function(e,t){c.push([e,t])}))})),i.$wrapper.on("bb_player_ready.Player",(function(){i.$wrapper.off("bb_flagchange.Player");var t=$k0pvG.default.getService(e.playerAliasOrId).getInstance("PublicAPI");$parcel$interopDefault($6gF5a).each(c,(function(e,i){null==t||t.setFlag(i[0],i[1])})),i._pendingPlayoutUpdate&&(null==t||t.updatePlayout(i._pendingPlayoutUpdate)),i._playerReady=!0})),e&&e.playoutData&&"true"==e.playoutData.waitForApproval?i.$wrapper.on("bb_flagchange.Approval",(function(){i.$wrapper.data().flags&&1==i.$wrapper.data().flags.approval&&(i.$wrapper.off("bb_flagchange.Approval"),i._initMain(e))})):i._initMain(e)}},PlayerHelper.prototype._initMain=function(e){var t=this;if(t._playout&&"true"===t._playout.waitForCmp&&!this._cmpTimeoutReached){var i=parseInt(t._playout.cmpTimeout)||1e4;if($8aMPH.default("[PlayerHelper] configured to wait for CMP for max ".concat(i,"ms")),this._consentFrameworkSupport.isRequestInProgress()){var a=setTimeout((function(){t._cmpTimeoutReached=!0,t._initMain(e)}),i),n=function(){a&&(clearTimeout(a),a=null),t._initMain(e)};return void this._consentFrameworkSupport.getCmpData(n,n)}}for(var s in $8aMPH.debugMode&&performance.mark("Main"),t.Main=new $fdp2f.default(t.$wrapper,e),$8aMPH.debugMode&&performance.mark("end_Main"),t.Main.api){var o=t.Main.api[s];"function"==typeof o&&"_"!=s.charAt(0)&&(this._player[s]=$parcel$interopDefault($6gF5a).proxy(o,t.Main.api))}window.bluebillywig._internal.Util.triggerEventOnJQueryObject(t.$wrapper,"ready"),"function"==typeof window.bluebillywig.onPlayerAdded&&window.bluebillywig.onPlayerAdded(t.Main.api),t.$wrapper&&t.$wrapper.attr("data-isready","true"),void 0!==e.callback&&""!=e.callback&&"function"==typeof window[e.callback]&&window[e.callback](this._player),t.$wrapper.triggerHandler("bb_player_ready")},PlayerHelper.prototype._setOptionOverrides=function(e){var t=this;if(t._playout){if(t._clip&&t._clip.playoutoverride&&$parcel$interopDefault($6gF5a).each(t._clip.playoutoverride,(function(e,i){t._playout[e]=i})),t._adUnit&&t._adUnit.playout&&$parcel$interopDefault($6gF5a).each(t._adUnit.playout,(function(e,i){t._playout[e]=i})),t._opts.requestParams&&$parcel$interopDefault($6gF5a).each(t._opts.requestParams,(function(e,i){"id"!=e&&"customCode"!=e&&"passbackCode"!=e&&"distanceFromTop"!=e&&"playoutData"!=e&&"clipData"!=e&&"clipListData"!=e&&(void 0===t._playout[e+"__orig__"]&&(t._playout[e+"__orig__"]=t._playout[e]),t._playout[e]=i)})),"true"===this._playout.supportIABConsent){this._consentFrameworkSupport.getCmpData((function(e,i){if(t._pendingPlayoutUpdate=$f9USI.default.ingestConsentIntoPlayout(2===i?e.tcString:e.consentData),t._playerReady){var a=$k0pvG.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI");a&&(a.updatePlayout(t._pendingPlayoutUpdate),t._pendingPlayoutUpdate=null)}}),$8aMPH.default)}void 0!==e.requestParams&&void 0!==e.requestParams.target?e.target=e.requestParams.target:void 0!==t._playout.target&&(e.target=t._playout.target),t._detections.isAndroidNative&&(t._playout.autoPlay="false"),t._detections.canControlVolume||"true"==t._playout.autoMute&&t._detections.canAutoPlayMuted||"true"!=t._playout.nsiNoAutoPlay||(t._playout.autoPlay="false"),"true"!==t._playout.responsiveSizing&&void 0!==t._playout.width||(t._playout.autoHeight="true"),"true"==t._playout.inheritDimensions&&(t._playout.autoHeight="false",t._playout.responsiveSizing="false",t._playout.width="100%",t._playout.height="100%"),t._playout.width&&-1!=t._playout.width.indexOf("%")&&t._playout.height&&-1!=t._playout.height.indexOf("%")&&"true"!=t._playout.autoHeight&&"true"!=t._playout.responsiveSizing&&(t._playout.textAbovePlayer="",t._playout.textCommercialSkip=""),"string"==typeof t._playout.width&&-1==t._playout.width.indexOf("%")&&(t._playout.width=String(parseInt(t._playout.width))),"string"==typeof t._playout.height&&-1==t._playout.height.indexOf("%")&&(t._playout.height=String(parseInt(t._playout.height))),void 0===t._playout.commercialBehaviour&&void 0!==t._playout.commerials&&(t._playout.commercialBehaviour=t._playout.commerials),void 0===t._playout.qualitySelector&&(t._playout.qualitySelector=void 0!==t._playout.hdButton?t._playout.hdButton:"Show"),t._clip&&"mainroll"==t._clip.mediatype&&(t._playout.disableKeyboardControls="true"),void 0===t._playout.bgColor&&(t._playout.bgColor="000000"),void 0===t._playout.skinBehaviour&&(t._playout.skinBehaviour="Auto"),void 0===t._playout.nativeControls&&(t._playout.nativeControls="true"),void 0===t._playout.youTubeHosting&&(t._playout.youTubeHosting="false"),void 0===t._playout.nsiNoAutoPlay&&(t._playout.nsiNoAutoPlay="false"),void 0===t._playout.nsiNoPlayer&&(t._playout.nsiNoPlayer="false"),void 0===t._playout.commercialControls&&(t._playout.commercialControls="automatic"),void 0===t._playout.commercialPauseButton&&(t._playout.commercialPauseButton="false"),void 0===t._playout.commercialMuteButton&&(t._playout.commercialMuteButton="false"),void 0===t._playout.textCommercialSkip&&(t._playout.textCommercialSkip=""),void 0===t._playout.title&&(t._playout.title="Hide"),void 0===t._playout.useDeeplinkForFacebook&&(t._playout.useDeeplinkForFacebook="false"),void 0===t._playout.volumeOrientation&&(t._playout.volumeOrientation="vertical")}},PlayerHelper.prototype._attemptIFrameBreakOut=function(e){var t=null;try{window.top.document.location;$parcel$interopDefault($6gF5a)("iframe",window.top.document).each((function(){this.contentWindow!=window.self&&this.contentWindow!=window.parent||(t=this)}))}catch(e){}if(null!=t){var i=window.top.document.createElement("script");i.type="text/javascript",i.src=this._opts.scriptLink&&this._opts.scriptLink.replace(".json",".js");var a=$parcel$interopDefault($6gF5a)('<div id="'+this._acDivId+'"></div>');return $parcel$interopDefault($6gF5a)(t).before(a),$parcel$interopDefault($6gF5a)(t).hide(),window.top.document.getElementById(this._acDivId).parentNode?window.top.document.getElementById(this._acDivId).parentNode.appendChild(i):window.top.document.getElementsByTagName("HEAD")[0].appendChild(i),!0}return!1},PlayerHelper.prototype._findScript=function(e,t){var i=null;if(t=t||this._opts||{},this._opts=this._opts||t,null==i&&(t.lastScript&&t.lastScript.src&&-1!==t.lastScript.src.indexOf(e)?i=t.lastScript:$parcel$interopDefault($6gF5a)("body script").each((function(){$parcel$interopDefault($6gF5a)(this).attr("src")&&-1!==$parcel$interopDefault($6gF5a)(this).attr("src").indexOf(e)&&(i=this)}))),null==i){var a="/"+this._opts.embedData.contentIndicator+"/"+this._opts.embedData.contentId+".";t.lastScript&&t.lastScript.src&&-1!==t.lastScript.src.indexOf(a)?i=t.lastScript:$parcel$interopDefault($6gF5a)("body script").each((function(){$parcel$interopDefault($6gF5a)(this).attr("src")&&-1!==$parcel$interopDefault($6gF5a)(this).attr("src").indexOf(a)&&(i=this)}))}return null==i&&$parcel$interopDefault($6gF5a)("body script").each((function(){-1!==this.innerHTML.indexOf(e)&&(i=this)})),i},PlayerHelper.prototype._placeWrapper=function(e){var t=this,i="/p/"+t._playout.label+"/"+t._opts.embedData.contentIndicator+"/"+t._opts.embedData.contentId;if(this._player._id||(this._player._id=i),!this._player._alias&&(null==e?void 0:e.alias)&&(this._player._alias=e.alias),void 0!==e.target){var a=$parcel$interopDefault($6gF5a)(e.target);if(a.length)return"script"==a.prop("tagName").toLowerCase()||e.playoutData&&"true"==e.playoutData.placeAfterTarget?t.$wrapper.insertAfter(e.target):$parcel$interopDefault($6gF5a)(e.target).append(t.$wrapper),!0;$8aMPH.default('[Player] provided embed target "'+e.target+'" was not found!')}if(void 0!==t._playout&&void 0!==t._playout.placementOption&&"default"!=t._playout.placementOption)return $8aMPH.debugMode&&performance.mark("Placement"),t._placement=new $eMdmS.default(t.$wrapper,e),$8aMPH.debugMode&&performance.mark("end_Placement"),t._placement.inarticleFindSpot();if(null!=t._altContentDiv&&document&&document.body&&document.body.contains(t._altContentDiv))return t.$wrapper.insertAfter(t._altContentDiv),$parcel$interopDefault($6gF5a)(t._altContentDiv).remove(),!0;var n=this._findScript(i,e);return null!=n?(t.$wrapper.insertAfter(n),!0):e.lastScript?(t.$wrapper.insertAfter(e.lastScript),!0):void $8aMPH.default("[Player] _placeWrapper player did not get placed!")}})),parcelRequire.register("boCbw",(function(e,t){$parcel$export(e.exports,"default",(function(){return $parcel$interopDefault(parcelRequire("6gF5a"))})),parcelRequire("3fPH0");var i=parcelRequire("6gF5a");parcelRequire("32MuL");var a=parcelRequire("k7WLs");window.bluebillywig=window.bluebillywig||{},void 0!==$parcel$interopDefault(i)&&(void 0===window.bluebillywig.jQuery?window.bluebillywig.jQuery=void 0!==$parcel$interopDefault(i).fn.bluebillywig?$parcel$interopDefault(i).noConflict(!0):$parcel$interopDefault(i):void 0!==$parcel$interopDefault(i).fn.bluebillywig&&$parcel$interopDefault(i).noConflict(!0)),$parcel$interopDefault(i).extend({bb_sanitize:a.default.$_bb_sanitize}),$parcel$interopDefault(i).fn.extend({bb_htmlSanitized:a.default.fn_bb_htmlSanitized,bb_appendSanitized:a.default.fn_bb_appendSanitized,bb_prependSanitized:a.default.fn_bb_prependSanitized,bb_sanitize:a.default.fn_bb_sanitize})})),parcelRequire.register("3fPH0",(function(e,t){$parcel$export(e.exports,"default",(function(){return $parcel$interopDefault(parcelRequire("6gF5a"))}));var i=parcelRequire("6gF5a");$parcel$interopDefault(i).fn.bluebillywig=function(){return!0},window.jQuery||(window.jQuery=$parcel$interopDefault(i)),window.$||(window.$=$parcel$interopDefault(i))})),parcelRequire.register("6gF5a",(function(e,t){parcelRequire("dhZ6J");var i=parcelRequire("dwEjG");
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */!function(t,i){"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:void 0,(function(e,t){"use strict";var a=function(e,t,i){var a,n,s=(i=i||re).createElement("script");if(s.text=e,t)for(a in le)(n=t[a]||t.getAttribute&&t.getAttribute(a))&&s.setAttribute(a,n);i.head.appendChild(s).parentNode.removeChild(s)},n=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?X[ee.call(e)]||"object":void 0===e?"undefined":i.default(e)},s=function(e){var t=!!e&&"length"in e&&e.length,i=n(e);return!se(e)&&!oe(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)},o=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},r=function(e,t,i){return se(t)?ue.grep(e,(function(e,a){return!!t.call(e,a,e)!==i})):t.nodeType?ue.grep(e,(function(e){return e===t!==i})):"string"!=typeof t?ue.grep(e,(function(e){return Z.call(t,e)>-1!==i})):ue.filter(t,e,i)},l=function(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e},d=function(e){return e},u=function(e){throw e},h=function(e,t,i,a){var n;try{e&&se(n=e.promise)?n.call(e).done(t).fail(i):e&&se(n=e.then)?n.call(e,t,i):t.apply(void 0,[e].slice(a))}catch(e){i.apply(void 0,[e])}},c=function(e,t){return t.toUpperCase()},p=function(e){return e.replace(Se,"ms-").replace(Pe,c)},_=function(e,t,i){var a;if(void 0===i&&1===e.nodeType)if(a="data-"+t.replace(Te,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(a))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Me.test(e)?JSON.parse(e):e)}(i)}catch(e){}Ie.set(e,t,i)}else i=void 0;return i},m=function(e,t,i,a){var n,s,o=20,r=a?function(){return a.cur()}:function(){return ue.css(e,t,"")},l=r(),d=i&&i[3]||(ue.cssNumber[t]?"":"px"),u=e.nodeType&&(ue.cssNumber[t]||"px"!==d&&+l)&&Re.exec(ue.css(e,t));if(u&&u[3]!==d){for(l/=2,d=d||u[3],u=+l||1;o--;)ue.style(e,t,u+d),(1-s)*(1-(s=r()/l||.5))<=0&&(o=0),u/=s;u*=2,ue.style(e,t,u+d),i=i||[]}return i&&(u=+u||+l||0,n=i[1]?u+(i[1]+1)*i[2]:+i[2],a&&(a.unit=d,a.start=u,a.end=n)),n},f=function(e){var t,i=e.ownerDocument,a=e.nodeName,n=Fe[a];return n||(t=i.body.appendChild(i.createElement(a)),n=ue.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),Fe[a]=n,n)},y=function(e,t){for(var i,a,n=[],s=0,o=e.length;s<o;s++)(a=e[s]).style&&(i=a.style.display,t?("none"===i&&(n[s]=De.get(a,"display")||null,n[s]||(a.style.display="")),""===a.style.display&&Be(a)&&(n[s]=f(a))):"none"!==i&&(n[s]="none",De.set(a,"display",i)));for(s=0;s<o;s++)null!=n[s]&&(e[s].style.display=n[s]);return e},v=function(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?ue.merge([e],i):i},g=function(e,t){for(var i=0,a=e.length;i<a;i++)De.set(e[i],"globalEval",!t||De.get(t[i],"globalEval"))},b=function(e,t,i,a,s){for(var o,r,l,d,u,h,c=t.createDocumentFragment(),p=[],_=0,m=e.length;_<m;_++)if((o=e[_])||0===o)if("object"===n(o))ue.merge(p,o.nodeType?[o]:o);else if(Je.test(o)){for(r=r||c.appendChild(t.createElement("div")),l=(We.exec(o)||["",""])[1].toLowerCase(),d=je[l]||je._default,r.innerHTML=d[1]+ue.htmlPrefilter(o)+d[2],h=d[0];h--;)r=r.lastChild;ue.merge(p,r.childNodes),(r=c.firstChild).textContent=""}else p.push(t.createTextNode(o));for(c.textContent="",_=0;o=p[_++];)if(a&&ue.inArray(o,a)>-1)s&&s.push(o);else if(u=He(o),r=v(c.appendChild(o),"script"),u&&g(r),i)for(h=0;o=r[h++];)ze.test(o.type||"")&&i.push(o);return c},w=function(){return!0},k=function(){return!1},$=function(e,t){return e===C()==("focus"===t)},C=function(){try{return re.activeElement}catch(e){}},S=function(e,t,i){i?(De.set(e,t,!1),ue.event.add(e,t,{namespace:!1,handler:function(e){var a,n,s=De.get(this,t);if(1&e.isTrigger&&this[t]){if(s.length)(ue.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=G.call(arguments),De.set(this,t,s),a=i(this,t),this[t](),s!==(n=De.get(this,t))||a?De.set(this,t,!1):n={},s!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else s.length&&(De.set(this,t,{value:ue.event.trigger(ue.extend(s[0],ue.Event.prototype),s.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===De.get(e,t)&&ue.event.add(e,t,w)},P=function(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")&&ue(e).children("tbody")[0]||e},A=function(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e},x=function(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e},D=function(e,t){var i,a,n,s,o,r;if(1===t.nodeType){if(De.hasData(e)&&(r=De.get(e).events))for(n in De.remove(t,"handle events"),r)for(i=0,a=r[n].length;i<a;i++)ue.event.add(t,n,r[n][i]);Ie.hasData(e)&&(s=Ie.access(e),o=ue.extend({},s),Ie.set(t,o))}},I=function(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ve.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)},M=function(e,t,i){for(var a,n=t?ue.filter(t,e):e,s=0;null!=(a=n[s]);s++)i||1!==a.nodeType||ue.cleanData(v(a)),a.parentNode&&(i&&He(a)&&g(v(a,"script")),a.parentNode.removeChild(a));return e},T=function(e,t,i){var a,n,s,o,r=e.style;return(i=i||tt(e))&&(""!==(o=i.getPropertyValue(t)||i[t])||He(e)||(o=ue.style(e,t)),!ne.pixelBoxStyles()&&et.test(o)&&at.test(t)&&(a=r.width,n=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=i.width,r.width=a,r.minWidth=n,r.maxWidth=s)),void 0!==o?o+"":o},E=function(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}},R=function(e){var t=ue.cssProps[e]||ot[e];return t||(e in st?e:ot[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=nt.length;i--;)if((e=nt[i]+t)in st)return e}(e)||e)},q=function(e,t,i){var a=Re.exec(t);return a?Math.max(0,a[2]-(i||0))+(a[3]||"px"):t},O=function(e,t,i,a,n,s){var o="width"===t?1:0,r=0,l=0;if(i===(a?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=ue.css(e,i+qe[o],!0,n)),a?("content"===i&&(l-=ue.css(e,"padding"+qe[o],!0,n)),"margin"!==i&&(l-=ue.css(e,"border"+qe[o]+"Width",!0,n))):(l+=ue.css(e,"padding"+qe[o],!0,n),"padding"!==i?l+=ue.css(e,"border"+qe[o]+"Width",!0,n):r+=ue.css(e,"border"+qe[o]+"Width",!0,n));return!a&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-r-.5))||0),l},H=function(e,t,i){var a=tt(e),n=(!ne.boxSizingReliable()||i)&&"border-box"===ue.css(e,"boxSizing",!1,a),s=n,r=T(e,t,a),l="offset"+t[0].toUpperCase()+t.slice(1);if(et.test(r)){if(!i)return r;r="auto"}return(!ne.boxSizingReliable()&&n||!ne.reliableTrDimensions()&&o(e,"tr")||"auto"===r||!parseFloat(r)&&"inline"===ue.css(e,"display",!1,a))&&e.getClientRects().length&&(n="border-box"===ue.css(e,"boxSizing",!1,a),(s=l in e)&&(r=e[l])),(r=parseFloat(r)||0)+O(e,t,i||(n?"border":"content"),s,a,r)+"px"},L=function(){return e.setTimeout((function(){ct=void 0})),ct=Date.now()},B=function(e,t){var i,a=0,n={height:e};for(t=t?1:0;a<4;a+=2-t)n["margin"+(i=qe[a])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n},F=function(e,t,i){for(var a,n=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),s=0,o=n.length;s<o;s++)if(a=n[s].call(i,t,e))return a},N=function(e){return(e.match(be)||[]).join(" ")},U=function(e){return e.getAttribute&&e.getAttribute("class")||""},V=function(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(be)||[]},W=function(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var a,n=0,s=t.toLowerCase().match(be)||[];if(se(i))for(;a=s[n++];)"+"===a[0]?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(i)):(e[a]=e[a]||[]).push(i)}},z=function(e,t,i,a){var n={},s=e===Ft;function o(r){var l;return n[r]=!0,ue.each(e[r]||[],(function(e,r){var d=r(t,i,a);return"string"!=typeof d||s||n[d]?s?!(l=d):void 0:(t.dataTypes.unshift(d),o(d),!1)})),l}return o(t.dataTypes[0])||!n["*"]&&o("*")},j=function(e,t){var i,a,n=ue.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((n[i]?e:a||(a={}))[i]=t[i]);return a&&ue.extend(!0,e,a),e},J=[],Q=Object.getPrototypeOf,G=J.slice,K=J.flat?function(e){return J.flat.call(e)}:function(e){return J.concat.apply([],e)},Y=J.push,Z=J.indexOf,X={},ee=X.toString,te=X.hasOwnProperty,ie=te.toString,ae=ie.call(Object),ne={},se=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},oe=function(e){return null!=e&&e===e.window},re=e.document,le={type:!0,src:!0,nonce:!0,noModule:!0},de="3.6.0",ue=function(e,t){return new ue.fn.init(e,t)};ue.fn=ue.prototype={jquery:de,constructor:ue,length:0,toArray:function(){return G.call(this)},get:function(e){return null==e?G.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ue.each(this,e)},map:function(e){return this.pushStack(ue.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ue.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(ue.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:Y,sort:J.sort,splice:J.splice},ue.extend=ue.fn.extend=function(){var e,t,i,a,n,s,o=arguments[0]||{},r=1,l=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[r]||{},r++),"object"==typeof o||se(o)||(o={}),r===l&&(o=this,r--);r<l;r++)if(null!=(e=arguments[r]))for(t in e)a=e[t],"__proto__"!==t&&o!==a&&(d&&a&&(ue.isPlainObject(a)||(n=Array.isArray(a)))?(i=o[t],s=n&&!Array.isArray(i)?[]:n||ue.isPlainObject(i)?i:{},n=!1,o[t]=ue.extend(d,s,a)):void 0!==a&&(o[t]=a));return o},ue.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==ee.call(e))&&(!(t=Q(e))||"function"==typeof(i=te.call(t,"constructor")&&t.constructor)&&ie.call(i)===ae)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){a(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,a=0;if(s(e))for(i=e.length;a<i&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},makeArray:function(e,t){var i=t||[];return null!=e&&(s(Object(e))?ue.merge(i,"string"==typeof e?[e]:e):Y.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:Z.call(t,e,i)},merge:function(e,t){for(var i=+t.length,a=0,n=e.length;a<i;a++)e[n++]=t[a];return e.length=n,e},grep:function(e,t,i){for(var a=[],n=0,s=e.length,o=!i;n<s;n++)!t(e[n],n)!==o&&a.push(e[n]);return a},map:function(e,t,i){var a,n,o=0,r=[];if(s(e))for(a=e.length;o<a;o++)null!=(n=t(e[o],o,i))&&r.push(n);else for(o in e)null!=(n=t(e[o],o,i))&&r.push(n);return K(r)},guid:1,support:ne}),"function"==typeof Symbol&&(ue.fn[Symbol.iterator]=J[Symbol.iterator]),ue.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){X["[object "+t+"]"]=t.toLowerCase()}));var he=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(e){var t,i,a,n,s,o,r,l,d,u,h,c,p,_,m,f,y,v,g,b=function(e,t,a,n){var s,r,d,u,h,_,y,v=t&&t.ownerDocument,b=t?t.nodeType:9;if(a=a||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return a;if(!n&&(c(t),t=t||p,m)){if(11!==b&&(h=me.exec(e)))if(s=h[1]){if(9===b){if(!(d=t.getElementById(s)))return a;if(d.id===s)return a.push(d),a}else if(v&&(d=v.getElementById(s))&&g(t,d)&&d.id===s)return a.push(d),a}else{if(h[2])return G.apply(a,t.getElementsByTagName(e)),a;if((s=h[3])&&i.getElementsByClassName&&t.getElementsByClassName)return G.apply(a,t.getElementsByClassName(s)),a}if(i.qsa&&!V[e+" "]&&(!f||!f.test(e))&&(1!==b||"object"!==t.nodeName.toLowerCase())){if(y=e,v=t,1===b&&(re.test(e)||oe.test(e))){for((v=fe.test(e)&&I(t.parentNode)||t)===t&&i.scope||((u=t.getAttribute("id"))?u=u.replace(ge,be):t.setAttribute("id",u=O)),r=(_=o(e)).length;r--;)_[r]=(u?"#"+u:":scope")+" "+T(_[r]);y=_.join(",")}try{return G.apply(a,v.querySelectorAll(y)),a}catch(t){V(e,!0)}finally{u===O&&t.removeAttribute("id")}}}return l(e.replace(ne,"$1"),t,a,n)},w=function(){var e=[];return function t(i,n){return e.push(i+" ")>a.cacheLength&&delete t[e.shift()],t[i+" "]=n}},k=function(e){return e[O]=!0,e},$=function(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}},C=function(e,t){for(var i=e.split("|"),n=i.length;n--;)a.attrHandle[i[n]]=t},S=function(e,t){var i=t&&e,a=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(a)return a;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1},P=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}},A=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}},x=function(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ke(t)===e:t.disabled===e:"label"in t&&t.disabled===e}},D=function(e){return k((function(t){return t=+t,k((function(i,a){for(var n,s=e([],i.length,t),o=s.length;o--;)i[n=s[o]]&&(i[n]=!(a[n]=i[n]))}))}))},I=function(e){return e&&void 0!==e.getElementsByTagName&&e},M=function(){},T=function(e){for(var t=0,i=e.length,a="";t<i;t++)a+=e[t].value;return a},E=function(e,t,i){var a=t.dir,n=t.next,s=n||a,o=i&&"parentNode"===s,r=B++;return t.first?function(t,i,n){for(;t=t[a];)if(1===t.nodeType||o)return e(t,i,n);return!1}:function(t,i,l){var d,u,h,c=[L,r];if(l){for(;t=t[a];)if((1===t.nodeType||o)&&e(t,i,l))return!0}else for(;t=t[a];)if(1===t.nodeType||o)if(u=(h=t[O]||(t[O]={}))[t.uniqueID]||(h[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[a]||t;else{if((d=u[s])&&d[0]===L&&d[1]===r)return c[2]=d[2];if(u[s]=c,c[2]=e(t,i,l))return!0}return!1}},R=function(e){return e.length>1?function(t,i,a){for(var n=e.length;n--;)if(!e[n](t,i,a))return!1;return!0}:e[0]},q=function(e,t,i,a,n){for(var s,o=[],r=0,l=e.length,d=null!=t;r<l;r++)(s=e[r])&&(i&&!i(s,a,n)||(o.push(s),d&&t.push(r)));return o},O="sizzle"+1*new Date,H=e.document,L=0,B=0,F=w(),N=w(),U=w(),V=w(),W=function(e,t){return e===t&&(h=!0),0},z={}.hasOwnProperty,j=[],J=j.pop,Q=j.push,G=j.push,K=j.slice,Y=function(e,t){for(var i=0,a=e.length;i<a;i++)if(e[i]===t)return i;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",X="[\\x20\\t\\r\\n\\f]",ee="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",te="\\[[\\x20\\t\\r\\n\\f]*("+ee+")(?:"+X+"*([*^$|!~]?=)"+X+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ee+"))|)"+X+"*\\]",ie=":("+ee+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+te+")*)|.*)\\)|)",ae=new RegExp(X+"+","g"),ne=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),se=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),oe=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),re=new RegExp(X+"|>"),le=new RegExp(ie),de=new RegExp("^"+ee+"$"),ue={ID:new RegExp("^#("+ee+")"),CLASS:new RegExp("^\\.("+ee+")"),TAG:new RegExp("^("+ee+"|[*])"),ATTR:new RegExp("^"+te),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},he=/HTML$/i,ce=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,_e=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fe=/[+~]/,ye=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ve=function(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},ge=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,be=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){c()},ke=E((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{G.apply(j=K.call(H.childNodes),H.childNodes),j[H.childNodes.length].nodeType}catch(e){G={apply:j.length?function(e,t){Q.apply(e,K.call(t))}:function(e,t){for(var i=e.length,a=0;e[i++]=t[a++];);e.length=i-1}}}for(t in i=b.support={},s=b.isXML=function(e){var t=e&&e.namespaceURI,i=e&&(e.ownerDocument||e).documentElement;return!he.test(t||i&&i.nodeName||"HTML")},c=b.setDocument=function(e){var t,n,o=e?e.ownerDocument||e:H;return o!=p&&9===o.nodeType&&o.documentElement?(_=(p=o).documentElement,m=!s(p),H!=p&&(n=p.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),i.scope=$((function(e){return _.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),i.attributes=$((function(e){return e.className="i",!e.getAttribute("className")})),i.getElementsByTagName=$((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),i.getElementsByClassName=_e.test(p.getElementsByClassName),i.getById=$((function(e){return _.appendChild(e).id=O,!p.getElementsByName||!p.getElementsByName(O).length})),i.getById?(a.filter.ID=function(e){var t=e.replace(ye,ve);return function(e){return e.getAttribute("id")===t}},a.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i=t.getElementById(e);return i?[i]:[]}}):(a.filter.ID=function(e){var t=e.replace(ye,ve);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},a.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i,a,n,s=t.getElementById(e);if(s){if((i=s.getAttributeNode("id"))&&i.value===e)return[s];for(n=t.getElementsByName(e),a=0;s=n[a++];)if((i=s.getAttributeNode("id"))&&i.value===e)return[s]}return[]}}),a.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,a=[],n=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[n++];)1===i.nodeType&&a.push(i);return a}return s},a.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],f=[],(i.qsa=_e.test(p.querySelectorAll))&&($((function(e){var t;_.appendChild(e).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&f.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||f.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+Z+")"),e.querySelectorAll("[id~="+O+"-]").length||f.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||f.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||f.push(":checked"),e.querySelectorAll("a#"+O+"+*").length||f.push(".#.+[+~]"),e.querySelectorAll("\\\f"),f.push("[\\r\\n\\f]")})),$((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&f.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&f.push(":enabled",":disabled"),_.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),f.push(",.*:")}))),(i.matchesSelector=_e.test(v=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&$((function(e){i.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),y.push("!=",ie)})),f=f.length&&new RegExp(f.join("|")),y=y.length&&new RegExp(y.join("|")),t=_e.test(_.compareDocumentPosition),g=t||_e.test(_.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!(!a||1!==a.nodeType||!(i.contains?i.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return h=!0,0;var a=!e.compareDocumentPosition-!t.compareDocumentPosition;return a||(1&(a=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===a?e==p||e.ownerDocument==H&&g(H,e)?-1:t==p||t.ownerDocument==H&&g(H,t)?1:u?Y(u,e)-Y(u,t):0:4&a?-1:1)}:function(e,t){if(e===t)return h=!0,0;var i,a=0,n=e.parentNode,s=t.parentNode,o=[e],r=[t];if(!n||!s)return e==p?-1:t==p?1:n?-1:s?1:u?Y(u,e)-Y(u,t):0;if(n===s)return S(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)r.unshift(i);for(;o[a]===r[a];)a++;return a?S(o[a],r[a]):o[a]==H?-1:r[a]==H?1:0},p):p},b.matches=function(e,t){return b(e,null,null,t)},b.matchesSelector=function(e,t){if(c(e),i.matchesSelector&&m&&!V[t+" "]&&(!y||!y.test(t))&&(!f||!f.test(t)))try{var a=v.call(e,t);if(a||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(e){V(t,!0)}return b(t,p,null,[e]).length>0},b.contains=function(e,t){return(e.ownerDocument||e)!=p&&c(e),g(e,t)},b.attr=function(e,t){(e.ownerDocument||e)!=p&&c(e);var n=a.attrHandle[t.toLowerCase()],s=n&&z.call(a.attrHandle,t.toLowerCase())?n(e,t,!m):void 0;return void 0!==s?s:i.attributes||!m?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},b.escape=function(e){return(e+"").replace(ge,be)},b.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},b.uniqueSort=function(e){var t,a=[],n=0,s=0;if(h=!i.detectDuplicates,u=!i.sortStable&&e.slice(0),e.sort(W),h){for(;t=e[s++];)t===e[s]&&(n=a.push(s));for(;n--;)e.splice(a[n],1)}return u=null,e},n=b.getText=function(e){var t,i="",a=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=n(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[a++];)i+=n(t);return i},a=b.selectors={cacheLength:50,createPseudo:k,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,ve),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,ve),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||b.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&b.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ue.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&le.test(i)&&(t=o(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,ve).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+X+"|$)"),F(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})))},ATTR:function(e,t,i){return function(a){var n=b.attr(a,e);return null==n?"!="===t:!t||(n+="","="===t?n===i:"!="===t?n!==i:"^="===t?i&&0===n.indexOf(i):"*="===t?i&&n.indexOf(i)>-1:"$="===t?i&&n.slice(-i.length)===i:"~="===t?(" "+n.replace(ae," ")+" ").indexOf(i)>-1:"|="===t&&(n===i||n.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,a,n){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),r="of-type"===t;return 1===a&&0===n?function(e){return!!e.parentNode}:function(t,i,l){var d,u,h,c,p,_,m=s!==o?"nextSibling":"previousSibling",f=t.parentNode,y=r&&t.nodeName.toLowerCase(),v=!l&&!r,g=!1;if(f){if(s){for(;m;){for(c=t;c=c[m];)if(r?c.nodeName.toLowerCase()===y:1===c.nodeType)return!1;_=m="only"===e&&!_&&"nextSibling"}return!0}if(_=[o?f.firstChild:f.lastChild],o&&v){for(g=(p=(d=(u=(h=(c=f)[O]||(c[O]={}))[c.uniqueID]||(h[c.uniqueID]={}))[e]||[])[0]===L&&d[1])&&d[2],c=p&&f.childNodes[p];c=++p&&c&&c[m]||(g=p=0)||_.pop();)if(1===c.nodeType&&++g&&c===t){u[e]=[L,p,g];break}}else if(v&&(g=p=(d=(u=(h=(c=t)[O]||(c[O]={}))[c.uniqueID]||(h[c.uniqueID]={}))[e]||[])[0]===L&&d[1]),!1===g)for(;(c=++p&&c&&c[m]||(g=p=0)||_.pop())&&((r?c.nodeName.toLowerCase()!==y:1!==c.nodeType)||!++g||(v&&((u=(h=c[O]||(c[O]={}))[c.uniqueID]||(h[c.uniqueID]={}))[e]=[L,g]),c!==t)););return(g-=n)===a||g%a==0&&g/a>=0}}},PSEUDO:function(e,t){var i,n=a.pseudos[e]||a.setFilters[e.toLowerCase()]||b.error("unsupported pseudo: "+e);return n[O]?n(t):n.length>1?(i=[e,e,"",t],a.setFilters.hasOwnProperty(e.toLowerCase())?k((function(e,i){for(var a,s=n(e,t),o=s.length;o--;)e[a=Y(e,s[o])]=!(i[a]=s[o])})):function(e){return n(e,0,i)}):n}},pseudos:{not:k((function(e){var t=[],i=[],a=r(e.replace(ne,"$1"));return a[O]?k((function(e,t,i,n){for(var s,o=a(e,null,n,[]),r=e.length;r--;)(s=o[r])&&(e[r]=!(t[r]=s))})):function(e,n,s){return t[0]=e,a(t,null,s,i),t[0]=null,!i.pop()}})),has:k((function(e){return function(t){return b(e,t).length>0}})),contains:k((function(e){return e=e.replace(ye,ve),function(t){return(t.textContent||n(t)).indexOf(e)>-1}})),lang:k((function(e){return de.test(e||"")||b.error("unsupported lang: "+e),e=e.replace(ye,ve).toLowerCase(),function(t){var i;do{if(i=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===_},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:x(!1),disabled:x(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!a.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return ce.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:D((function(){return[0]})),last:D((function(e,t){return[t-1]})),eq:D((function(e,t,i){return[i<0?i+t:i]})),even:D((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:D((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:D((function(e,t,i){for(var a=i<0?i+t:i>t?t:i;--a>=0;)e.push(a);return e})),gt:D((function(e,t,i){for(var a=i<0?i+t:i;++a<t;)e.push(a);return e}))}},a.pseudos.nth=a.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})a.pseudos[t]=P(t);for(t in{submit:!0,reset:!0})a.pseudos[t]=A(t);function $e(e,t,i,a,n,s){return a&&!a[O]&&(a=$e(a)),n&&!n[O]&&(n=$e(n,s)),k((function(s,o,r,l){var d,u,h,c=[],p=[],_=o.length,m=s||function(e,t,i){for(var a=0,n=t.length;a<n;a++)b(e,t[a],i);return i}(t||"*",r.nodeType?[r]:r,[]),f=!e||!s&&t?m:q(m,c,e,r,l),y=i?n||(s?e:_||a)?[]:o:f;if(i&&i(f,y,r,l),a)for(d=q(y,p),a(d,[],r,l),u=d.length;u--;)(h=d[u])&&(y[p[u]]=!(f[p[u]]=h));if(s){if(n||e){if(n){for(d=[],u=y.length;u--;)(h=y[u])&&d.push(f[u]=h);n(null,y=[],d,l)}for(u=y.length;u--;)(h=y[u])&&(d=n?Y(s,h):c[u])>-1&&(s[d]=!(o[d]=h))}}else y=q(y===o?y.splice(_,y.length):y),n?n(null,o,y,l):G.apply(o,y)}))}function Ce(e){for(var t,i,n,s=e.length,o=a.relative[e[0].type],r=o||a.relative[" "],l=o?1:0,u=E((function(e){return e===t}),r,!0),h=E((function(e){return Y(t,e)>-1}),r,!0),c=[function(e,i,a){var n=!o&&(a||i!==d)||((t=i).nodeType?u(e,i,a):h(e,i,a));return t=null,n}];l<s;l++)if(i=a.relative[e[l].type])c=[E(R(c),i)];else{if((i=a.filter[e[l].type].apply(null,e[l].matches))[O]){for(n=++l;n<s&&!a.relative[e[n].type];n++);return $e(l>1&&R(c),l>1&&T(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(ne,"$1"),i,l<n&&Ce(e.slice(l,n)),n<s&&Ce(e=e.slice(n)),n<s&&T(e))}c.push(i)}return R(c)}return M.prototype=a.filters=a.pseudos,a.setFilters=new M,o=b.tokenize=function(e,t){var i,n,s,o,r,l,d,u=N[e+" "];if(u)return t?0:u.slice(0);for(r=e,l=[],d=a.preFilter;r;){for(o in i&&!(n=se.exec(r))||(n&&(r=r.slice(n[0].length)||r),l.push(s=[])),i=!1,(n=oe.exec(r))&&(i=n.shift(),s.push({value:i,type:n[0].replace(ne," ")}),r=r.slice(i.length)),a.filter)!(n=ue[o].exec(r))||d[o]&&!(n=d[o](n))||(i=n.shift(),s.push({value:i,type:o,matches:n}),r=r.slice(i.length));if(!i)break}return t?r.length:r?b.error(e):N(e,l).slice(0)},r=b.compile=function(e,t){var i,n=[],s=[],r=U[e+" "];if(!r){for(t||(t=o(e)),i=t.length;i--;)(r=Ce(t[i]))[O]?n.push(r):s.push(r);r=U(e,function(e,t){var i=t.length>0,n=e.length>0,s=function(s,o,r,l,u){var h,_,f,y=0,v="0",g=s&&[],w=[],k=d,$=s||n&&a.find.TAG("*",u),C=L+=null==k?1:Math.random()||.1,S=$.length;for(u&&(d=o==p||o||u);v!==S&&null!=(h=$[v]);v++){if(n&&h){for(_=0,o||h.ownerDocument==p||(c(h),r=!m);f=e[_++];)if(f(h,o||p,r)){l.push(h);break}u&&(L=C)}i&&((h=!f&&h)&&y--,s&&g.push(h))}if(y+=v,i&&v!==y){for(_=0;f=t[_++];)f(g,w,o,r);if(s){if(y>0)for(;v--;)g[v]||w[v]||(w[v]=J.call(l));w=q(w)}G.apply(l,w),u&&!s&&w.length>0&&y+t.length>1&&b.uniqueSort(l)}return u&&(L=C,d=k),g};return i?k(s):s}(s,n)),r.selector=e}return r},l=b.select=function(e,t,i,n){var s,l,d,u,h,c="function"==typeof e&&e,p=!n&&o(e=c.selector||e);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(d=l[0]).type&&9===t.nodeType&&m&&a.relative[l[1].type]){if(!(t=(a.find.ID(d.matches[0].replace(ye,ve),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(s=ue.needsContext.test(e)?0:l.length;s--&&(d=l[s],!a.relative[u=d.type]);)if((h=a.find[u])&&(n=h(d.matches[0].replace(ye,ve),fe.test(l[0].type)&&I(t.parentNode)||t))){if(l.splice(s,1),!(e=n.length&&T(l)))return G.apply(i,n),i;break}}return(c||r(e,p))(n,t,!m,i,!t||fe.test(e)&&I(t.parentNode)||t),i},i.sortStable=O.split("").sort(W).join("")===O,i.detectDuplicates=!!h,c(),i.sortDetached=$((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),$((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||C("type|href|height|width",(function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),i.attributes&&$((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||C("value",(function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),$((function(e){return null==e.getAttribute("disabled")}))||C(Z,(function(e,t,i){var a;if(!i)return!0===e[t]?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null})),b}(e);ue.find=he,ue.expr=he.selectors,ue.expr[":"]=ue.expr.pseudos,ue.uniqueSort=ue.unique=he.uniqueSort,ue.text=he.getText,ue.isXMLDoc=he.isXML,ue.contains=he.contains,ue.escapeSelector=he.escape;var ce=function(e,t,i){for(var a=[],n=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&ue(e).is(i))break;a.push(e)}return a},pe=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},_e=ue.expr.match.needsContext,me=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;ue.filter=function(e,t,i){var a=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?ue.find.matchesSelector(a,e)?[a]:[]:ue.find.matches(e,ue.grep(t,(function(e){return 1===e.nodeType})))},ue.fn.extend({find:function(e){var t,i,a=this.length,n=this;if("string"!=typeof e)return this.pushStack(ue(e).filter((function(){for(t=0;t<a;t++)if(ue.contains(n[t],this))return!0})));for(i=this.pushStack([]),t=0;t<a;t++)ue.find(e,n[t],i);return a>1?ue.uniqueSort(i):i},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&_e.test(e)?ue(e):e||[],!1).length}});var fe,ye=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ue.fn.init=function(e,t,i){var a,n;if(!e)return this;if(i=i||fe,"string"==typeof e){if(!(a="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ye.exec(e))||!a[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(a[1]){if(t=t instanceof ue?t[0]:t,ue.merge(this,ue.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),me.test(a[1])&&ue.isPlainObject(t))for(a in t)se(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}return(n=re.getElementById(a[2]))&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):se(e)?void 0!==i.ready?i.ready(e):e(ue):ue.makeArray(e,this)}).prototype=ue.fn,fe=ue(re);var ve=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({has:function(e){var t=ue(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(ue.contains(this,t[e]))return!0}))},closest:function(e,t){var i,a=0,n=this.length,s=[],o="string"!=typeof e&&ue(e);if(!_e.test(e))for(;a<n;a++)for(i=this[a];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&ue.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?ue.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?Z.call(ue(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ue.uniqueSort(ue.merge(this.get(),ue(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ce(e,"parentNode")},parentsUntil:function(e,t,i){return ce(e,"parentNode",i)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return ce(e,"nextSibling")},prevAll:function(e){return ce(e,"previousSibling")},nextUntil:function(e,t,i){return ce(e,"nextSibling",i)},prevUntil:function(e,t,i){return ce(e,"previousSibling",i)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return null!=e.contentDocument&&Q(e.contentDocument)?e.contentDocument:(o(e,"template")&&(e=e.content||e),ue.merge([],e.childNodes))}},(function(e,t){ue.fn[e]=function(i,a){var n=ue.map(this,t,i);return"Until"!==e.slice(-5)&&(a=i),a&&"string"==typeof a&&(n=ue.filter(a,n)),this.length>1&&(ge[e]||ue.uniqueSort(n),ve.test(e)&&n.reverse()),this.pushStack(n)}}));var be=/[^\x20\t\r\n\f]+/g;ue.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return ue.each(e.match(be)||[],(function(e,i){t[i]=!0})),t}(e):ue.extend({},e);var t,i,a,s,o=[],r=[],l=-1,d=function(){for(s=s||e.once,a=t=!0;r.length;l=-1)for(i=r.shift();++l<o.length;)!1===o[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=o.length,i=!1);e.memory||(i=!1),t=!1,s&&(o=i?[]:"")},u={add:function(){return o&&(i&&!t&&(l=o.length-1,r.push(i)),function t(i){ue.each(i,(function(i,a){se(a)?e.unique&&u.has(a)||o.push(a):a&&a.length&&"string"!==n(a)&&t(a)}))}(arguments),i&&!t&&d()),this},remove:function(){return ue.each(arguments,(function(e,t){for(var i;(i=ue.inArray(t,o,i))>-1;)o.splice(i,1),i<=l&&l--})),this},has:function(e){return e?ue.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=r=[],o=i="",this},disabled:function(){return!o},lock:function(){return s=r=[],i||t||(o=i=""),this},locked:function(){return!!s},fireWith:function(e,i){return s||(i=[e,(i=i||[]).slice?i.slice():i],r.push(i),t||d()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!a}};return u},ue.extend({Deferred:function(t){var i=[["notify","progress",ue.Callbacks("memory"),ue.Callbacks("memory"),2],["resolve","done",ue.Callbacks("once memory"),ue.Callbacks("once memory"),0,"resolved"],["reject","fail",ue.Callbacks("once memory"),ue.Callbacks("once memory"),1,"rejected"]],a="pending",n={state:function(){return a},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return ue.Deferred((function(t){ue.each(i,(function(i,a){var n=se(e[a[4]])&&e[a[4]];s[a[1]]((function(){var e=n&&n.apply(this,arguments);e&&se(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[a[0]+"With"](this,n?[e]:arguments)}))})),e=null})).promise()},then:function(t,a,n){var s=0;function o(t,i,a,n){return function(){var r=this,l=arguments,h=function(){var e,h;if(!(t<s)){if((e=a.apply(r,l))===i.promise())throw new TypeError("Thenable self-resolution");h=e&&("object"==typeof e||"function"==typeof e)&&e.then,se(h)?n?h.call(e,o(s,i,d,n),o(s,i,u,n)):(s++,h.call(e,o(s,i,d,n),o(s,i,u,n),o(s,i,d,i.notifyWith))):(a!==d&&(r=void 0,l=[e]),(n||i.resolveWith)(r,l))}},c=n?h:function(){try{h()}catch(e){ue.Deferred.exceptionHook&&ue.Deferred.exceptionHook(e,c.stackTrace),t+1>=s&&(a!==u&&(r=void 0,l=[e]),i.rejectWith(r,l))}};t?c():(ue.Deferred.getStackHook&&(c.stackTrace=ue.Deferred.getStackHook()),e.setTimeout(c))}}return ue.Deferred((function(e){i[0][3].add(o(0,e,se(n)?n:d,e.notifyWith)),i[1][3].add(o(0,e,se(t)?t:d)),i[2][3].add(o(0,e,se(a)?a:u))})).promise()},promise:function(e){return null!=e?ue.extend(e,n):n}},s={};return ue.each(i,(function(e,t){var o=t[2],r=t[5];n[t[1]]=o.add,r&&o.add((function(){a=r}),i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),o.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=o.fireWith})),n.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,i=t,a=Array(i),n=G.call(arguments),s=ue.Deferred(),o=function(e){return function(i){a[e]=this,n[e]=arguments.length>1?G.call(arguments):i,--t||s.resolveWith(a,n)}};if(t<=1&&(h(e,s.done(o(i)).resolve,s.reject,!t),"pending"===s.state()||se(n[i]&&n[i].then)))return s.then();for(;i--;)h(n[i],o(i),s.reject);return s.promise()}});var we=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ue.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&we.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},ue.readyException=function(t){e.setTimeout((function(){throw t}))};var ke=ue.Deferred();function $e(){re.removeEventListener("DOMContentLoaded",$e),e.removeEventListener("load",$e),ue.ready()}ue.fn.ready=function(e){return ke.then(e).catch((function(e){ue.readyException(e)})),this},ue.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ue.readyWait:ue.isReady)||(ue.isReady=!0,!0!==e&&--ue.readyWait>0||ke.resolveWith(re,[ue]))}}),ue.ready.then=ke.then,"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll?e.setTimeout(ue.ready):(re.addEventListener("DOMContentLoaded",$e),e.addEventListener("load",$e));var Ce=function(e,t,i,a,s,o,r){var l=0,d=e.length,u=null==i;if("object"===n(i))for(l in s=!0,i)Ce(e,t,l,i[l],!0,o,r);else if(void 0!==a&&(s=!0,se(a)||(r=!0),u&&(r?(t.call(e,a),t=null):(u=t,t=function(e,t,i){return u.call(ue(e),i)})),t))for(;l<d;l++)t(e[l],i,r?a:a.call(e[l],l,t(e[l],i)));return s?e:u?t.call(e):d?t(e[0],i):o},Se=/^-ms-/,Pe=/-([a-z])/g,Ae=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function xe(){this.expando=ue.expando+xe.uid++}xe.uid=1,xe.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ae(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var a,n=this.cache(e);if("string"==typeof t)n[p(t)]=i;else for(a in t)n[p(a)]=t[a];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][p(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,a=e[this.expando];if(void 0!==a){if(void 0!==t){i=(t=Array.isArray(t)?t.map(p):(t=p(t))in a?[t]:t.match(be)||[]).length;for(;i--;)delete a[t[i]]}(void 0===t||ue.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ue.isEmptyObject(t)}};var De=new xe,Ie=new xe,Me=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Te=/[A-Z]/g;ue.extend({hasData:function(e){return Ie.hasData(e)||De.hasData(e)},data:function(e,t,i){return Ie.access(e,t,i)},removeData:function(e,t){Ie.remove(e,t)},_data:function(e,t,i){return De.access(e,t,i)},_removeData:function(e,t){De.remove(e,t)}}),ue.fn.extend({data:function(e,t){var i,a,n,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(n=Ie.get(s),1===s.nodeType&&!De.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(a=o[i].name).indexOf("data-")&&(a=p(a.slice(5)),_(s,a,n[a]));De.set(s,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each((function(){Ie.set(this,e)})):Ce(this,(function(t){var i;if(s&&void 0===t)return void 0!==(i=Ie.get(s,e))||void 0!==(i=_(s,e))?i:void 0;this.each((function(){Ie.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Ie.remove(this,e)}))}}),ue.extend({queue:function(e,t,i){var a;if(e)return t=(t||"fx")+"queue",a=De.get(e,t),i&&(!a||Array.isArray(i)?a=De.access(e,t,ue.makeArray(i)):a.push(i)),a||[]},dequeue:function(e,t){t=t||"fx";var i=ue.queue(e,t),a=i.length,n=i.shift(),s=ue._queueHooks(e,t);"inprogress"===n&&(n=i.shift(),a--),n&&("fx"===t&&i.unshift("inprogress"),delete s.stop,n.call(e,(function(){ue.dequeue(e,t)}),s)),!a&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return De.get(e,i)||De.access(e,i,{empty:ue.Callbacks("once memory").add((function(){De.remove(e,[t+"queue",i])}))})}}),ue.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?ue.queue(this[0],e):void 0===t?this:this.each((function(){var i=ue.queue(this,e,t);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&ue.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){ue.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,a=1,n=ue.Deferred(),s=this,o=this.length,r=function(){--a||n.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=De.get(s[o],e+"queueHooks"))&&i.empty&&(a++,i.empty.add(r));return r(),n.promise(t)}});var Ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Re=new RegExp("^(?:([+-])=|)("+Ee+")([a-z%]*)$","i"),qe=["Top","Right","Bottom","Left"],Oe=re.documentElement,He=function(e){return ue.contains(e.ownerDocument,e)},Le={composed:!0};Oe.getRootNode&&(He=function(e){return ue.contains(e.ownerDocument,e)||e.getRootNode(Le)===e.ownerDocument});var Be=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&He(e)&&"none"===ue.css(e,"display")},Fe={};ue.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Be(this)?ue(this).show():ue(this).hide()}))}});var Ne,Ue,Ve=/^(?:checkbox|radio)$/i,We=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ze=/^$|^module$|\/(?:java|ecma)script/i;Ne=re.createDocumentFragment().appendChild(re.createElement("div")),(Ue=re.createElement("input")).setAttribute("type","radio"),Ue.setAttribute("checked","checked"),Ue.setAttribute("name","t"),Ne.appendChild(Ue),ne.checkClone=Ne.cloneNode(!0).cloneNode(!0).lastChild.checked,Ne.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!Ne.cloneNode(!0).lastChild.defaultValue,Ne.innerHTML="<option></option>",ne.option=!!Ne.lastChild;var je={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td,ne.option||(je.optgroup=je.option=[1,"<select multiple='multiple'>","</select>"]);var Je=/<|&#?\w+;/,Qe=/^([^.]*)(?:\.(.+)|)/;function Ge(e,t,i,a,n,s){var o,r;if("object"==typeof t){for(r in"string"!=typeof i&&(a=a||i,i=void 0),t)Ge(e,r,i,a,t[r],s);return e}if(null==a&&null==n?(n=i,a=i=void 0):null==n&&("string"==typeof i?(n=a,a=void 0):(n=a,a=i,i=void 0)),!1===n)n=k;else if(!n)return e;return 1===s&&(o=n,n=function(e){return ue().off(e),o.apply(this,arguments)},n.guid=o.guid||(o.guid=ue.guid++)),e.each((function(){ue.event.add(this,t,n,a,i)}))}ue.event={global:{},add:function(e,t,i,a,n){var s,o,r,l,d,u,h,c,p,_,m,f=De.get(e);if(Ae(e))for(i.handler&&(i=(s=i).handler,n=s.selector),n&&ue.find.matchesSelector(Oe,n),i.guid||(i.guid=ue.guid++),(l=f.events)||(l=f.events=Object.create(null)),(o=f.handle)||(o=f.handle=function(t){return void 0!==ue&&ue.event.triggered!==t.type?ue.event.dispatch.apply(e,arguments):void 0}),d=(t=(t||"").match(be)||[""]).length;d--;)p=m=(r=Qe.exec(t[d])||[])[1],_=(r[2]||"").split(".").sort(),p&&(h=ue.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,h=ue.event.special[p]||{},u=ue.extend({type:p,origType:m,data:a,handler:i,guid:i.guid,selector:n,needsContext:n&&ue.expr.match.needsContext.test(n),namespace:_.join(".")},s),(c=l[p])||((c=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,a,_,o)||e.addEventListener&&e.addEventListener(p,o)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),n?c.splice(c.delegateCount++,0,u):c.push(u),ue.event.global[p]=!0)},remove:function(e,t,i,a,n){var s,o,r,l,d,u,h,c,p,_,m,f=De.hasData(e)&&De.get(e);if(f&&(l=f.events)){for(d=(t=(t||"").match(be)||[""]).length;d--;)if(p=m=(r=Qe.exec(t[d])||[])[1],_=(r[2]||"").split(".").sort(),p){for(h=ue.event.special[p]||{},c=l[p=(a?h.delegateType:h.bindType)||p]||[],r=r[2]&&new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=c.length;s--;)u=c[s],!n&&m!==u.origType||i&&i.guid!==u.guid||r&&!r.test(u.namespace)||a&&a!==u.selector&&("**"!==a||!u.selector)||(c.splice(s,1),u.selector&&c.delegateCount--,h.remove&&h.remove.call(e,u));o&&!c.length&&(h.teardown&&!1!==h.teardown.call(e,_,f.handle)||ue.removeEvent(e,p,f.handle),delete l[p])}else for(p in l)ue.event.remove(e,p+t[d],i,a,!0);ue.isEmptyObject(l)&&De.remove(e,"handle events")}},dispatch:function(e){var t,i,a,n,s,o,r=new Array(arguments.length),l=ue.event.fix(e),d=(De.get(this,"events")||Object.create(null))[l.type]||[],u=ue.event.special[l.type]||{};for(r[0]=l,t=1;t<arguments.length;t++)r[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=ue.event.handlers.call(this,l,d),t=0;(n=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=n.elem,i=0;(s=n.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(a=((ue.event.special[s.origType]||{}).handle||s.handler).apply(n.elem,r))&&!1===(l.result=a)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,a,n,s,o,r=[],l=t.delegateCount,d=e.target;if(l&&d.nodeType&&!("click"===e.type&&e.button>=1))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==e.type||!0!==d.disabled)){for(s=[],o={},i=0;i<l;i++)void 0===o[n=(a=t[i]).selector+" "]&&(o[n]=a.needsContext?ue(n,this).index(d)>-1:ue.find(n,this,null,[d]).length),o[n]&&s.push(a);s.length&&r.push({elem:d,handlers:s})}return d=this,l<t.length&&r.push({elem:d,handlers:t.slice(l)}),r},addProp:function(e,t){Object.defineProperty(ue.Event.prototype,e,{enumerable:!0,configurable:!0,get:se(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ue.expando]?e:new ue.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ve.test(t.type)&&t.click&&o(t,"input")&&S(t,"click",w),!1},trigger:function(e){var t=this||e;return Ve.test(t.type)&&t.click&&o(t,"input")&&S(t,"click"),!0},_default:function(e){var t=e.target;return Ve.test(t.type)&&t.click&&o(t,"input")&&De.get(t,"click")||o(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ue.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},ue.Event=function(e,t){if(!(this instanceof ue.Event))return new ue.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?w:k,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ue.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ue.expando]=!0},ue.Event.prototype={constructor:ue.Event,isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=w,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=w,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=w,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ue.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ue.event.addProp),ue.each({focus:"focusin",blur:"focusout"},(function(e,t){ue.event.special[e]={setup:function(){return S(this,e,$),!1},trigger:function(){return S(this,e),!0},_default:function(){return!0},delegateType:t}})),ue.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,a=this,n=e.relatedTarget,s=e.handleObj;return n&&(n===a||ue.contains(a,n))||(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}})),ue.fn.extend({on:function(e,t,i,a){return Ge(this,e,t,i,a)},one:function(e,t,i,a){return Ge(this,e,t,i,a,1)},off:function(e,t,i){var a,n;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,ue(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=k),this.each((function(){ue.event.remove(this,e,i,t)}))}});var Ke=/<script|<style|<link/i,Ye=/checked\s*(?:[^=]|=\s*.checked.)/i,Ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Xe(e,t,i,n){t=K(t);var s,o,r,l,d,u,h=0,c=e.length,p=c-1,_=t[0],m=se(_);if(m||c>1&&"string"==typeof _&&!ne.checkClone&&Ye.test(_))return e.each((function(a){var s=e.eq(a);m&&(t[0]=_.call(this,a,s.html())),Xe(s,t,i,n)}));if(c&&(o=(s=b(t,e[0].ownerDocument,!1,e,n)).firstChild,1===s.childNodes.length&&(s=o),o||n)){for(l=(r=ue.map(v(s,"script"),A)).length;h<c;h++)d=s,h!==p&&(d=ue.clone(d,!0,!0),l&&ue.merge(r,v(d,"script"))),i.call(e[h],d,h);if(l)for(u=r[r.length-1].ownerDocument,ue.map(r,x),h=0;h<l;h++)d=r[h],ze.test(d.type||"")&&!De.access(d,"globalEval")&&ue.contains(u,d)&&(d.src&&"module"!==(d.type||"").toLowerCase()?ue._evalUrl&&!d.noModule&&ue._evalUrl(d.src,{nonce:d.nonce||d.getAttribute("nonce")},u):a(d.textContent.replace(Ze,""),d,u))}return e}ue.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var a,n,s,o,r=e.cloneNode(!0),l=He(e);if(!(ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(o=v(r),a=0,n=(s=v(e)).length;a<n;a++)I(s[a],o[a]);if(t)if(i)for(s=s||v(e),o=o||v(r),a=0,n=s.length;a<n;a++)D(s[a],o[a]);else D(e,r);return(o=v(r,"script")).length>0&&g(o,!l&&v(e,"script")),r},cleanData:function(e){for(var t,i,a,n=ue.event.special,s=0;void 0!==(i=e[s]);s++)if(Ae(i)){if(t=i[De.expando]){if(t.events)for(a in t.events)n[a]?ue.event.remove(i,a):ue.removeEvent(i,a,t.handle);i[De.expando]=void 0}i[Ie.expando]&&(i[Ie.expando]=void 0)}}}),ue.fn.extend({detach:function(e){return M(this,e,!0)},remove:function(e){return M(this,e)},text:function(e){return Ce(this,(function(e){return void 0===e?ue.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Xe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||P(this,e).appendChild(e)}))},prepend:function(){return Xe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=P(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Xe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Xe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ue.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return ue.clone(this,e,t)}))},html:function(e){return Ce(this,(function(e){var t=this[0]||{},i=0,a=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ke.test(e)&&!je[(We.exec(e)||["",""])[1].toLowerCase()]){e=ue.htmlPrefilter(e);try{for(;i<a;i++)1===(t=this[i]||{}).nodeType&&(ue.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Xe(this,arguments,(function(t){var i=this.parentNode;ue.inArray(this,e)<0&&(ue.cleanData(v(this)),i&&i.replaceChild(t,this))}),e)}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){ue.fn[e]=function(e){for(var i,a=[],n=ue(e),s=n.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),ue(n[o])[t](i),Y.apply(a,i.get());return this.pushStack(a)}}));var et=new RegExp("^("+Ee+")(?!px)[a-z%]+$","i"),tt=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},it=function(e,t,i){var a,n,s={};for(n in t)s[n]=e.style[n],e.style[n]=t[n];for(n in a=i.call(e),t)e.style[n]=s[n];return a},at=new RegExp(qe.join("|"),"i");!function(){var t,i,a,n,s,o,r=function(){if(u){d.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Oe.appendChild(d).appendChild(u);var s=e.getComputedStyle(u);t="1%"!==s.top,o=12===l(s.marginLeft),u.style.right="60%",n=36===l(s.right),i=36===l(s.width),u.style.position="absolute",a=12===l(u.offsetWidth/3),Oe.removeChild(d),u=null}},l=function(e){return Math.round(parseFloat(e))},d=re.createElement("div"),u=re.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===u.style.backgroundClip,ue.extend(ne,{boxSizingReliable:function(){return r(),i},pixelBoxStyles:function(){return r(),n},pixelPosition:function(){return r(),t},reliableMarginLeft:function(){return r(),o},scrollboxSize:function(){return r(),a},reliableTrDimensions:function(){var t,i,a,n;return null==s&&(t=re.createElement("table"),i=re.createElement("tr"),a=re.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",i.style.cssText="border:1px solid",i.style.height="1px",a.style.height="9px",a.style.display="block",Oe.appendChild(t).appendChild(i).appendChild(a),n=e.getComputedStyle(i),s=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===i.offsetHeight,Oe.removeChild(t)),s}}))}();var nt=["Webkit","Moz","ms"],st=re.createElement("div").style,ot={},rt=/^(none|table(?!-c[ea]).+)/,lt=/^--/,dt={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"};function ht(e,t,i,a,n){return new ht.prototype.init(e,t,i,a,n)}ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=T(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,a,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,r,l=p(t),d=lt.test(t),u=e.style;if(d||(t=R(l)),r=ue.cssHooks[t]||ue.cssHooks[l],void 0===a)return r&&"get"in r&&void 0!==(s=r.get(e,!1,n))?s:u[t];"string"===(o=void 0===a?"undefined":i.default(a))&&(s=Re.exec(a))&&s[1]&&(a=m(e,t,s),o="number"),null!=a&&a==a&&("number"!==o||d||(a+=s&&s[3]||(ue.cssNumber[l]?"":"px")),ne.clearCloneStyle||""!==a||0!==t.indexOf("background")||(u[t]="inherit"),r&&"set"in r&&void 0===(a=r.set(e,a,n))||(d?u.setProperty(t,a):u[t]=a))}},css:function(e,t,i,a){var n,s,o,r=p(t);return lt.test(t)||(t=R(r)),(o=ue.cssHooks[t]||ue.cssHooks[r])&&"get"in o&&(n=o.get(e,!0,i)),void 0===n&&(n=T(e,t,a)),"normal"===n&&t in ut&&(n=ut[t]),""===i||i?(s=parseFloat(n),!0===i||isFinite(s)?s||0:n):n}}),ue.each(["height","width"],(function(e,t){ue.cssHooks[t]={get:function(e,i,a){if(i)return!rt.test(ue.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?H(e,t,a):it(e,dt,(function(){return H(e,t,a)}))},set:function(e,i,a){var n,s=tt(e),o=!ne.scrollboxSize()&&"absolute"===s.position,r=(o||a)&&"border-box"===ue.css(e,"boxSizing",!1,s),l=a?O(e,t,a,r,s):0;return r&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-O(e,t,"border",!1,s)-.5)),l&&(n=Re.exec(i))&&"px"!==(n[3]||"px")&&(e.style[t]=i,i=ue.css(e,t)),q(0,i,l)}}})),ue.cssHooks.marginLeft=E(ne.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(T(e,"marginLeft"))||e.getBoundingClientRect().left-it(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),ue.each({margin:"",padding:"",border:"Width"},(function(e,t){ue.cssHooks[e+t]={expand:function(i){for(var a=0,n={},s="string"==typeof i?i.split(" "):[i];a<4;a++)n[e+qe[a]+t]=s[a]||s[a-2]||s[0];return n}},"margin"!==e&&(ue.cssHooks[e+t].set=q)})),ue.fn.extend({css:function(e,t){return Ce(this,(function(e,t,i){var a,n,s={},o=0;if(Array.isArray(t)){for(a=tt(e),n=t.length;o<n;o++)s[t[o]]=ue.css(e,t[o],!1,a);return s}return void 0!==i?ue.style(e,t,i):ue.css(e,t)}),e,t,arguments.length>1)}}),ue.Tween=ht,ht.prototype={constructor:ht,init:function(e,t,i,a,n,s){this.elem=e,this.prop=i,this.easing=n||ue.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=s||(ue.cssNumber[i]?"":"px")},cur:function(){var e=ht.propHooks[this.prop];return e&&e.get?e.get(this):ht.propHooks._default.get(this)},run:function(e){var t,i=ht.propHooks[this.prop];return this.options.duration?this.pos=t=ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ht.propHooks._default.set(this),this}},ht.prototype.init.prototype=ht.prototype,ht.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ue.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):1!==e.elem.nodeType||!ue.cssHooks[e.prop]&&null==e.elem.style[R(e.prop)]?e.elem[e.prop]=e.now:ue.style(e.elem,e.prop,e.now+e.unit)}}},ht.propHooks.scrollTop=ht.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ue.fx=ht.prototype.init,ue.fx.step={};var ct,pt,_t=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;function ft(){pt&&(!1===re.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ft):e.setTimeout(ft,ue.fx.interval),ue.fx.tick())}function yt(e,t,i){var a,n,s=0,o=yt.prefilters.length,r=ue.Deferred().always((function(){delete l.elem})),l=function(){if(n)return!1;for(var t=ct||L(),i=Math.max(0,d.startTime+d.duration-t),a=1-(i/d.duration||0),s=0,o=d.tweens.length;s<o;s++)d.tweens[s].run(a);return r.notifyWith(e,[d,a,i]),a<1&&o?i:(o||r.notifyWith(e,[d,1,0]),r.resolveWith(e,[d]),!1)},d=r.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{},easing:ue.easing._default},i),originalProperties:t,originalOptions:i,startTime:ct||L(),duration:i.duration,tweens:[],createTween:function(t,i){var a=ue.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(a),a},stop:function(t){var i=0,a=t?d.tweens.length:0;if(n)return this;for(n=!0;i<a;i++)d.tweens[i].run(1);return t?(r.notifyWith(e,[d,1,0]),r.resolveWith(e,[d,t])):r.rejectWith(e,[d,t]),this}}),u=d.props;for(!function(e,t){var i,a,n,s,o;for(i in e)if(n=t[a=p(i)],s=e[i],Array.isArray(s)&&(n=s[1],s=e[i]=s[0]),i!==a&&(e[a]=s,delete e[i]),(o=ue.cssHooks[a])&&"expand"in o)for(i in s=o.expand(s),delete e[a],s)i in e||(e[i]=s[i],t[i]=n);else t[a]=n}(u,d.opts.specialEasing);s<o;s++)if(a=yt.prefilters[s].call(d,e,u,d.opts))return se(a.stop)&&(ue._queueHooks(d.elem,d.opts.queue).stop=a.stop.bind(a)),a;return ue.map(u,F,d),se(d.opts.start)&&d.opts.start.call(e,d),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always),ue.fx.timer(ue.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d}ue.Animation=ue.extend(yt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return m(i.elem,e,Re.exec(t),i),i}]},tweener:function(e,t){se(e)?(t=e,e=["*"]):e=e.match(be);for(var i,a=0,n=e.length;a<n;a++)i=e[a],yt.tweeners[i]=yt.tweeners[i]||[],yt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var a,n,s,o,r,l,d,u,h=function(t){l||(v?"hidden"in v&&(f=v.hidden):v=De.access(e,"fxshow",{display:d}),s&&(v.hidden=!f),f&&y([e],!0),p.done((function(){for(t in f||y([e]),De.remove(e,"fxshow"),_)ue.style(e,t,_[t])}))),l=F(f?v[t]:0,t,p),t in v||(v[t]=l.start,f&&(l.end=l.start,l.start=0))},c="width"in t||"height"in t,p=this,_={},m=e.style,f=e.nodeType&&Be(e),v=De.get(e,"fxshow");for(a in i.queue||(null==(o=ue._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,r=o.empty.fire,o.empty.fire=function(){o.unqueued||r()}),o.unqueued++,p.always((function(){p.always((function(){o.unqueued--,ue.queue(e,"fx").length||o.empty.fire()}))}))),t)if(n=t[a],_t.test(n)){if(delete t[a],s=s||"toggle"===n,n===(f?"hide":"show")){if("show"!==n||!v||void 0===v[a])continue;f=!0}_[a]=v&&v[a]||ue.style(e,a)}if((l=!ue.isEmptyObject(t))||!ue.isEmptyObject(_))for(a in c&&1===e.nodeType&&(i.overflow=[m.overflow,m.overflowX,m.overflowY],null==(d=v&&v.display)&&(d=De.get(e,"display")),"none"===(u=ue.css(e,"display"))&&(d?u=d:(y([e],!0),d=e.style.display||d,u=ue.css(e,"display"),y([e]))),("inline"===u||"inline-block"===u&&null!=d)&&"none"===ue.css(e,"float")&&(l||(p.done((function(){m.display=d})),null==d&&(u=m.display,d="none"===u?"":u)),m.display="inline-block")),i.overflow&&(m.overflow="hidden",p.always((function(){m.overflow=i.overflow[0],m.overflowX=i.overflow[1],m.overflowY=i.overflow[2]}))),l=!1,_)h(a)}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),ue.speed=function(e,t,i){var a=e&&"object"==typeof e?ue.extend({},e):{complete:i||!i&&t||se(e)&&e,duration:e,easing:i&&t||t&&!se(t)&&t};return ue.fx.off?a.duration=0:"number"!=typeof a.duration&&(a.duration in ue.fx.speeds?a.duration=ue.fx.speeds[a.duration]:a.duration=ue.fx.speeds._default),null!=a.queue&&!0!==a.queue||(a.queue="fx"),a.old=a.complete,a.complete=function(){se(a.old)&&a.old.call(this),a.queue&&ue.dequeue(this,a.queue)},a},ue.fn.extend({fadeTo:function(e,t,i,a){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,i,a)},animate:function(e,t,i,a){var n=ue.isEmptyObject(e),s=ue.speed(t,i,a),o=function(){var t=yt(this,ue.extend({},e),s);(n||De.get(this,"finish"))&&t.stop(!0)};return o.finish=o,n||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,n=null!=e&&e+"queueHooks",s=ue.timers,o=De.get(this);if(n)o[n]&&o[n].stop&&a(o[n]);else for(n in o)o[n]&&o[n].stop&&mt.test(n)&&a(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(i),t=!1,s.splice(n,1));!t&&i||ue.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=De.get(this),a=i[e+"queue"],n=i[e+"queueHooks"],s=ue.timers,o=a?a.length:0;for(i.finish=!0,ue.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete i.finish}))}}),ue.each(["toggle","show","hide"],(function(e,t){var i=ue.fn[t];ue.fn[t]=function(e,a,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(B(t,!0),e,a,n)}})),ue.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){ue.fn[e]=function(e,i,a){return this.animate(t,e,i,a)}})),ue.timers=[],ue.fx.tick=function(){var e,t=0,i=ue.timers;for(ct=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||ue.fx.stop(),ct=void 0},ue.fx.timer=function(e){ue.timers.push(e),ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){pt||(pt=!0,ft())},ue.fx.stop=function(){pt=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fn.delay=function(t,i){return t=ue.fx&&ue.fx.speeds[t]||t,i=i||"fx",this.queue(i,(function(i,a){var n=e.setTimeout(i,t);a.stop=function(){e.clearTimeout(n)}}))},function(){var e=re.createElement("input"),t=re.createElement("select").appendChild(re.createElement("option"));e.type="checkbox",ne.checkOn=""!==e.value,ne.optSelected=t.selected,(e=re.createElement("input")).value="t",e.type="radio",ne.radioValue="t"===e.value}();var vt,gt=ue.expr.attrHandle;ue.fn.extend({attr:function(e,t){return Ce(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){ue.removeAttr(this,e)}))}}),ue.extend({attr:function(e,t,i){var a,n,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?ue.prop(e,t,i):(1===s&&ue.isXMLDoc(e)||(n=ue.attrHooks[t.toLowerCase()]||(ue.expr.match.bool.test(t)?vt:void 0)),void 0!==i?null===i?void ue.removeAttr(e,t):n&&"set"in n&&void 0!==(a=n.set(e,i,t))?a:(e.setAttribute(t,i+""),i):n&&"get"in n&&null!==(a=n.get(e,t))?a:null==(a=ue.find.attr(e,t))?void 0:a)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&o(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,a=0,n=t&&t.match(be);if(n&&1===e.nodeType)for(;i=n[a++];)e.removeAttribute(i)}}),vt={set:function(e,t,i){return!1===t?ue.removeAttr(e,i):e.setAttribute(i,i),i}},ue.each(ue.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=gt[t]||ue.find.attr;gt[t]=function(e,t,a){var n,s,o=t.toLowerCase();return a||(s=gt[o],gt[o]=n,n=null!=i(e,t,a)?o:null,gt[o]=s),n}}));var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;ue.fn.extend({prop:function(e,t){return Ce(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[ue.propFix[e]||e]}))}}),ue.extend({prop:function(e,t,i){var a,n,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&ue.isXMLDoc(e)||(t=ue.propFix[t]||t,n=ue.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(a=n.set(e,i,t))?a:e[t]=i:n&&"get"in n&&null!==(a=n.get(e,t))?a:e[t]},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ne.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){ue.propFix[this.toLowerCase()]=this})),ue.fn.extend({addClass:function(e){var t,i,a,n,s,o,r,l=0;if(se(e))return this.each((function(t){ue(this).addClass(e.call(this,t,U(this)))}));if((t=V(e)).length)for(;i=this[l++];)if(n=U(i),a=1===i.nodeType&&" "+N(n)+" "){for(o=0;s=t[o++];)a.indexOf(" "+s+" ")<0&&(a+=s+" ");n!==(r=N(a))&&i.setAttribute("class",r)}return this},removeClass:function(e){var t,i,a,n,s,o,r,l=0;if(se(e))return this.each((function(t){ue(this).removeClass(e.call(this,t,U(this)))}));if(!arguments.length)return this.attr("class","");if((t=V(e)).length)for(;i=this[l++];)if(n=U(i),a=1===i.nodeType&&" "+N(n)+" "){for(o=0;s=t[o++];)for(;a.indexOf(" "+s+" ")>-1;)a=a.replace(" "+s+" "," ");n!==(r=N(a))&&i.setAttribute("class",r)}return this},toggleClass:function(e,t){var a=void 0===e?"undefined":i.default(e),n="string"===a||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):se(e)?this.each((function(i){ue(this).toggleClass(e.call(this,i,U(this),t),t)})):this.each((function(){var t,i,s,o;if(n)for(i=0,s=ue(this),o=V(e);t=o[i++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==a||((t=U(this))&&De.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":De.get(this,"__className__")||""))}))},hasClass:function(e){var t,i,a=0;for(t=" "+e+" ";i=this[a++];)if(1===i.nodeType&&(" "+N(U(i))+" ").indexOf(t)>-1)return!0;return!1}});var kt=/\r/g;ue.fn.extend({val:function(e){var t,i,a,n=this[0];return arguments.length?(a=se(e),this.each((function(i){var n;1===this.nodeType&&(null==(n=a?e.call(this,i,ue(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=ue.map(n,(function(e){return null==e?"":e+""}))),(t=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))}))):n?(t=ue.valHooks[n.type]||ue.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:"string"==typeof(i=n.value)?i.replace(kt,""):null==i?"":i:void 0}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:N(ue.text(e))}},select:{get:function(e){var t,i,a,n=e.options,s=e.selectedIndex,r="select-one"===e.type,l=r?null:[],d=r?s+1:n.length;for(a=s<0?d:r?s:0;a<d;a++)if(((i=n[a]).selected||a===s)&&!i.disabled&&(!i.parentNode.disabled||!o(i.parentNode,"optgroup"))){if(t=ue(i).val(),r)return t;l.push(t)}return l},set:function(e,t){for(var i,a,n=e.options,s=ue.makeArray(t),o=n.length;o--;)((a=n[o]).selected=ue.inArray(ue.valHooks.option.get(a),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),ue.each(["radio","checkbox"],(function(){ue.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ue.inArray(ue(e).val(),t)>-1}},ne.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),ne.focusin="onfocusin"in e;var $t=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};ue.extend(ue.event,{trigger:function(t,i,a,n){var s,o,r,l,d,u,h,c,p=[a||re],_=te.call(t,"type")?t.type:t,m=te.call(t,"namespace")?t.namespace.split("."):[];if(o=c=r=a=a||re,3!==a.nodeType&&8!==a.nodeType&&!$t.test(_+ue.event.triggered)&&(_.indexOf(".")>-1&&(m=_.split("."),_=m.shift(),m.sort()),d=_.indexOf(":")<0&&"on"+_,(t=t[ue.expando]?t:new ue.Event(_,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),i=null==i?[t]:ue.makeArray(i,[t]),h=ue.event.special[_]||{},n||!h.trigger||!1!==h.trigger.apply(a,i))){if(!n&&!h.noBubble&&!oe(a)){for(l=h.delegateType||_,$t.test(l+_)||(o=o.parentNode);o;o=o.parentNode)p.push(o),r=o;r===(a.ownerDocument||re)&&p.push(r.defaultView||r.parentWindow||e)}for(s=0;(o=p[s++])&&!t.isPropagationStopped();)c=o,t.type=s>1?l:h.bindType||_,(u=(De.get(o,"events")||Object.create(null))[t.type]&&De.get(o,"handle"))&&u.apply(o,i),(u=d&&o[d])&&u.apply&&Ae(o)&&(t.result=u.apply(o,i),!1===t.result&&t.preventDefault());return t.type=_,n||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),i)||!Ae(a)||d&&se(a[_])&&!oe(a)&&((r=a[d])&&(a[d]=null),ue.event.triggered=_,t.isPropagationStopped()&&c.addEventListener(_,Ct),a[_](),t.isPropagationStopped()&&c.removeEventListener(_,Ct),ue.event.triggered=void 0,r&&(a[d]=r)),t.result}},simulate:function(e,t,i){var a=ue.extend(new ue.Event,i,{type:e,isSimulated:!0});ue.event.trigger(a,null,t)}}),ue.fn.extend({trigger:function(e,t){return this.each((function(){ue.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return ue.event.trigger(e,t,i,!0)}}),ne.focusin||ue.each({focus:"focusin",blur:"focusout"},(function(e,t){var i=function(e){ue.event.simulate(t,e.target,ue.event.fix(e))};ue.event.special[t]={setup:function(){var a=this.ownerDocument||this.document||this,n=De.access(a,t);n||a.addEventListener(e,i,!0),De.access(a,t,(n||0)+1)},teardown:function(){var a=this.ownerDocument||this.document||this,n=De.access(a,t)-1;n?De.access(a,t,n):(a.removeEventListener(e,i,!0),De.remove(a,t))}}}));var St=e.location,Pt={guid:Date.now()},At=/\?/;ue.parseXML=function(t){var i,a;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return a=i&&i.getElementsByTagName("parsererror")[0],i&&!a||ue.error("Invalid XML: "+(a?ue.map(a.childNodes,(function(e){return e.textContent})).join("\n"):t)),i};var xt=/\[\]$/,Dt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,i,a){var s;if(Array.isArray(t))ue.each(t,(function(t,n){i||xt.test(e)?a(e,n):Tt(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,i,a)}));else if(i||"object"!==n(t))a(e,t);else for(s in t)Tt(e+"["+s+"]",t[s],i,a)}ue.param=function(e,t){var i,a=[],n=function(e,t){var i=se(t)?t():t;a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,(function(){n(this.name,this.value)}));else for(i in e)Tt(i,e[i],t,n);return a.join("&")},ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&Mt.test(this.nodeName)&&!It.test(e)&&(this.checked||!Ve.test(e))})).map((function(e,t){var i=ue(this).val();return null==i?null:Array.isArray(i)?ue.map(i,(function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}})):{name:t.name,value:i.replace(Dt,"\r\n")}})).get()}});var Et=/%20/g,Rt=/#.*$/,qt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ht=/^(?:GET|HEAD)$/,Lt=/^\/\//,Bt={},Ft={},Nt="*/".concat("*"),Ut=re.createElement("a");Ut.href=St.href,ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?j(j(e,ue.ajaxSettings),t):j(ue.ajaxSettings,e)},ajaxPrefilter:W(Bt),ajaxTransport:W(Ft),ajax:function(t,i){var a=function(t,i,a,r){var d,c,p,b,w,k=i;u||(u=!0,l&&e.clearTimeout(l),n=void 0,o=r||"",$.readyState=t>0?4:0,d=t>=200&&t<300||304===t,a&&(b=function(e,t,i){for(var a,n,s,o,r=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(n in r)if(r[n]&&r[n].test(a)){l.unshift(n);break}if(l[0]in i)s=l[0];else{for(n in i){if(!l[0]||e.converters[n+" "+l[0]]){s=n;break}o||(o=n)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(_,$,a)),!d&&ue.inArray("script",_.dataTypes)>-1&&ue.inArray("json",_.dataTypes)<0&&(_.converters["text script"]=function(){}),b=function(e,t,i,a){var n,s,o,r,l,d={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)d[o.toLowerCase()]=e.converters[o];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=d[l+" "+s]||d["* "+s]))for(n in d)if((r=n.split(" "))[1]===s&&(o=d[l+" "+r[0]]||d["* "+r[0]])){!0===o?o=d[n]:!0!==d[n]&&(s=r[0],u.unshift(r[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(_,b,$,d),d?(_.ifModified&&((w=$.getResponseHeader("Last-Modified"))&&(ue.lastModified[s]=w),(w=$.getResponseHeader("etag"))&&(ue.etag[s]=w)),204===t||"HEAD"===_.type?k="nocontent":304===t?k="notmodified":(k=b.state,c=b.data,d=!(p=b.error))):(p=k,!t&&k||(k="error",t<0&&(t=0))),$.status=t,$.statusText=(i||k)+"",d?y.resolveWith(m,[c,k,$]):y.rejectWith(m,[$,k,p]),$.statusCode(g),g=void 0,h&&f.trigger(d?"ajaxSuccess":"ajaxError",[$,_,d?c:p]),v.fireWith(m,[$,k]),h&&(f.trigger("ajaxComplete",[$,_]),--ue.active||ue.event.trigger("ajaxStop")))};"object"==typeof t&&(i=t,t=void 0),i=i||{};var n,s,o,r,l,d,u,h,c,p,_=ue.ajaxSetup({},i),m=_.context||_,f=_.context&&(m.nodeType||m.jquery)?ue(m):ue.event,y=ue.Deferred(),v=ue.Callbacks("once memory"),g=_.statusCode||{},b={},w={},k="canceled",$={readyState:0,getResponseHeader:function(e){var t;if(u){if(!r)for(r={};t=Ot.exec(o);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(_.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)$.always(e[$.status]);else for(t in e)g[t]=[g[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),a(0,t),this}};if(y.promise($),_.url=((t||_.url||St.href)+"").replace(Lt,St.protocol+"//"),_.type=i.method||i.type||_.method||_.type,_.dataTypes=(_.dataType||"*").toLowerCase().match(be)||[""],null==_.crossDomain){d=re.createElement("a");try{d.href=_.url,d.href=d.href,_.crossDomain=Ut.protocol+"//"+Ut.host!=d.protocol+"//"+d.host}catch(e){_.crossDomain=!0}}if(_.data&&_.processData&&"string"!=typeof _.data&&(_.data=ue.param(_.data,_.traditional)),z(Bt,_,i,$),u)return $;for(c in(h=ue.event&&_.global)&&0==ue.active++&&ue.event.trigger("ajaxStart"),_.type=_.type.toUpperCase(),_.hasContent=!Ht.test(_.type),s=_.url.replace(Rt,""),_.hasContent?_.data&&_.processData&&0===(_.contentType||"").indexOf("application/x-www-form-urlencoded")&&(_.data=_.data.replace(Et,"+")):(p=_.url.slice(s.length),_.data&&(_.processData||"string"==typeof _.data)&&(s+=(At.test(s)?"&":"?")+_.data,delete _.data),!1===_.cache&&(s=s.replace(qt,"$1"),p=(At.test(s)?"&":"?")+"_="+Pt.guid+++p),_.url=s+p),_.ifModified&&(ue.lastModified[s]&&$.setRequestHeader("If-Modified-Since",ue.lastModified[s]),ue.etag[s]&&$.setRequestHeader("If-None-Match",ue.etag[s])),(_.data&&_.hasContent&&!1!==_.contentType||i.contentType)&&$.setRequestHeader("Content-Type",_.contentType),$.setRequestHeader("Accept",_.dataTypes[0]&&_.accepts[_.dataTypes[0]]?_.accepts[_.dataTypes[0]]+("*"!==_.dataTypes[0]?", "+Nt+"; q=0.01":""):_.accepts["*"]),_.headers)$.setRequestHeader(c,_.headers[c]);if(_.beforeSend&&(!1===_.beforeSend.call(m,$,_)||u))return $.abort();if(k="abort",v.add(_.complete),$.done(_.success),$.fail(_.error),n=z(Ft,_,i,$)){if($.readyState=1,h&&f.trigger("ajaxSend",[$,_]),u)return $;_.async&&_.timeout>0&&(l=e.setTimeout((function(){$.abort("timeout")}),_.timeout));try{u=!1,n.send(b,a)}catch(e){if(u)throw e;a(-1,e)}}else a(-1,"No Transport");return $},getJSON:function(e,t,i){return ue.get(e,t,i,"json")},getScript:function(e,t){return ue.get(e,void 0,t,"script")}}),ue.each(["get","post"],(function(e,t){ue[t]=function(e,i,a,n){return se(i)&&(n=n||a,a=i,i=void 0),ue.ajax(ue.extend({url:e,type:t,dataType:n,data:i,success:a},ue.isPlainObject(e)&&e))}})),ue.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),ue._evalUrl=function(e,t,i){return ue.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){ue.globalEval(e,t,i)}})},ue.fn.extend({wrapAll:function(e){var t;return this[0]&&(se(e)&&(e=e.call(this[0])),t=ue(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return se(e)?this.each((function(t){ue(this).wrapInner(e.call(this,t))})):this.each((function(){var t=ue(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=se(e);return this.each((function(i){ue(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){ue(this).replaceWith(this.childNodes)})),this}}),ue.expr.pseudos.hidden=function(e){return!ue.expr.pseudos.visible(e)},ue.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ue.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Wt=ue.ajaxSettings.xhr();ne.cors=!!Wt&&"withCredentials"in Wt,ne.ajax=Wt=!!Wt,ue.ajaxTransport((function(t){var i,a;if(ne.cors||Wt&&!t.crossDomain)return{send:function(n,s){var o,r=t.xhr();if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];for(o in t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)r.setRequestHeader(o,n[o]);i=function(e){return function(){i&&(i=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?s(0,"error"):s(r.status,r.statusText):s(Vt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),a=r.onerror=r.ontimeout=i("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&e.setTimeout((function(){i&&a()}))},i=i("abort");try{r.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}})),ue.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),ue.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(a,n){t=ue("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&n("error"===e.type?404:200,e.type)}),re.head.appendChild(t[0])},abort:function(){i&&i()}}}));var zt,jt=[],Jt=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jt.pop()||ue.expando+"_"+Pt.guid++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",(function(t,i,a){var n,s,o,r=!1!==t.jsonp&&(Jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=se(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Jt,"$1"+n):!1!==t.jsonp&&(t.url+=(At.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||ue.error(n+" was not called"),o[0]},t.dataTypes[0]="json",s=e[n],e[n]=function(){o=arguments},a.always((function(){void 0===s?ue(e).removeProp(n):e[n]=s,t[n]&&(t.jsonpCallback=i.jsonpCallback,jt.push(n)),o&&se(s)&&s(o[0]),o=s=void 0})),"script"})),ne.createHTMLDocument=((zt=re.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===zt.childNodes.length),ue.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(ne.createHTMLDocument?((a=(t=re.implementation.createHTMLDocument("")).createElement("base")).href=re.location.href,t.head.appendChild(a)):t=re),s=!i&&[],(n=me.exec(e))?[t.createElement(n[1])]:(n=b([e],t,s),s&&s.length&&ue(s).remove(),ue.merge([],n.childNodes)));var a,n,s},ue.fn.load=function(e,t,i){var a,n,s,o=this,r=e.indexOf(" ");return r>-1&&(a=N(e.slice(r)),e=e.slice(0,r)),se(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),o.length>0&&ue.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done((function(e){s=arguments,o.html(a?ue("<div>").append(ue.parseHTML(e)).find(a):e)})).always(i&&function(e,t){o.each((function(){i.apply(this,s||[e.responseText,t,e])}))}),this},ue.expr.pseudos.animated=function(e){return ue.grep(ue.timers,(function(t){return e===t.elem})).length},ue.offset={setOffset:function(e,t,i){var a,n,s,o,r,l,d=ue.css(e,"position"),u=ue(e),h={};"static"===d&&(e.style.position="relative"),r=u.offset(),s=ue.css(e,"top"),l=ue.css(e,"left"),("absolute"===d||"fixed"===d)&&(s+l).indexOf("auto")>-1?(o=(a=u.position()).top,n=a.left):(o=parseFloat(s)||0,n=parseFloat(l)||0),se(t)&&(t=t.call(e,i,ue.extend({},r))),null!=t.top&&(h.top=t.top-r.top+o),null!=t.left&&(h.left=t.left-r.left+n),"using"in t?t.using.call(e,h):u.css(h)}},ue.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){ue.offset.setOffset(this,e,t)}));var t,i,a=this[0];return a?a.getClientRects().length?(t=a.getBoundingClientRect(),i=a.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,a=this[0],n={top:0,left:0};if("fixed"===ue.css(a,"position"))t=a.getBoundingClientRect();else{for(t=this.offset(),i=a.ownerDocument,e=a.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===ue.css(e,"position");)e=e.parentNode;e&&e!==a&&1===e.nodeType&&((n=ue(e).offset()).top+=ue.css(e,"borderTopWidth",!0),n.left+=ue.css(e,"borderLeftWidth",!0))}return{top:t.top-n.top-ue.css(a,"marginTop",!0),left:t.left-n.left-ue.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||Oe}))}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;ue.fn[e]=function(a){return Ce(this,(function(e,a,n){var s;if(oe(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===n)return s?s[t]:e[a];s?s.scrollTo(i?s.pageXOffset:n,i?n:s.pageYOffset):e[a]=n}),e,a,arguments.length)}})),ue.each(["top","left"],(function(e,t){ue.cssHooks[t]=E(ne.pixelPosition,(function(e,i){if(i)return i=T(e,t),et.test(i)?ue(e).position()[t]+"px":i}))})),ue.each({Height:"height",Width:"width"},(function(e,t){ue.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,a){ue.fn[a]=function(n,s){var o=arguments.length&&(i||"boolean"!=typeof n),r=i||(!0===n||!0===s?"margin":"border");return Ce(this,(function(t,i,n){var s;return oe(t)?0===a.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===n?ue.css(t,i,r):ue.style(t,i,n,r)}),t,o?n:void 0,o)}}))})),ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){ue.fn[t]=function(e){return this.on(t,e)}})),ue.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,a){return this.on(t,e,i,a)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ue.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){ue.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}));var Qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;ue.proxy=function(e,t){var i,a,n;if("string"==typeof t&&(i=e[t],t=e,e=i),se(e))return a=G.call(arguments,2),n=function(){return e.apply(t||this,a.concat(G.call(arguments)))},n.guid=e.guid=e.guid||ue.guid++,n},ue.holdReady=function(e){e?ue.readyWait++:ue.ready(!0)},ue.isArray=Array.isArray,ue.parseJSON=JSON.parse,ue.nodeName=o,ue.isFunction=se,ue.isWindow=oe,ue.camelCase=p,ue.type=n,ue.now=Date.now,ue.isNumeric=function(e){var t=ue.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},ue.trim=function(e){return null==e?"":(e+"").replace(Qt,"")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return ue}));var Gt=e.jQuery,Kt=e.$;return ue.noConflict=function(t){return e.$===ue&&(e.$=Kt),t&&e.jQuery===ue&&(e.jQuery=Gt),ue},void 0===t&&(e.jQuery=e.$=ue),ue}))})),parcelRequire.register("dhZ6J",(function(e,t){$parcel$export(e.exports,"assertThisInitialized",(function(){return parcelRequire("WI3YU").default})),$parcel$export(e.exports,"classCallCheck",(function(){return parcelRequire("87rX1").default})),$parcel$export(e.exports,"createClass",(function(){return parcelRequire("b3HW6").default})),$parcel$export(e.exports,"createSuper",(function(){return parcelRequire("56Oox").default})),$parcel$export(e.exports,"get",(function(){return parcelRequire("2PjQe").default})),$parcel$export(e.exports,"getPrototypeOf",(function(){return parcelRequire("8DKpv").default})),$parcel$export(e.exports,"inherits",(function(){return parcelRequire("1tpNq").default})),$parcel$export(e.exports,"objectSpread",(function(){return parcelRequire("5ZUO7").default})),$parcel$export(e.exports,"possibleConstructorReturn",(function(){return parcelRequire("flMmK").default})),$parcel$export(e.exports,"slicedToArray",(function(){return parcelRequire("e2GJT").default})),$parcel$export(e.exports,"toConsumableArray",(function(){return parcelRequire("4h4pL").default})),$parcel$export(e.exports,"typeOf",(function(){return parcelRequire("dwEjG").default}));parcelRequire("WI3YU"),parcelRequire("87rX1"),parcelRequire("b3HW6"),parcelRequire("56Oox"),parcelRequire("2PjQe"),parcelRequire("8DKpv"),parcelRequire("1tpNq"),parcelRequire("5ZUO7"),parcelRequire("flMmK"),parcelRequire("e2GJT"),parcelRequire("4h4pL"),parcelRequire("dwEjG")})),parcelRequire.register("WI3YU",(function(e,t){function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("87rX1",(function(e,t){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("b3HW6",(function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}$parcel$export(e.exports,"default",(function(){return a}))})),parcelRequire.register("56Oox",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}));var i=parcelRequire("gNRXm"),a=parcelRequire("8DKpv"),n=parcelRequire("flMmK");function s(e){var t=i.default();return function(){var i,s=a.default(e);if(t){var o=a.default(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return n.default(this,i)}}})),parcelRequire.register("gNRXm",(function(e,t){function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("8DKpv",(function(e,t){function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){return i(e)}$parcel$export(e.exports,"default",(function(){return a}))})),parcelRequire.register("flMmK",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("WI3YU"),a=parcelRequire("dwEjG");function n(e,t){return!t||"object"!==a.default(t)&&"function"!=typeof t?i.default(e):t}})),parcelRequire.register("dwEjG",(function(e,t){function i(e){return e&&e.constructor===Symbol?"symbol":typeof e}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("2PjQe",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("26IFI");function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var n=i.default(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(a||e):s.value}})(e,t,n)}function n(e,t,i){return a(e,t,i)}})),parcelRequire.register("26IFI",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("8DKpv");function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i.default(e)););return e}})),parcelRequire.register("1tpNq",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("5tHLH");function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i.default(e,t)}})),parcelRequire.register("5tHLH",(function(e,t){function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return i(e,t)}$parcel$export(e.exports,"default",(function(){return a}))})),parcelRequire.register("5ZUO7",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("2yvID");function a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){i.default(e,t,a[t])}))}return e}})),parcelRequire.register("2yvID",(function(e,t){function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("e2GJT",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var i=parcelRequire("14bUq"),a=parcelRequire("6oUr0"),n=parcelRequire("328n4"),s=parcelRequire("79o5w");function o(e,t){return i.default(e)||a.default(e,t)||s.default(e,t)||n.default()}})),parcelRequire.register("14bUq",(function(e,t){function i(e){if(Array.isArray(e))return e}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("6oUr0",(function(e,t){function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("328n4",(function(e,t){function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("79o5w",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("7CgSR");function a(e,t){if(e){if("string"==typeof e)return i.default(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i.default(e,t):void 0}}})),parcelRequire.register("7CgSR",(function(e,t){function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("4h4pL",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var i=parcelRequire("6dcDJ"),a=parcelRequire("6oUr0"),n=parcelRequire("1EsRK"),s=parcelRequire("79o5w");function o(e){return i.default(e)||a.default(e)||s.default(e)||n.default()}})),parcelRequire.register("6dcDJ",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("7CgSR");function a(e){if(Array.isArray(e))return i.default(e)}})),parcelRequire.register("1EsRK",(function(e,t){function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("32MuL",(function(e,t){"use strict";var i,a,n,s;jQuery.base64=(jQuery,i=function(e,t){var i=s.indexOf(e.charAt(t));if(-1===i)throw"Cannot decode base64";return i},a=function(e,t){var i=e.charCodeAt(t);if(i>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return i},n="=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",{decode:function(e){var t,a,s=0,o=e.length,r=[];if(e=String(e),0===o)return e;if(o%4!=0)throw"Cannot decode base64";for(e.charAt(o-1)===n&&(s=1,e.charAt(o-2)===n&&(s=2),o-=4),t=0;t<o;t+=4)a=i(e,t)<<18|i(e,t+1)<<12|i(e,t+2)<<6|i(e,t+3),r.push(String.fromCharCode(a>>16,a>>8&255,255&a));switch(s){case 1:a=i(e,t)<<18|i(e,t+1)<<12|i(e,t+2)<<6,r.push(String.fromCharCode(a>>16,a>>8&255));break;case 2:a=i(e,t)<<18|i(e,t+1)<<12,r.push(String.fromCharCode(a>>16))}return r.join("")},encode:function(e){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";var t,i,o=[],r=(e=String(e)).length-e.length%3;if(0===e.length)return e;for(t=0;t<r;t+=3)i=a(e,t)<<16|a(e,t+1)<<8|a(e,t+2),o.push(s.charAt(i>>18)),o.push(s.charAt(i>>12&63)),o.push(s.charAt(i>>6&63)),o.push(s.charAt(63&i));switch(e.length-r){case 1:i=a(e,t)<<16,o.push(s.charAt(i>>18)+s.charAt(i>>12&63)+n+n);break;case 2:i=a(e,t)<<16|a(e,t+1)<<8,o.push(s.charAt(i>>18)+s.charAt(i>>12&63)+s.charAt(i>>6&63)+n)}return o.join("")},VERSION:"1.0"})})),parcelRequire.register("k7WLs",(function(e,t){$parcel$export(e.exports,"default",(function(){return a})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a={$_bb_sanitize:function(e){var t=!1;if("string"==typeof e||e instanceof String){var n=$parcel$interopDefault(i).parseHTML(e,null,!1);for(var s in n)parseInt(s)>=0&&a._sanitizeNode_r(n[s]);t=$parcel$interopDefault(i)(n)}else if("object"==typeof e&&null!=e){var o=e instanceof $parcel$interopDefault(i)?e:$parcel$interopDefault(i)(e);o.each((function(e,t){a._sanitizeNode_r(t)})),t=o}else"number"!=typeof e&&isNaN(parseFloat(e))||(t=$parcel$interopDefault(i)(document.createTextNode(parseFloat(e))));return t},fn_bb_htmlSanitized:function(e){return void 0!==e?(this.length>0&&this.html(a.$_bb_sanitize(e)),this):this.html()},fn_bb_appendSanitized:function(e){return void 0!==e&&this.length>0&&this.append(a.$_bb_sanitize(e)),this},fn_bb_prependSanitized:function(e){return void 0!==e&&this.length>0&&this.prepend(a.$_bb_sanitize(e)),this},fn_bb_sanitize:function(){return this.each((function(e,t){a._sanitizeNode_r(t)})),this},_sanitizeNode_r:function(e){if(e){if(e.localName&&e.localName.match(/script/i)&&(e.textContent=""),e.hasAttributes&&e.hasAttributes()&&e.attributes)for(var t=e.attributes.length-1;t>=0;t--){var i=e.attributes[t];i&&i.name.match(/^on/i)&&(i.value=""),i&&i.name.match(/^src/i)&&i.value.match(/^javascript:/i)&&(i.value=""),i&&i.name.match(/^src/i)&&i.value.match(/^data:text\/javascript/i)&&(i.value=""),i&&i.name.match(/^href/i)&&i.value.match(/^javascript:/i)&&(i.value=""),i&&i.name.match(/^href/i)&&i.value.match(/^data:text\/javascript/i)&&(i.value=""),i&&i.name.match(/^action/i)&&i.value.match(/^javascript:/i)&&(i.value=""),i&&i.name.match(/^action/i)&&i.value.match(/^data:text\/javascript/i)&&(i.value=""),i&&i.name.match(/^srcdoc/i)&&(i.value="")}if(e.hasChildNodes&&e.hasChildNodes()&&e.childNodes)for(t=e.childNodes.length-1;t>=0;t--)a._sanitizeNode_r(e.childNodes[t])}}}})),parcelRequire.register("k0pvG",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),a=parcelRequire("b3HW6"),n={},s=function(){"use strict";function e(){i.default(this,e),this._instances={}}return a.default(e,[{key:"exit",value:function(){for(var e in this._instances=null,n)if(n.hasOwnProperty(e)&&n[e]===this){delete n[e];break}return null}},{key:"newId",value:function(){var e;do{e=String(Math.random()).replace(".","")}while(this._instances.hasOwnProperty(e));return e}},{key:"setInstance",value:function(e,t){this._instances[e]=t}},{key:"getInstance",value:function(e){return this._instances[e]}},{key:"insertInstance",value:function(e){var t=this.newId();return this.setInstance(t,e),t}}],[{key:"getService",value:function(t){return n[t]||(n[t]=new e),n[t]}}]),e}()})),parcelRequire.register("8aMPH",(function(e,t){$parcel$export(e.exports,"debugMode",(function(){return a})),$parcel$export(e.exports,"setDebugModeFromOpts",(function(){return o})),$parcel$export(e.exports,"default",(function(){return r}));var i=parcelRequire("hm4aY"),a=!1,n="",s=(new Date).getTime(),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};-1===window.location.hash.indexOf("_bbdebug")&&"trunk"!==e.previewMode&&"true"!==i.getCookie("bbdebug")||(a=!0),!e.playoutData||"true"!==e.playoutData.bbdebug&&!0!==e.playoutData.bbdebug||(a=!0),n=e.debugPrefix?e.debugPrefix:""},r=function(e,t){(window.location.hostname.match(/\.dev\./)||a)&&"undefined"!=typeof console&&(console.debug?console.debug(e,"".concat(n,"{").concat((new Date).getTime()-s,"}")):console.log(e),console.trace&&t&&console.trace())}})),parcelRequire.register("hm4aY",(function(e,t){$parcel$export(e.exports,"SHA1",(function(){return n})),$parcel$export(e.exports,"setCookie",(function(){return s})),$parcel$export(e.exports,"getCookie",(function(){return o}));var i,a={};i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a.uuid=function(e,t){var a,n=i,s=[];if(t=t||n.length,e)for(var o=0;o<e;o++)s[o]=n[0|Math.random()*t];else for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",o=0;o<36;o++)s[o]||(a=0|16*Math.random(),s[o]=n[19==o?3&a|8:a]);return s.join("")},a.uuidFast=function(){for(var e,t=i,a=new Array(36),n=0,s=0;s<36;s++)8==s||13==s||18==s||23==s?a[s]="-":14==s?a[s]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,a[s]=t[19==s?3&e|8:e]);return a.join("")},a.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})).toUpperCase()},a.SHA1=function(e){var t,i,a,n,s,o,r,l,d,u=function(e,t){return e<<t|e>>>32-t},h=function(e){var t,i="";for(t=7;t>=0;t--)i+=(e>>>4*t&15).toString(16);return i},c=new Array(80),p=1732584193,_=4023233417,m=2562383102,f=271733878,y=3285377520,v=(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t}(e)).length,g=new Array;for(i=0;i<v-3;i+=4)a=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),g.push(a);switch(v%4){case 0:i=2147483648;break;case 1:i=e.charCodeAt(v-1)<<24|8388608;break;case 2:i=e.charCodeAt(v-2)<<24|e.charCodeAt(v-1)<<16|32768;break;case 3:i=e.charCodeAt(v-3)<<24|e.charCodeAt(v-2)<<16|e.charCodeAt(v-1)<<8|128}for(g.push(i);g.length%16!=14;)g.push(0);for(g.push(v>>>29),g.push(v<<3&4294967295),t=0;t<g.length;t+=16){for(i=0;i<16;i++)c[i]=g[t+i];for(i=16;i<=79;i++)c[i]=u(c[i-3]^c[i-8]^c[i-14]^c[i-16],1);for(n=p,s=_,o=m,r=f,l=y,i=0;i<=19;i++)d=u(n,5)+(s&o|~s&r)+l+c[i]+1518500249&4294967295,l=r,r=o,o=u(s,30),s=n,n=d;for(i=20;i<=39;i++)d=u(n,5)+(s^o^r)+l+c[i]+1859775393&4294967295,l=r,r=o,o=u(s,30),s=n,n=d;for(i=40;i<=59;i++)d=u(n,5)+(s&o|s&r|o&r)+l+c[i]+2400959708&4294967295,l=r,r=o,o=u(s,30),s=n,n=d;for(i=60;i<=79;i++)d=u(n,5)+(s^o^r)+l+c[i]+3395469782&4294967295,l=r,r=o,o=u(s,30),s=n,n=d;p=p+n&4294967295,_=_+s&4294967295,m=m+o&4294967295,f=f+r&4294967295,y=y+l&4294967295}return(d=h(p)+h(_)+h(m)+h(f)+h(y)).toLowerCase()},a.getCookie=function(e){var t,i,a,n=document.cookie.split(";");for(t=0;t<n.length;t++)if(i=n[t].substr(0,n[t].indexOf("=")),a=n[t].substr(n[t].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))==e)return unescape(a)},a.setCookie=function(e,t,i,a){if(void 0!==a&&!0!==a.disableCookies&&"true"!==a.disableCookies){var n=new Date;n.setDate(n.getDate()+i);var s=escape(t)+(null==i?"":"; expires="+n.toUTCString())+"; Path=/; Secure; SameSite=None";document.cookie=e+"="+s}};var n=a.SHA1,s=(a.uuid,a.uuidCompact,a.uuidFast,a.setCookie),o=a.getCookie})),parcelRequire.register("fZtuh",(function(module,exports){$parcel$export(module.exports,"Timer",(function(){return Timer})),$parcel$export(module.exports,"getCookie",(function(){return getCookie})),$parcel$export(module.exports,"setCookie",(function(){return setCookie})),$parcel$export(module.exports,"default",(function(){return Util})),$parcel$export(module.exports,"mapPodIndexToPosition",(function(){return mapPodIndexToPosition})),$parcel$export(module.exports,"getQueryParamsFromUrl",(function(){return getQueryParamsFromUrl})),$parcel$export(module.exports,"getQueryParamsFromQueryString",(function(){return getQueryParamsFromQueryString})),$parcel$export(module.exports,"getCustomSkinPath",(function(){return getCustomSkinPath})),$parcel$export(module.exports,"parseSkinGeneration",(function(){return parseSkinGeneration})),$parcel$export(module.exports,"fetchScript",(function(){return fetchScript})),$parcel$export(module.exports,"fetchData",(function(){return fetchData})),parcelRequire("boCbw");var $6gF5a=parcelRequire("6gF5a"),func;function Timer(e,t){var i,a,n=!1,s=t;this.clear=function(){window.clearTimeout(i),n=!0},this.pause=function(){window.clearTimeout(i),s-=new Date-a},this.resume=function(){a=new Date,window.clearTimeout(i),n||(i=window.setTimeout(e,s))},this.resume()}function getCookie(e){var t,i,a,n=document.cookie.split(";");for(t=0;t<n.length;t++)if(i=n[t].substr(0,n[t].indexOf("=")),a=n[t].substr(n[t].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))==e)return unescape(a)}function setCookie(e,t,i,a){if(void 0!==a&&!0!==a.disableCookies&&"true"!==a.disableCookies){var n=new Date;n.setDate(n.getDate()+i);var s=escape(t)+(null==i?"":"; expires="+n.toUTCString())+"; Path=/; Secure; SameSite=None";document.cookie=e+"="+s}}void 0===window.bluebillywig&&(window.bluebillywig={}),void 0===window.bluebillywig._internal&&(window.bluebillywig._internal={}),void 0===window.bluebillywig._internal.Util&&(window.bluebillywig._internal.Util=function(){}),"function"!=typeof window.bluebillywig.getPlayerInstance&&(window.bluebillywig.getPlayerInstance=function(e){var t=!1,i=0;if(window.bluebillywig&&window.bluebillywig.players&&window.bluebillywig.players.length){if(1==window.bluebillywig.players.length)return window.bluebillywig.players[0];for(var a=0;a<window.bluebillywig.players.length;a++){if("object"==typeof e){if(window.bluebillywig.players[a]._internal&&window.bluebillywig.players[a]._internal.$wrapper)window.bluebillywig.players[a]._internal.$wrapper[0]==e&&(t=window.bluebillywig.players[a],i++)}else-1!=window.bluebillywig.players[a]._id.indexOf(String(e))&&(t=window.bluebillywig.players[a],i++)}}return 1!=i&&(t=!1),t}),window.bluebillywig._internal.Util.triggerEventOnJQueryObject=function(e,t,i){if(void 0!==i||"ready"==t)e.trigger(t,[i]),void 0!==window.$&&void 0!==window.$.fn&&"string"==typeof window.$.fn.jquery&&window.$(e.get(0)).trigger(t,[i]);else if("function"==typeof Event){var a=new Event(t,{bubbles:!0,cancelable:!1});e.length&&"function"==typeof e.get(0).dispatchEvent&&e.get(0).dispatchEvent(a)}else if("function"==typeof document.createEvent){(a=document.createEvent("Event")).initEvent(t,!0,!1),"function"==typeof e.get(0).dispatchEvent&&e.get(0).dispatchEvent(a)}else if("function"==typeof document.createEventObject){a=document.createEventObject(window.event);"function"==typeof e.get(0).fireEvent?e.get(0).fireEvent(t,a):(e.trigger(t),void 0!==window.$&&window.$(e.get(0)).trigger(t))}else e.trigger(t),void 0!==window.$&&window.$(e.get(0)).trigger(t)},window.bluebillywig._internal.Util.triggerEventOnJQueryObjectFlash=function(e,t,i){void 0!==i?e.trigger(t,[i]):e.trigger(t)},window.bluebillywig._internal.Util.triggerEventOnParentByIdFlash=function(e,t,i){window.bluebillywig._internal.Util.triggerEventOnJQueryObjectFlash($parcel$interopDefault($6gF5a)("#"+e).parent(),t,i)},window.bluebillywig._internal.Util.triggerEventOnParentById=function(e,t,i){window.bluebillywig._internal.Util.triggerEventOnJQueryObject($parcel$interopDefault($6gF5a)("#"+e).parent(),t,i)},window.bluebillywig._internal.Util.setAttributeOnParentById=function(e,t,i){$parcel$interopDefault($6gF5a)("#"+e).parent().attr(t,i)},window.bluebillywig._internal.Util.executeJavascript=function(js){try{return eval(js)}catch(e){"undefined"!=typeof console&&console.log("Notice: there was an error executing the javascript by executeJavascript. Provided JavaScript was: "+js)}},window.bluebillywig._internal.Util.requestAnimFrame=(func=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},func.call?function(e){return func.call(window,e)}:func),window.bluebillywig._internal.Util.cancelRequestAnimFrame=function(e){var t=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;return t.call?function(e){return t.call(window,e)}:t}(),window.triggerEventOnJQueryObject=window.bluebillywig._internal.Util.triggerEventOnJQueryObject,window.triggerEventOnParentById=window.bluebillywig._internal.Util.triggerEventOnParentById,window.setAttributeOnParentById=window.bluebillywig._internal.Util.setAttributeOnParentById,window.bbExecuteJavascript=window.bluebillywig._internal.Util.executeJavascript;var Util=window.bluebillywig._internal.Util;function mapPodIndexToPosition(e){return e=parseInt(e),Number.isNaN(e)?null:-1===e?"postroll":0===e?"preroll":"midroll"}function getQueryParamsFromUrl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e;if("function"==typeof URL)try{var a=new URL(e,"https://bbvms.com");i=a.search}catch(e){}return getQueryParamsFromQueryString(i,t)}function getQueryParamsFromQueryString(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof URLSearchParams){var i=new URLSearchParams(e);i.forEach((function(e,i){t[i]=e}))}else for(var a=/\?([^#]*)/.exec(e),n=(null==a?void 0:a.length)?a[1]:"",s=n.split("&"),o=0,r=s.length;o<r;o++){var l="",d=null;try{var u=s[o].indexOf("=");u>=0?(l=decodeURIComponent(s[o].substring(0,u)),d=decodeURIComponent(s[o].substring(u+1))):l=decodeURIComponent(s[o])}catch(e){}t[l]=d}return t}function getCustomSkinPath(e){var t,i,a,n,s,o,r,l,d,u;if(!e)return null;if("true"===(null===(t=e.requestParams)||void 0===t?void 0:t.forceNativeSkin)||"true"===(null===(i=e.playoutData)||void 0===i?void 0:i.forceNativeSkin))return"";var h=null===(a=e.playoutData)||void 0===a||null===(n=a.publication)||void 0===n?void 0:n.split(".")[1],c=h&&["dev","acc","test"].includes(h)?"-"+h:"";e.previewMode&&["dev","acc","test"].includes(e.previewMode)?c="-"+e.previewMode:"prod"===e.previewMode&&(c="");var p={g6:"https://d1i254ftm0zvcw.cloudfront.net/apps/skins/v6.40.0-old/",g7:"https://cdn".concat(c,".bluebillywig.com/apps/player-skin-g7/latest/"),g8:"https://cdn".concat(c,".bluebillywig.com/apps/player-skin-g8/latest/main/")},_=(null===(s=e.requestParams)||void 0===s?void 0:s.skinGeneration)||(null===(o=e.playoutData)||void 0===o?void 0:o.skinGeneration)||(null===(r=e.publicationData)||void 0===r?void 0:r.skinGeneration),m=null==_?void 0:_.includes("preview"),f=parseSkinGeneration(_),y=(null===(l=e.requestParams)||void 0===l?void 0:l.customSkinPath)||(null===(d=e.playoutData)||void 0===d?void 0:d.customSkinPath)||(null===(u=e.publicationData)||void 0===u?void 0:u.customSkinPath);return y||m&&!(f>7)||(y=p["g"+f]),y||""}function parseSkinGeneration(e){if(!e)return null;var t=parseFloat(e.substring(1));return"number"!=typeof t?null:t}function fetchScript(e,t){var i=new Promise((function(i,a){var n=document.createElement("script");(null==t?void 0:t.async)&&(n.async=t.async),n.onload=function(e){try{document.head.removeChild(n)}catch(e){}i("loaded")},n.onerror=function(e){try{document.head.removeChild(n)}catch(e){}a(new Error("error"))},n.src=null==e?void 0:e.toString();try{document.head.appendChild(n)}catch(e){a(new Error("dom"))}}));if((null==t?void 0:t.timeout)>=0){var a=new Promise((function(e,i){window.setTimeout((function(){i(new Error("timeout"))}),t.timeout)}));return Promise.race([i,a])}return i}function fetchData(e,t){var i=null==e?void 0:e.toString(),a=(null==t?void 0:t.dataType)||"json",n=new Headers({Accept:"application/json, text/javascript, */*; q=0.01","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"cross-site"}),s=!0,o=!1,r=void 0;if(null==t?void 0:t.extraHeaders)try{for(var l,d=t.extraHeaders[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var u=l.value;n.set(u[0],u[1])}}catch(e){o=!0,r=e}finally{try{s||null==d.return||d.return()}finally{if(o)throw r}}var h=(null==t?void 0:t.method)||"GET",c=(null==t?void 0:t.cache)||"default",p=null;if(null==t?void 0:t.data){var _=new URLSearchParams(t.data);if("GET"===h)i+=(-1===i.indexOf("?")?"?":"&")+_.toString();else switch(null==t?void 0:t.contentType){case"multipart/form-data":case"application/x-www-form-urlencoded":n.set("Content-Type","application/x-www-form-urlencoded"),p=_.toString();break;default:p=JSON.stringify(t.data)}}var m={headers:n,method:h,cache:c};return null!==p&&(m.body=p),(null==t?void 0:t.credentials)&&(m.credentials=t.credentials),fetch(i,m).then((function(e){if(e.ok)return"json"===a?e.json():e.text();throw new Error("http error")}))}})),parcelRequire.register("fdp2f",(function(module,exports){$parcel$export(module.exports,"default",(function(){return Main})),parcelRequire("dhZ6J");var $5ZUO7=parcelRequire("5ZUO7"),$5Tefj=parcelRequire("5Tefj"),$6Dz88=parcelRequire("6Dz88"),$3Eiwh=parcelRequire("3Eiwh"),$g7VPL=parcelRequire("g7VPL"),$kYlvJ=parcelRequire("kYlvJ"),$eza1s=parcelRequire("eza1s");parcelRequire("boCbw");var $6gF5a=parcelRequire("6gF5a"),$k0pvG=parcelRequire("k0pvG"),$8aMPH=parcelRequire("8aMPH"),$k6Sjr=parcelRequire("k6Sjr"),$6qLXF=parcelRequire("6qLXF"),$d8PpQ=parcelRequire("d8PpQ"),$1yFk1=parcelRequire("1yFk1"),$4reBS=parcelRequire("4reBS"),$i7nZI=parcelRequire("i7nZI"),$6dsac=parcelRequire("6dsac"),$fZtuh=parcelRequire("fZtuh"),SharedDataService,CSSFontInjector,SubtitleEngine,TextAlternativeEngine,$gVOTG=parcelRequire("gVOTG"),PublicAPI=$gVOTG.default,$bZsEz=parcelRequire("bZsEz"),ProgramController=$bZsEz.default,Main=function(e,t){var i,a,n;if(this.$element=null,this._opts=void 0!==t?t:null,null!=this._opts&&void 0!==this._opts.publicationData&&(this._opts.publicationData.server=this._opts.publicationData.baseurl),this._eventNS="main"+String(Math.random()).replace(".",""),this._data=null,null!=this._opts&&(this._data={},void 0!==this._opts.playoutData&&(this._data.playoutData=this._opts.playoutData),void 0!==this._opts.clipData&&(this._data.clipData=this._opts.clipData),void 0!==this._opts.clipListData&&(this._data.clipListData=this._opts.clipListData),void 0!==this._opts.projectData&&(this._data.projectData=this._opts.projectData)),this.api=null,this._playoutController=null,this._programController=null,this._skinController=null,this._soundController=null,this._componentBroker=null,this._sizer=null,this._interactivity=null,this._localStorage=null,this._CSSFontInjector=null,this._statsEngine=null,this._subtitleEngine=null,this._textAlternativeEngine=null,this._$contentLayer=null,this._$errorLayer=null,this._$skinLayer=null,this._$menuLayer=null,this._$contextLayer=null,this._fullscreen=!1,this._skinGeneration=null===(i=$k0pvG.default.getService(this._opts.playerAliasOrId).getInstance("SkinController"))||void 0===i?void 0:i.getGeneration(),this._customSkinPath=$fZtuh.getCustomSkinPath(t),this._customSkinPath_prev=null,this._taggingDisabled="true"===(null==t||null===(a=t.playoutData)||void 0===a?void 0:a.taggingDisabled),this._isolatePlayer=t&&t.playoutData&&"true"===t.playoutData.isolatePlayer,this._cornerRadius=parseFloat(null==t||null===(n=t.playoutData)||void 0===n?void 0:n.cornerRadius)||0,t&&t.adServicesData)for(var s=0;s<t.adServicesData.length;s++)t.adServicesData[s].positionType&&t.adServicesData[s].positionType.match(/outstream/i)&&(this._isolatePlayer="true"===t.adServicesData[s].playout.isolatePlayer);(this._onSkinCreatedBound=this._onSkinCreated.bind(this),void 0!==e&&null!=e)&&(this.$element=e,this.$element.on("bb_playout_changed."+this._eventNS,$parcel$interopDefault($6gF5a).proxy(this._onPlayoutChanged,this)),this.$element.on("bb_skin_created",this._onSkinCreatedBound),this.$element.on("bb_fullscreen_change."+this._eventNS,$parcel$interopDefault($6gF5a).proxy(this._onFullscreenChange,this)),this._initWrapper()||this._logError("failed to init wrapper"),this._initLayers()||this._logError("failed to init layers"),this._initDetections()||this._logError("failed to init detections"),$8aMPH.debugMode&&performance.mark("LocalStorage"),"function"==typeof $i7nZI.default&&(this._localStorage=new $i7nZI.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_LocalStorage"),$8aMPH.debugMode&&performance.mark("ComponentBroker"),"function"==typeof $k6Sjr.default&&(this._componentBroker=new $k6Sjr.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_ComponentBroker"),$8aMPH.debugMode&&performance.mark("StatsEngine"),"function"==typeof $eza1s.default&&(this._statsEngine=new $eza1s.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_StatsEngine"),$8aMPH.debugMode&&performance.mark("EventEngine"),"function"==typeof $kYlvJ.default&&(this._eventEngine=new $kYlvJ.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_EventEngine"),$8aMPH.debugMode&&performance.mark("PlayoutController"),"function"==typeof $5Tefj.default&&(this._playoutController=new $5Tefj.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_PlayoutController"),$8aMPH.debugMode&&performance.mark("SoundController"),"function"==typeof $3Eiwh.default&&(this._soundController=new $3Eiwh.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_SoundController"),$8aMPH.debugMode&&performance.mark("ProgramController"),"function"==typeof ProgramController&&(this._programController=new ProgramController(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_ProgramController"),$8aMPH.debugMode&&performance.mark("Sizer"),"function"==typeof $6dsac.default&&(this._sizer=new $6dsac.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_Sizer"),$8aMPH.debugMode&&performance.mark("Interactivity"),"function"==typeof $4reBS.default&&(this._interactivity=new $4reBS.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_Interactivity"),$8aMPH.debugMode&&performance.mark("PublicAPI"),"function"==typeof PublicAPI&&(this.api=new PublicAPI(this.$element,this._opts),this._initCmdQueue()),$8aMPH.debugMode&&performance.mark("end_PublicAPI"),$8aMPH.debugMode&&performance.mark("Executer"),"function"==typeof $1yFk1.default&&(this._executer=new $1yFk1.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_Executer"),$8aMPH.debugMode&&performance.mark("ErrorEngine"),"function"==typeof $g7VPL.default&&(this._errorEngine=new $g7VPL.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_ErrorEngine"),$8aMPH.debugMode&&performance.mark("ContextMenu"),"function"==typeof $6qLXF.default&&(this._contextMenu=new $6qLXF.default(this.$element,this._opts)),$8aMPH.debugMode&&performance.mark("end_ContextMenu"),this._getData($parcel$interopDefault($6gF5a).proxy(Main.prototype._dataCallback,this)))};Main.prototype._onFullscreenChange=function(e,t){e.stopPropagation(),void 0!==t&&(this._fullscreen=t.fullscreen),this._setBorderRadiusWrapper(this._cornerRadius)},Main.prototype._onPlayoutChanged=function(ev,payload){if(payload&&payload.playoutData){var pl=payload.playoutData;if(void 0!==pl.customSkinPath||void 0!==pl.skinGeneration){var opts=$5ZUO7.default({},this._opts);if(opts.playoutData=pl,delete opts.requestParams,this._customSkinPath=$fZtuh.getCustomSkinPath(opts),this._customSkinPath&&this._customSkinPath!==this._customSkinPath_prev){var _this=this;this._customSkinPath_prev=this._customSkinPath;var customSkinJsonUrl=this._customSkinPath+"skin.json";$fZtuh.fetchData(customSkinJsonUrl).then((function(data){$8aMPH.debugMode&&performance.mark("PlayoutChangedSkinPlacement");var customSkinPath=_this._customSkinPath;data&&data.customSkinInfo&&(_this._opts.customSkinInfo=data.customSkinInfo),data&&data.customSkinCss&&(_this._opts.playerCSS=data.customSkinCss.replace(/{{bbCustomSkinPath}}/g,_this._customSkinPath)),data&&data.customSkinHtml&&(_this._opts.playerHTML=data.customSkinHtml),data&&data.customSkinJs&&eval(data.customSkinJs),$8aMPH.debugMode&&performance.mark("end_PlayoutChangedSkinPlacement"),_this._initSkin(_this._opts.customSkinInfo)}))}}pl&&void 0!==pl.bgColor&&this._setBackgroundColor(pl.bgColor),void 0!==pl.cornerRadius&&(this._cornerRadius=parseFloat(pl.cornerRadius)||0,this._setBorderRadiusWrapper(this._cornerRadius))}},Main.prototype._onSkinCreated=function(e,t){t&&void 0!==t.skinGeneration&&(this._skinGeneration=t.skinGeneration),this._setBorderRadiusWrapper(this._cornerRadius)},Main.prototype.exit=function(){var e;return this.$element&&(this.$element.off("bb_playout_changed."+this._eventNS),this.$element.off("bb_skin_created",this._onSkinCreatedBound),this.$element.off("bb_fullscreen_change."+this._eventNS)),null!=this._programController&&(this._programController=this._programController.exit()),null!=this._soundController&&(this._soundController=this._soundController.exit()),null!=this.api&&(this.api=this.api.exit()),this._exitCmdQueue(),null!=this._skinController&&(this._skinController=this._skinController.exit()),null!=this._eventEngine&&(this._eventEngine=this._eventEngine.exit()),null!=this._statsEngine&&(this._statsEngine=this._statsEngine.exit()),null!=this._subtitleEngine&&(this._subtitleEngine=this._subtitleEngine.exit()),null!=this._textAlternativeEngine&&(this._textAlternativeEngine=this._textAlternativeEngine.exit()),null!=this._componentBroker&&(this._componentBroker=this._componentBroker.exit()),null!=this._itemScope&&(this._itemScope=this._itemScope.exit()),null!=this._CSSFontInjector&&(this._CSSFontInjector=this._CSSFontInjector.exit()),null!=this._localStorage&&(this._localStorage=this._localStorage.exit()),this._sharedDataService=null===(e=this._sharedDataService)||void 0===e?void 0:e.exit(),this._customSkinPath=null,this._customSkinPath_prev=null,null},Main.prototype._initWrapper=function(){var e=this._opts.playoutData&&void 0!==this._opts.playoutData.bgColor?this._opts.playoutData.bgColor:"#000";return this._setBackgroundColor(e),this._setBorderRadiusWrapper(this._cornerRadius),!0},Main.prototype._initLayers=function(){return this.$element.empty(),this._opts&&!0===this._opts.noSkinMode?this._$style=$parcel$interopDefault($6gF5a)("<style>.bb_wrapper {cursor: default; margin:0; box-sizing: content-box; } .bb_wrapper div {margin:0;} .bb_wrapper .bb-layer { position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none !important; overflow:hidden;} .bb_wrapper .bb-layer .bb-head, .bb_wrapper .bb-layer .bb-head video { width:100%; height: 100%; } .bb_wrapper video::-webkit-media-controls-start-playback-button {display: none; -webkit-appearance: none;} .bb_wrapper audio::-webkit-media-controls-start-playback-button {display: none; -webkit-appearance: none;} .bb_wrapper .bb-fitme {pointer-events:none !important;}.bb_wrapper .bb-fitme.bb-head-layer{pointer-events:none !important;} .bb_wrapper .bb-fitme.bb-head-layer .bb-head{pointer-events:auto !important;} .bb_wrapper .bb-fitme.bb-poster-layer img{display:none}</style>").appendTo(this.$element):this._$style=$parcel$interopDefault($6gF5a)("<style>.bb_wrapper {cursor: default; margin:0; box-sizing: content-box; } .bb_wrapper div {margin:0;} .bb_wrapper .bb-layer { position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none !important; overflow:hidden;} .bb_wrapper .bb-layer .bb-head, .bb_wrapper .bb-layer .bb-head video { width:100%; height: 100%; } .bb_wrapper video::-webkit-media-controls-start-playback-button {display: none; -webkit-appearance: none;} .bb_wrapper audio::-webkit-media-controls-start-playback-button {display: none; -webkit-appearance: none;} .bb_wrapper .bb-fitme {pointer-events:none !important;} .bb_wrapper .bb-fitme.bb-poster-layer {width:100%;height:100%;}</style>").appendTo(this.$element),this._$contentLayer=$parcel$interopDefault($6gF5a)('<div class="bb-layer bb-content-layer"></div>').appendTo(this.$element),this._$commercialLayer=$parcel$interopDefault($6gF5a)('<div class="bb-layer bb-commercial-layer"></div>').appendTo(this.$element),this._$errorLayer=$parcel$interopDefault($6gF5a)('<div class="bb-layer bb-error-layer"></div>').appendTo(this.$element),this._isolatePlayer&&document.body.attachShadow?(this._$skinLayer_host=$parcel$interopDefault($6gF5a)('<div class="bb-layer bb-skin-layer-host"></div>').appendTo(this.$element),this._$skinLayer_root=$parcel$interopDefault($6gF5a)(this._$skinLayer_host[0].attachShadow({mode:"open"})),$parcel$interopDefault($6gF5a)("<style>.bb-layer { position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none !important; overflow:hidden;} .bb-layer .bb-head, .bb-layer .bb-head video { width:100%; height: 100%; }</style>").appendTo(this._$skinLayer_root)):this._$skinLayer_root=this.$element,this._$skinLayer=$parcel$interopDefault($6gF5a)('<div class="bb-layer bb-skin-layer"></div>').appendTo(this._$skinLayer_root),this._$contextLayer=$parcel$interopDefault($6gF5a)('<div class="bb-layer bb-context-layer"></div>').appendTo(this.$element),this._$contentLayer.append('<div class="bb-fitme bb-head-layer" style="z-index:0;"></div><div class="bb-fitme bb-poster-layer" style="z-index:0;"></div><div class="bb-fitme bb-timeline-layer" style="z-index:0;"></div><div class="bb-layer bb-subtitle-layer" style="z-index:0;"></div>'),this._$commercialLayer.append('<div class="bb-layer bb-placeholder-layer" style="z-index:0;"></div><div class="bb-fitme bb-head-layer" style="z-index:0;"></div><div class="bb-layer bb-cta-layer" style="z-index:0;"></div>'),!0},Main.prototype._initDetections=function(){return $k0pvG.default.getService(this._opts.playerAliasOrId).getInstance("Detections")||($8aMPH.debugMode&&performance.mark("Detections"),this._detections=new $d8PpQ.default(this.$element,this._opts),$8aMPH.debugMode&&performance.mark("end_Detections")),!0},Main.prototype._initSkin=function(e){var t={useCustomSkin:!1,containerSelector:".bb-container",css:this._opts.playerCSS,html:this._opts.playerHTML,name:null!=this._opts.playoutData&&void 0!==this._opts.playoutData.skin_name?this._opts.playoutData.skin_name:"default"};return"object"==typeof e&&((t=e).useCustomSkin=!0,t.css=this._opts.playerCSS,t.html=this._opts.playerHTML),this._skinInfo=t,this._skinController&&(this._skinController=this._skinController.exit()),$8aMPH.debugMode&&performance.mark("SkinController"),"function"==typeof $6Dz88.default&&(this._skinController=new $6Dz88.default(this.$element,this._opts,this._skinInfo)),$8aMPH.debugMode&&performance.mark("end_SkinController"),!0},Main.prototype._setBackgroundColor=function(e){(e=Main.sanitizeCssColor(e))&&("inherit"==e?this.$element.css("background","none"):this.$element.css("background-color",e))},Main.prototype._setBorderRadiusWrapper=function(e){e&&parseFloat(e)>0&&this._skinGeneration>=8&&!this._fullscreen?(this.$element.css("border-radius",e+"px"),this.$element.find(".bb-layer").css("border-radius",e+"px")):(this.$element.css("border-radius","0px"),this.$element.find(".bb-layer").css("border-radius","0px"))},Main.sanitizeCssColor=function(e){e&&e.match(/^#/)&&(e=e.substr(1));var t=e;if(!isNaN(parseInt(e,16))){t="";for(var i=0;!isNaN(parseInt(e.substr(i,1),16));)t+=e.substr(i,1),i++;t=(3===i||6===i)&&"#"+t}return t},Main.rgbaCssColor=function(e,t){var i=e;if(e&&e.match(/^#/)&&(e=e.substr(1)),!isNaN(parseInt(e,16))){var a=[],n=0;if(e.length<=4){for(n=0;!isNaN(parseInt(e.substr(n,1),16));)a[n]=parseInt(e.substr(n,1).repeat(2),16),n++;void 0!==t&&(a[3]=Math.min(Math.max(parseFloat(t),0),1))}else if(e.length<=8){for(n=0;!isNaN(parseInt(e.substr(2*n,2),16));)a[n]=parseInt(e.substr(2*n,2),16),n++;void 0!==t&&(a[3]=Math.min(Math.max(parseFloat(t),0),1))}else a=!1;i=(void 0!==a[3]?"rgba":"rgb")+"("+a.join(",")+")"}return i},Main.prototype._getData=function(e){if(null==this._data){var t=this,i="".concat(this._opts.embedData.baseurl,"/").concat(this._opts.embedData.playoutIndicator,"/").concat(this._opts.embedData.playoutSafeName,"/").concat(this._opts.embedData.contentIndicator,"/").concat(this._opts.embedData.contentId,".json");$fZtuh.fetchData(i).then((function(i){t._data=i,"function"==typeof e&&e(!0)})).catch((function(i){t._logError("json request failed: "+i),"function"==typeof e&&e(!1)}))}else"function"==typeof e&&e(!0)},Main.prototype._dataCallback=function(e){if(!0!==this._opts.noSkinMode&&(this._initSkin(this._opts.customSkinInfo)||this._logError("failed to init skin")),e){var t,i,a;void 0!==this._data.playoutData&&this.$element.trigger("bb_playout_loaded",[{playoutData:this._data.playoutData}]);var n=(null===(t=this._opts)||void 0===t||null===(i=t.requestParams)||void 0===i?void 0:i.initiator)||(null===(a=this._opts)||void 0===a?void 0:a.initiator)||"default",s=void 0,o=this._data&&this._data.playoutData&&this._data.playoutData.t?Main.tToTime(this._data.playoutData.t):void 0;if(void 0!==this._data.clipListData&&null!=this._data.clipListData){"default"===n&&(n="cliplist"),this._data.projectData?(this._data.projectData.isPrefetch=!0,this._data.clipListData.items||(this._data.clipListData.items=[]),this._data.clipListData.items[0]=this._data.projectData):this._data.clipData&&(this._data.clipData.isPrefetch=!0,this._data.clipListData.items||(this._data.clipListData.items=[]),this._data.clipListData.items[0]=this._data.clipData);var r=this._opts&&this._opts.usingSuggest;r&&"cliplist"===n&&(n="suggest"),null!=this._programController&&(r?(this._data.clipData.isPrefetch=!0,this._programController.loadData(this._data.clipData,n,s,o)):this._programController.loadData(this._data.clipListData,n,s,o))}else void 0!==this._data.projectData&&null!=this._data.projectData?(void 0!==this._data.clipData&&null!=this._data.clipData&&(this._data.clipData.isPrefetch=!0,this._data.projectData.mainMediaClipData=this._data.clipData),this._programController&&this._programController.loadData(this._data.projectData,n,s,o)):void 0!==this._data.clipData&&null!=this._data.clipData?(this._data.clipData.isPrefetch=!0,null!=this._programController&&this._programController.loadData(this._data.clipData,n,s,o)):null!=this._programController&&this._programController.load(this._opts.embedData.contentId,this._opts.embedData.contentIndicator,n,s,o)}},Main.prototype._initCmdQueue=function(){window.bluebillywig&&void 0===window.bluebillywig.cmd&&(window.bluebillywig.cmd=[]),window.bluebillywig&&void 0===window.bluebillywig._cmdQueueHandlers&&(window.bluebillywig._cmdQueueHandlers=[]),this._cmdQueueHandler=$parcel$interopDefault($6gF5a).proxy(this._handleCmdQueue,this),window.bluebillywig._cmdQueueHandlers.push(this._cmdQueueHandler),window.bluebillywig.cmd.hasOwnProperty("_regularPush")||(window.bluebillywig.cmd._regularPush=window.bluebillywig.cmd.push,window.bluebillywig.cmd.push=function(e){window.bluebillywig.cmd._regularPush(e);for(var t=0;t<window.bluebillywig._cmdQueueHandlers.length;t++){var i=window.bluebillywig._cmdQueueHandlers[t];"function"==typeof i&&i()}}),this._handleCmdQueue()},Main.prototype._handleCmdQueue=function(){for(var e=window.bluebillywig.cmd.length,t=0;t<e;t++)window.bluebillywig.cmd[t]=this._handleCmd(window.bluebillywig.cmd[t]);for(var i=e-1;i>=0;)null===window.bluebillywig.cmd[i]&&window.bluebillywig.cmd.splice(i,1),i--},Main.prototype._handleCmd=function(e){return"function"==typeof e?(e(this.api),null):(null==e?void 0:e.playerId)&&"function"==typeof e.callback&&this.api._playerId===e.playerId||(null==e?void 0:e.playerAlias)&&"function"==typeof e.callback&&this.api._playerAlias===e.playerAlias?(e.callback(this.api),null):((null==e?void 0:e.playerId)||(null==e?void 0:e.playerAlias))&&"function"==typeof e.callback?e:null},Main.prototype._exitCmdQueue=function(){if(this._cmdQueueHandler){if(window.bluebillywig._cmdQueueHandlers&&window.bluebillywig._cmdQueueHandlers.length){var e=window.bluebillywig._cmdQueueHandlers.indexOf(this._cmdQueueHandler);e>=0&&window.bluebillywig._cmdQueueHandlers.splice(e,1)}this._cmdQueueHandler=null}},Main.tToTime=function(e){var t=void 0;if("string"==typeof e&&e.match(/^\d*h?\d*m?[\d.]+s?$/i)&&(e=e.replace(/h|m/gi,":").replace(/s/gi,"")),"string"==typeof e&&e.match(/\:+/)){t=0;for(var i=e.split(/\:+/g).reverse(),a=0;a<i.length;a++)isNaN(parseFloat(i[a]))||(t+=parseFloat(i[a])*Math.pow(60,a))}else t=parseFloat(e);return t},Main.prototype._logError=function(e){this.$element.trigger("bb_error",[{msg:e}])}})),parcelRequire.register("5Tefj",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("k0pvG");parcelRequire("boCbw");var a=parcelRequire("6gF5a"),n=function(e,t){var a;this.$element=null,this._opts=void 0!==t?t:null,void 0!==e&&null!=e&&(this.$element=e,i.default.getService(this._opts.playerAliasOrId).setInstance("PlayoutController",this)),this._originalPlayout=(null===(a=this._opts)||void 0===a?void 0:a.playoutData)||{},this._resetPlayout={}};n.prototype.exit=function(){return i.default.getService(this._opts.playerAliasOrId).setInstance("PlayoutController",null),this._opts=null,null},n.prototype.loadData=function(e){var t=!1;if(void 0!==e&&null!=e){if(this._opts||(this._opts={}),this._opts.playoutData||(this._opts.playoutData={}),e!==this._opts.playoutData){for(var i in this._opts.playoutData)this._opts.playoutData[i]=void 0;for(var i in e)this._opts.playoutData[i]=e[i]}this.$element.trigger("bb_playout_loaded",[{playoutData:this._opts.playoutData}]),t=!0}return t},n.prototype.updateData=function(e){var t=!1;if(void 0!==e&&null!=e&&(this._opts||(this._opts={}),this._opts.playoutData||(this._opts.playoutData={}),e!==this._opts.playoutData)){for(var i in e){var a=e[i];try{a&&!JSON.stringify(a)&&(a=a.toString())}catch(e){a=null}this._opts.playoutData[i]=a}this.$element.trigger("bb_playout_changed",[{playoutData:e}]),t=!0}return t},n.prototype.setTemporaryPlayoutData=function(e){if(e){var t;for(var i in e)this._resetPlayout[i]=this._originalPlayout&&void 0!==this._originalPlayout[i]?this._originalPlayout[i]:null;return null===(t=this.$element)||void 0===t||t.trigger("bb_playout_changed",[{playoutData:$parcel$interopDefault(a).extend(!0,{},e)}]),!0}return!1},n.prototype.resetTemporaryPlayoutData=function(){var e;this._resetPlayout&&(null===(e=this.$element)||void 0===e||e.trigger("bb_playout_changed",[{playoutData:$parcel$interopDefault(a).extend(!0,{},this._resetPlayout)}]),this._resetPlayout={})}})),parcelRequire.register("6Dz88",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG"),n=parcelRequire("8aMPH"),s=parcelRequire("8KpF0"),o=function(e,t,s){var o,r,l,d,u,h;if(this.$element=null,this._opts=t,this._eventNS="SkinController"+String(Math.random()).replace(".",""),this._name=(null==s?void 0:s.name)||"default",this._skinType="Skin",this._skin=null,this._$skinLayer=null,this._autoPlayOnlyWithPrerollAdCheckDone=!1,this._autoPlayOrInviewPlay="true"===(null===(o=this._opts)||void 0===o||null===(r=o.playoutData)||void 0===r?void 0:r.autoPlay)||"string"==typeof(null===(l=this._opts)||void 0===l||null===(d=l.playoutData)||void 0===d?void 0:d.interactivity_inView)&&this._opts.playoutData.interactivity_inView.toLowerCase().indexOf("play")>-1,s&&(this._skinType=s.windowObjectName||"Skin",this._skinCssNS=(s.prefix||"bb-skin-")+Math.random().toString(36).substr(2),this._skinCss=s.css||null,this._skinHtml=s.html||null,s.containerSelector&&this._skinCss)){var c=new RegExp(s.containerSelector.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"(?!(-|_))","g");this._skinCss=this._skinCss.replace(c,"#"+this._skinCssNS)}if(this._backgroundColor="#123456",this._youTubeSkinInMainPhase="true"===(null===(u=this._opts)||void 0===u||null===(h=u.playoutData)||void 0===h?void 0:h.youTubeSkinInMainPhase),this._onPhaseChangeBound=this._onPhaseChange.bind(this),this._onHeadSelectedBound=this._onHeadSelected.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),e){var p,_;this.$element=e,a.default.getService(this._opts.playerAliasOrId).setInstance("SkinController",this);var m=this.$element.get(0),f=this.$element.find(".bb-skin-layer-host");(null==f?void 0:f.length)>0&&(m=f[0].shadowRoot);var y=m.querySelector(".bb-skin-layer");if(y&&(this._$skinLayer=$parcel$interopDefault(i)(y)),(null===(p=this._opts)||void 0===p||null===(_=p.playoutData)||void 0===_?void 0:_.autoPlayOnlyWithPrerollAd)&&this._autoPlayOrInviewPlay){var v,g=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections");if(g.canAutoPlay||g.canAutoPlayMuted)null===(v=this._$skinLayer)||void 0===v||v.hide(),this._onAutoPlayCheckReadyBind=this._onAutoPlayCheckReady.bind(this),this.$element.on("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBind),this._onCommercialPlayingBind=this._onCommercialPlaying.bind(this),this.$element.on("bb_commercial_playing",this._onCommercialPlayingBind);else this._autoPlayOnlyWithPrerollAdCheckDone=!0}var b=a.default.getService(this._opts.playerAliasOrId);this._api=b.getInstance("PublicAPI"),this._handleWindowedSkin(),this._skin=this._createSkin();var w,k,$=this.getGeneration();if(n.default("[SkinController] getGeneration: "+$),$>=8)null===(w=b.getInstance("ContextMenu"))||void 0===w||w.exit(),null===(k=b.getInstance("AutoPlayNextTimer"))||void 0===k||k.exit();this.$element.on("bb_phase_change",this._onPhaseChangeBound),this.$element.on("bb_head_selected",this._onHeadSelectedBound),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound)}};o.prototype.exit=function(){var e;return this.$element&&(this.$element.off("bb_phase_change",this._onPhaseChangeBound),this.$element.off("bb_head_selected",this._onHeadSelectedBound),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this._onCommercialPlayingBind&&(this.$element.off("bb_commercial_playing",this._onCommercialPlayingBind),delete this._onCommercialPlayingBind),this._onAutoPlayCheckReadyBind&&(this.$element.off("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBind),delete this._onAutoPlayCheckReadyBind)),"function"==typeof(null===(e=this._skin)||void 0===e?void 0:e.exit)&&(this._skin=this._skin.exit()),a.default.getService(this._opts.playerAliasOrId).setInstance("SkinController",null),null},o.skins={},o.prototype.show=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.show))try{this._skin.show(e)}catch(e){}},o.prototype.hide=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.hide))try{this._skin.hide(e)}catch(e){}},o.prototype.enable=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.enable))try{this._skin.enable(e)}catch(e){}},o.prototype.disable=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.disable))try{this._skin.disable(e)}catch(e){}},o.prototype.isVisible=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.isVisible))try{return this._skin.isVisible(e)}catch(e){}return!1},o.prototype.isEnabled=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.isEnabled))try{return this._skin.isEnabled(e)}catch(e){}return!1},o.prototype.updateSkinVisibility=function(){var e,t;this._youTubeSkinInMainPhase&&"MAIN"===this._phase&&"youtube"===this._headType||"true"===(null===(e=this._opts)||void 0===e||null===(t=e.playoutData)||void 0===t?void 0:t.autoPlayOnlyWithPrerollAd)&&this._autoPlayOrInviewPlay&&!this._autoPlayOnlyWithPrerollAdCheckDone?this._$skinLayer&&this._$skinLayer.hide():this._$skinLayer&&this._$skinLayer.show()},o.prototype._onPhaseChange=function(e,t){var i,a;(null==t?void 0:t.phase)&&(this._phase=t.phase,"MAIN"===this._phase&&"true"===(null===(i=this._opts)||void 0===i||null===(a=i.playoutData)||void 0===a?void 0:a.autoPlayOnlyWithPrerollAd)&&(this._autoPlayOnlyWithPrerollAdCheckDone=!0),this.updateSkinVisibility())},o.prototype._onHeadSelected=function(e,t){(null==t?void 0:t.headType)&&(this._headType=t.headType?t.headType.toLowerCase():"unknown",this.updateSkinVisibility())},o.prototype._onPlayoutChanged=function(e,t){(null==t?void 0:t.youTubeSkinInMainPhase)&&(this._youTubeSkinInMainPhase="true"===t.youTubeSkinInMainPhase,this.updateSkinVisibility())},o.prototype._onCommercialPlaying=function(e){this._autoPlayOnlyWithPrerollAdCheckDone=!0,this.updateSkinVisibility()},o.prototype._onAutoPlayCheckReady=function(e,t){var i=this;!1===(null==t?void 0:t.canAutoPlayMuted)?(this._autoPlayOnlyWithPrerollAdCheckDone=!0,this.updateSkinVisibility()):setTimeout((function(){i._autoPlayOnlyWithPrerollAdCheckDone=!0,i.updateSkinVisibility()}),500)},o.prototype._handleWindowedSkin=function(){var e,t;if(null===(e=window.bluebillywig)||void 0===e||null===(t=e._internal)||void 0===t?void 0:t[this._skinType]){var i=window.bluebillywig._internal[this._skinType];"Skin"===this._skinType?s="function"==typeof i.noConflict?i.noConflict(!0):i:o.skins[this._skinType]="function"==typeof i.noConflict?i.noConflict(!0):i}else if(window[this._skinType]){var a=window[this._skinType];o.skins[this._skinType]="function"==typeof a.noConflict?a.noConflict(!0):a}},o.prototype.getGeneration=function(e){return e=e||this._skin,8},o.prototype._createSkin=function(){var e;n.default("[SkinController] _createSkin of type: "+this._skinType);var t=null,a=$parcel$interopDefault(i)('<div class="bb-container" style="position:absolute; width:100%; height:100%; top:0; left:0;"></div>');if(n.debugMode&&performance.mark("CreateSkin "+this._skinType),this._$skinLayer&&((this._skinCss||this._skinHtml)&&this._$skinLayer.empty(),this._skinCss&&this._$skinLayer.bb_htmlSanitized('<style type="text/css">'+this._skinCss+"</style>"),this._skinHtml&&"\x3c!-- empty --\x3e"!==this._skinHtml?this._$skinLayer.bb_appendSanitized(this._skinHtml):this._$skinLayer.append(a)),"Skin"===this._skinType)"function"==typeof s&&(t=new s(this._api,this._skinCssNS));else"function"==typeof o.skins[this._skinType]&&(t=new o.skins[this._skinType](this._api,this._skinCssNS));return n.debugMode&&performance.mark("end_CreateSkin "+this._skinType),null===t&&a.remove(),null===(e=this.$element)||void 0===e||e.trigger("bb_skin_created",[{skinGeneration:this.getGeneration(t)}]),t}})),parcelRequire.register("8KpF0",(function(e,t){parcelRequire("dhZ6J");var i,a=parcelRequire("dwEjG"),n=parcelRequire("4h4pL"),s=parcelRequire("87rX1"),o=parcelRequire("b3HW6"),r=parcelRequire("e2GJT"),l=parcelRequire("5ZUO7"),d=parcelRequire("1tpNq"),u=parcelRequire("56Oox"),h=parcelRequire("WI3YU"),c=parcelRequire("flMmK"),p=Object.defineProperty,_=function(e,t,i){return function(e,t,i){t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i}(e,"symbol"!=(void 0===t?"undefined":a.default(t))?t+"":t,i),i};function m(){}function f(e){return e()}function y(){return Object.create(null)}function v(e){e.forEach(f)}function g(e){return"function"==typeof e}function b(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function w(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function k(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var s;if(null==e)return m;var o=(s=e).subscribe.apply(s,n.default(i));return o.unsubscribe?function(){return o.unsubscribe()}:o}function $(e){var t;return k(e,(function(e){return t=e}))(),t}function C(e,t,i){e.$$.on_destroy.push(k(t,i))}function S(e,t,i,a){if(e){var n=P(e,t,i,a);return e[0](n)}}function P(e,t,i,a){return e[1]&&a?function(e,t){for(var i in t)e[i]=t[i];return e}(i.ctx.slice(),e[1](a(t))):i.ctx}function A(e,t,i,a){if(e[2]&&a){var n=e[2](a(i));if(void 0===t.dirty)return n;if("object"==typeof n){for(var s=[],o=Math.max(t.dirty.length,n.length),r=0;r<o;r+=1)s[r]=t.dirty[r]|n[r];return s}return t.dirty|n}return t.dirty}function x(e,t,i,a,n,s){if(n){var o=P(t,i,a,s);e.p(o,n)}}function D(e){if(e.ctx.length>32){for(var t=[],i=e.ctx.length/32,a=0;a<i;a++)t[a]=-1;return t}return-1}var I,M=("undefined"==typeof window?"undefined":a.default(window))<"u"?function(e){return requestAnimationFrame(e)}:m;function T(e,t){e.appendChild(t)}function E(e,t,i){var a=function(e){if(!e)return document;var t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}(e);if(!a.getElementById(t)){var n=O("style");n.id=t,n.textContent=i,function(e,t){T(e.head||e,t),t.sheet}(a,n)}}function R(e,t,i){e.insertBefore(t,i||null)}function q(e){e.parentNode.removeChild(e)}function O(e){return document.createElement(e)}function H(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function B(){return L(" ")}function F(e,t,i,a){return e.addEventListener(t,i,a),function(){return e.removeEventListener(t,i,a)}}function N(e,t,i){null==i?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function U(e){return Array.from(e.childNodes)}function V(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function W(e,t){e.value=null==t?"":t}function z(e,t,i,a){null===i?e.style.removeProperty(t):e.style.setProperty(t,i,a?"important":"")}function j(e,t,i){e.classList[i?"add":"remove"](t)}function J(e){I=e}function Q(){if(!I)throw new Error("Function called outside component initialization");return I}function G(e){Q().$$.on_mount.push(e)}function K(e,t){var i=this,a=e.$$.callbacks[t.type];a&&a.slice().forEach((function(e){return e.call(i,t)}))}var Y=[],Z=[],X=[],ee=[],te=Promise.resolve(),ie=!1;function ae(e){X.push(e)}var ne=new Set,se=0;function oe(){var e=I;do{for(;se<Y.length;){var t=Y[se];se++,J(t),re(t.$$)}for(J(null),Y.length=0,se=0;Z.length;)Z.pop()();for(var i=0;i<X.length;i+=1){var a=X[i];ne.has(a)||(ne.add(a),a())}X.length=0}while(Y.length);for(;ee.length;)ee.pop()();ie=!1,ne.clear(),J(e)}function re(e){if(null!==e.fragment){e.update(),v(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ae)}}var le,de=new Set;function ue(){le={r:0,c:[],p:le}}function he(){le.r||v(le.c),le=le.p}function ce(e,t){e&&e.i&&(de.delete(e),e.i(t))}function pe(e,t,i,a){if(e&&e.o){if(de.has(e))return;de.add(e),le.c.push((function(){de.delete(e),a&&(i&&e.d(1),a())})),e.o(t)}else a&&a()}function _e(e){e&&e.c()}function me(e,t,i,a){var s=e.$$,o=s.fragment,r=s.after_update;o&&o.m(t,i),a||ae((function(){var t,i=e.$$.on_mount.map(f).filter(g);e.$$.on_destroy?(t=e.$$.on_destroy).push.apply(t,n.default(i)):v(i),e.$$.on_mount=[]})),r.forEach(ae)}function fe(e,t){var i=e.$$;null!==i.fragment&&(v(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function ye(e,t){-1===e.$$.dirty[0]&&(Y.push(e),ie||(ie=!0,te.then(oe)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ve(e,t,i,a,n,s,o){var r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],l=I;J(e);var d=e.$$={fragment:null,ctx:[],props:s,update:m,not_equal:n,bound:y(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:y(),dirty:r,skip_bound:!1,root:t.target||l.$$.root};o&&o(d.root);var u=!1;if(d.ctx=i?i(e,t.props||{},(function(t,i){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];var r=s.length?s[0]:i;return d.ctx&&n(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),u&&ye(e,t)),i})):[],d.update(),u=!0,v(d.before_update),d.fragment=!!a&&a(d.ctx),t.target){if(t.hydrate){var h=U(t.target);d.fragment&&d.fragment.l(h),h.forEach(q)}else d.fragment&&d.fragment.c();t.intro&&ce(e.$$.fragment),me(e,t.target,t.anchor,t.customElement),oe()}J(l)}var ge=function(){function e(){s.default(this,e)}return o.default(e,[{key:"$destroy",value:function(){fe(this,1),this.$destroy=m}},{key:"$on",value:function(e,t){if(!g(t))return m;var i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},{key:"$set",value:function(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),e}();function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?t.map((function(e){return parseInt(e,16)})).slice(1):null}function we(e,t,i){var a=[e,t,i].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*a[0]+.7152*a[1]+.0722*a[2]}function ke(e,t){var i=be(e),a=be(t);return i&&a?function(e,t){var i=we(e[0],e[1],e[2]),a=we(t[0],t[1],t[2]);return(Math.max(i,a)+.05)/(Math.min(i,a)+.05)}(i,a):0}var $e=[];function Ce(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,a=function(i){if(b(e,i)&&(e=i,t)){var a=!$e.length,n=!0,s=!1,r=void 0;try{for(var l,d=o[Symbol.iterator]();!(n=(l=d.next()).done);n=!0){var u=l.value;u[1](),$e.push(u,e)}}catch(e){s=!0,r=e}finally{try{n||null==d.return||d.return()}finally{if(s)throw r}}if(a){for(var h=0;h<$e.length;h+=2)$e[h][0]($e[h+1]);$e.length=0}}},n=function(t){a(t(e))},s=function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,r=[n,s];return o.add(r),1===o.size&&(t=i(a)||m),n(e),function(){o.delete(r),0===o.size&&(t(),t=null)}},o=new Set;return{set:a,update:n,subscribe:s}}function Se(e,t,i){var a=!Array.isArray(e),n=a?[e]:e,s=t.length<2;return function(e,t){return{subscribe:Ce(e,t).subscribe}}(i,(function(e){var i=!1,o=[],r=0,l=m,d=function(){if(!r){l();var i=t(a?o[0]:o,e);s?e(i):l=g(i)?i:m}},u=n.map((function(e,t){return k(e,(function(e){o[t]=e,r&=~(1<<t),i&&d()}),(function(){r|=1<<t}))}));return i=!0,d(),function(){v(u),l()}}))}var Pe=Ce({}),Ae=Ce(8),xe=Ce(null),De=Ce(0),Ie=Ce({}),Me=Ce({}),Te=Se([Ie,Me],(function(e,t){var i=r.default(e,2),a=i[0],n=i[1],s={};Dt.subscribe((function(e){var i,o,r,l=$(nt),d=$(Pe),u=$(xt),h=$(tt),c=l&&"paused"===e,p={title:!(null!=d&&d.title)||"show"!==a.title&&!l||"show"!==a.titlePause&&c||"show"!==a.titleHover&&h,author:!(null!=d&&d.author)||"show"!==a.authorCopyright&&!l||"show"!==a.authorCopyrightPause&&c||"show"!==a.authorCopyrightHover&&h,copyright:!(null!=d&&d.copyright)||"show"!==a.authorCopyright&&!l||"show"!==a.authorCopyrightPause&&c||"show"!==a.authorCopyrightHover&&h,controlBar:l&&"hide"===a.controlBar||!l&&"hide"===a.showStartControlBar,bigPlayButton:!0!==a.showBigPlayButton&&!l||!0!==a.showBigPauseButtons&&c||!0!==a.showBigHoverButtons&&h||!0!==a.showBigReplayButton&&"EXIT"===u,muteButton:"hide"===a.muteButton,volumeSliderHorizontal:"hide"===a.volume,timeDisplay:"hide"===a.timeDisplay,currentTime:!(null!=(i=a.timeDisplay)&&i.includes("progress")),remaining:!(null!=(o=a.timeDisplay)&&o.includes("remaining")),duration:!(null!=(r=a.timeDisplay)&&r.includes("total")),commercialPauseButton:!0!==a.commercialPauseButton,commercialMuteButton:!0!==a.commercialMuteButton,commercialProgressBar:!0!==a.commercialProgressBar,subtitleButton:"hide"===a.languageSelect,castButton:"show"!==a.castButton,fullscreenButton:"show"!==a.fullScreen,shareButton:"show"!==a.shareButton||!l,progressBar:"show"!==a.timeLine,framePreview:!0===a.disableFramePreview,relatedItems:!l&&"show"!==a.relatedItems||c&&"show"!==a.relatedItemsPause};p.centerControls=p.seekButtons=p.bigPlayButton,qe.forEach((function(e){var t,i,a;s[e]={hidden:(null==(t=n[e])?void 0:t.hidden)||p[e]&&!1!==(null==(i=n[e])?void 0:i.hidden),disabled:null==(a=n[e])?void 0:a.disabled}})),t(s)}))}));function Ee(e){var t=function(e){return!1!==(null==e?void 0:e.linkPauseHoverStates)&&(e.showBigHoverButtons=e.showBigPauseButtons,e.titleHover=e.titlePause,e.authorCopyrightHover=e.authorCopyrightPause),e}(function(e){var t=l.default({},e);return Object.keys(t).forEach((function(e){var i=t[e];"true"===i?t[e]=!0:"false"===i&&(t[e]=!1)})),t}(function(e){var t={};return Object.keys(e).forEach((function(i){"string"==typeof e[i]?t[i]=e[i].toLowerCase():t[i]=e[i]})),t}(e)));Ie.set(t),Re();var i=e.autoPlayNextTimeout?e.autoPlayNextTimeout:8;$(Ae)!==i&&(Ae.set(i),xe.set(i),De.set(0))}function Re(){var e,t,i="commercial"===$(It)?null==(e=$(Ie))?void 0:e.commercialProgressBarColor:null==(t=$(Ie))?void 0:t.skin_foregroundColor;if(i){var a="#".concat(i);et.set(a),ke(a,"#ffffff")<3?Xe.set("#000000"):Xe.set("#ffffff")}}var qe=["controls","header","headerPause","title","titlePause","author","authorPause","copyright","copyrightPause","date","loadSpinner","bigButtonContainer","bigPlayButton","bigReplayButton","logo","contrast","nonTouchSlider","playPauseButton","muteButton","volumeButton","volumeSliderHorizontal","volumeSliderVertical","zoomButton","audio","quality","shareButton","castButton","shareButtonTouch","duration","timeTell","remaining","timeBorder","current","autoPlayOnly","relatedCarousel","subtitle","touchSlider","playbackRatePane","timeDisplay","currentTime","settingsButton","cogButton","controlBar","seekButtons","subtitlesButton","progressBar","framePreview","relatedItems","fullscreenButton","centerControls","commercialPauseButton","commercialMuteButton","commercialProgressBar","subtitleButton","chapterButton"],Oe=Ce(!1),He=Ce(!1),Le=Ce(!1),Be=Ce(!1),Fe=Ce(""),Ne=[{elementName:"playPauseButton",key:" ",keyLabel:"Space",action:function(){Fe.set("space"),!Qe||($(tt)?(null==Qe||Qe.pause(),tt.set(!1)):$i())}},{elementName:"progressBar",key:"ArrowLeft",keyLabel:"Left",action:function(){ki($(mt)-10,!1,!1),Fe.set("left")}},{elementName:"progressBar",key:"ArrowRight",keyLabel:"Left",action:function(){ki($(mt)+10,!1,!1),Fe.set("right")}},{elementName:"muteButton",key:"m",keyLabel:"m",action:function(){Fe.set("m"),wi()}},{elementName:"fullscreenButton",key:"f",keyLabel:"f",action:function(){Qe.toggleFullscreen()}},{elementName:"subtitleButton",key:"c",keyLabel:"c",action:function(){Fe.set("c"),function(){if("-1"===$(Mt)){var e=$(Et);Qe.setSubtitle(e||$(Ct)[0])}else Qe.setSubtitle("-1")}()}},{elementName:"volumeSliderHorizontal",key:"ArrowUp",keyLabel:"Up",action:function(){bi(Math.max(0,Math.min(1,Qe.getVolume()+.1))),Fe.set("up")}},{elementName:"volumeSliderHorizontal",key:"ArrowDown",keyLabel:"Down",action:function(){bi(Math.max(0,Math.min(1,Qe.getVolume()-.1))),Fe.set("down")}},{key:"?",keyLabel:"Question mark",action:function(){$(Be)||Oe.set(!0),Be.set(!$(Be))}},{key:"Enter",keyLabel:"Enter",action:function(e){var t;He.set(!0);var i=e.composedPath()[0];null!=(t=null==i?void 0:i.className)&&t.includes("button-content")&&(i.click(),null==e||e.preventDefault())}},{key:"Escape",keyLabel:"Escape",action:function(){Oe.set(!0)}}],Ue=Ce({adPosition:null,totalAds:null}),Ve=Ce({}),We={nl:{"tooltip-playPauseButton":"Afspelen/Pauzeren","tooltip-muteButton":"Geluid dempen/Geluid aanzetten"},en:{"tooltip-playPauseButton":"Play/Pause","tooltip-muteButton":"Mute/Unmute"},sv:{"tooltip-playPauseButton":"Spela/Paus","tooltip-muteButton":"Ljud av/på"}};function ze(){var e=function(e){var t,i;t=navigator.languages&&navigator.languages.length?n.default(navigator.languages):[navigator.language||"en"];var a=!0,s=!1,o=void 0;try{for(var r,l=t[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var d=r.value.slice(0,2);if(e.includes(d)){i=d;break}}}catch(e){s=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw o}}return i||"en"}(Object.keys(We));Ve.set(We[e])}function je(e){return $(Ve)[e]||e}function Je(){if(Qe){var e=10,t=$(pt);t>2e3?e=.6666666666666666*Math.floor(t/1e3)*20:t>480&&(e=20);var i=Math.ceil(2*e);devicePixelRatio>1&&(i*=Math.min(3,devicePixelRatio));var a=Qe.getLogo(null,Math.ceil(i));null!=a&&a.src?wt.set(a):wt.set(null)}}var Qe,Ge,Ke,Ye,Ze=Ce("#ffffff"),Xe=Ce("#ffffff"),et=Ce("#ED6A5D"),tt=Ce(!1),it=Ce(!1),at=Ce(!1),nt=Ce(!1),st=Ce(!1),ot=Ce(1),rt=Ce(!1),lt=Ce(!1),dt=Ce(!1),ut=Ce(""),ht=Ce(null),ct=Ce(""),pt=Ce(0),_t=Ce(0),mt=Ce(0),ft=Ce(0),yt=Ce(null),vt=Ce(1),gt=Ce([]),bt=Ce([]),wt=Ce(null),kt=Ce(null),$t=Ce([]),Ct=Ce([]),St=Ce([]),Pt=Ce({}),At=Ce(!1),xt=Ce("INIT"),Dt=Ce(""),It=Ce(""),Mt=Ce("-1"),Tt=Ce("-1"),Et=Ce(null),Rt=Ce(!1),qt=Ce(!1),Ot=Ce(!1),Ht=Ce([]),Lt=Ce(),Bt=Ce(-1),Ft=Ce(!1),Nt=!1,Ut=null,Vt=0,Wt=!0,zt=null,jt=null,Jt=!1,Qt=!1,Gt=!1,Kt=!1,Yt=null,Zt="playing play pause autopause timeupdate progress modechange phasechange statechange durationchange volumechange fullscreenchange ratechange assetlistchange assetselected subtitlechange subtitlelinechange resized flagchange castsessionchange castsessionstatechange waiting loadedclipdata loadedprojectdata relatedclipschange audiotrackchange audiotracklistchange seeked seeking changedplayoutdata chapterlistchange";function Xt(e){Pe.set(e),("video"===(null==e?void 0:e.mediatype)||"audio"===(null==e?void 0:e.mediatype))&&(function(){var e,t,i,a=(null==(e=Qe.getSubtitlesList)?void 0:e.call(Qe))||[];null!=a&&a.length&&(a=n.default(a).concat([{id:"-1",languagename:je("Off")}])),Ct.set(a),Mt.set((null==(i=null==(t=Qe.getCurrentSubtitle)?void 0:t.call(Qe))?void 0:i.id)||"-1")}(),ei()),"mainroll"!==(null==e?void 0:e.mediatype)&&Wt&&(ti(),Je(),ii(),vi(),kt.set(Qe.getDetections()),Wt=!1),Wt&&(ii(),Wt=!1),setTimeout((function(){mt.set(0),yt.set(null)}),1),dt.set(!1)}function ei(){var e,t,i,a=(null==(e=Qe.getAudioTracks)?void 0:e.call(Qe))||[];St.set(a),Tt.set((null==(i=null==(t=Qe.getCurrentAudioTrack)?void 0:t.call(Qe))?void 0:i.id)||"-1")}function ti(){var e=Qe.getSharing();bt.set(e)}function ii(){var e=Qe.getDetections();kt.set(e)}function ai(){var e=Qe.getChapterList(),t=parseInt(Qe.getDuration());if(null!=e&&e.length&&"commercial"!==$(It)){var i=[];e.sort((function(e,t){return e.timeOffset-t.timeOffset})),e.forEach((function(a,n){var s={id:a.id,title:a.title,start:a.timeOffset,startPerc:0===a.timeOffset?0:a.timeOffset/t*100,end:e[n+1]?e[n+1].timeOffset:t,endPerc:e[n+1]?e[n+1].timeOffset/t*100:100,duration:e[n+1]?e[n+1].timeOffset-a.timeOffset:t-a.timeOffset,durationPerc:e[n+1]?(e[n+1].timeOffset-a.timeOffset)/t*100:(t-a.timeOffset)/t*100};i.push(s)})),Ht.set(i)}else Ht.set([])}function ni(){Qe.on(Zt,(function(e){!function(e){var t,i,a,s;if(Qe)switch(null==e?void 0:e.type){case"fullscreenchange":st.set(Qe.isFullscreen());break;case"volumechange":!function(){var e=Qe.getMuted(),t=Qe.getVolume();rt.set(e),ot.set(e?0:t)}();break;case"progress":yt.set(Qe.getBuffered());break;case"seeking":it.set(!0);break;case"seeked":it.set(!1),li(!1),ui();break;case"pause":tt.set(!1);break;case"play":tt.set(!0);break;case"autopause":tt.set(!1),Ft.set(!1);break;case"playing":tt.set(!0),nt.set(!0),it.set(!1),li(!1),Ft.set(!1);break;case"timeupdate":if(ui(),null===Yt)return;var o=$(mt);Yt!==o&&li(!1);break;case"ratechange":vt.set(Qe.getPlaybackRate());break;case"flagchange":!function(){var e=$(kt);!function(e,t){if(e&&t){var i=$(kt);i&&i.isSafari?ut.set("AirPlay"):i&&i.isChrome?ut.set(i.isiOS?"AirPlay":"ChromeCast"):ut.set(i.isAndroid?"ChromeCast":"AirPlay")}else t?ut.set("ChromeCast"):ut.set("AirPlay")}(e.canAirPlay,e.canChromeCast)}();break;case"castsessionchange":vi();break;case"castsessionstatechange":yi();break;case"subtitlechange":var r=Qe.getCurrentSubtitle();Mt.set(r.id);break;case"durationchange":ft.set(Math.round(Qe.getDuration())),Ue.set(Qe.getAdPodInfo());break;case"phasechange":si();break;case"statechange":var l=Qe.getState(),d=$(xt);Dt.set(l),"idle"===l&&"MAIN"===d?xt.set("INIT"):"INIT"===d&&si(),ri();break;case"modechange":It.set(Qe.getMode()),ri(),Re();var u=Qe.getClipData();(null==u?void 0:u.mediatype)&&"mainroll"!==(null==u?void 0:u.mediatype)&&(Ot.set(["live-audio","live-video"].includes($(It))),di(),ai());break;case"relatedclipschange":!function(){var e,t,i=(null==(e=Qe.getRelatedItems)?void 0:e.call(Qe))||(null==(t=Qe.getRelatedClips)?void 0:t.call(Qe))||[];gt.set(n.default(i))}();break;case"audiotrackchange":var h=Qe.getCurrentAudioTrack();Tt.set((null==h?void 0:h.id)||"-1");break;case"audiotracklistchange":ei();break;case"loadedclipdata":tt.set(!1);var c=Qe.getClipData();Xt(c),Gt=(null==(t=null==c?void 0:c.timelines)?void 0:t.length)>0,oi();break;case"loadedprojectdata":var p=Qe.getProjectData();Pe.set(p),Qt=!!((null==p?void 0:p.timelineId)||(null==(i=null==p?void 0:p.timelines)?void 0:i.length)>0),oi();break;case"assetlistchange":!function(){var e,t;$t.set((null==(t=null==(e=null==Qe?void 0:Qe.getAssets)?void 0:e.call(Qe))?void 0:t.sort((function(e,t){return parseFloat(t.bitrate)-parseFloat(e.bitrate)})))||[])}();break;case"assetselected":Pt.set((null==(a=null==Qe?void 0:Qe.getCurrentAsset)?void 0:a.call(Qe))||{});break;case"changedplayoutdata":var _=(null==(s=null==Qe?void 0:Qe.getPlayoutData)?void 0:s.call(Qe))||{};Ee(_),Kt=!(!(null==_?void 0:_.templateId)&&!(null==_?void 0:_.timelineId)),oi(),ri();var m=Qe.getClipData();(null==m?void 0:m.mediatype)&&"mainroll"!==(null==m?void 0:m.mediatype)&&(Je(),ti());break;case"waiting":Yt=$(mt),li(!0);break;case"resized":!function(){var e,t,i=null==(e=null==Qe?void 0:Qe.getWrapper)?void 0:e.call(Qe),a=null==(t=null==i?void 0:i.getBoundingClientRect)?void 0:t.call(i);_t.set((null==a?void 0:a.height)||0),pt.set((null==a?void 0:a.width)||0)}();break;case"chapterlistchange":ai(),hi()}}(e)}))}function si(){var e=Qe.getPhase(),t=$(Ie);($(tt)||(null==t?void 0:t.autoPlay))&&"INIT"===e?Ft.set(!0):(xt.set(e),nt.set(!1)),xt.set(e),"EXIT"!==e&&"POST"!==e&&mt.set(0),di()}function oi(){Jt=Kt||Qt||Gt}function ri(){var e,t=(null==(e=$(Ie))?void 0:e.controlBarPlacement)||"auto",i=$(It),a=$(qt);a||"commercial"!==i&&"alwaysfloating"!==t?a||"alwaysmounted"===t?Rt.set(!0):Rt.set(Jt):Rt.set(!1)}function li(e){e?Ye||(Ye=setTimeout((function(){null!==Yt&&At.set(!0)}),1e3)):(clearTimeout(Ye),Ye=null,Yt=null,At.set(!1))}function di(){var e;qt.set($(_t)<=70&&(null==(e=$(It))?void 0:e.includes("audio")))}function ui(){var e=Math.round(10*Qe.getCurrentTime())/10;mt.set(e),zt||(hi(),zt=setTimeout((function(){zt=null}),1e3))}function hi(){var e;if(null!=(e=$(Ht))&&e.length){var t=$(mt);$(Ht).some((function(e){return e.start<=t&&e.end>t&&(Lt.set(e),!0)}))}else Lt.set(null)}function ci(e){clearTimeout(Ge);var t=function(e){return["SESSION_STARTED","SESSION_RESUMED"].includes(e)}($(ct));!1===e&&t||(e?(setTimeout((function(){return lt.set(!0)}),50),Ge=setTimeout((function(){$(dt)||lt.set(!1)}),2500)):Ge=setTimeout((function(){return lt.set(!1)}),50))}function pi(e){Nt=!0,setTimeout((function(){Nt=!1}),10);var t=$(lt);clearTimeout(Ge);var i=(null==e?void 0:e.composedPath())||(null==e?void 0:e.path);null!=i&&i.some((function(e){var t;return null==(t=null==e?void 0:e.classList)?void 0:t.contains("bb-skin-container")}))?null!=i&&i.some((function(e){var t;return null==(t=null==e?void 0:e.classList)?void 0:t.contains("mobile-control")}))?(Vt&&Date.now()-Vt<300||(Ge=setTimeout((function(){ci(!t)}),300)),Vt=Date.now()):ci(!0):ci(!t)}function _i(e){Nt||(Le.set(!0),jt||(ci(!0),jt=setTimeout((function(){jt=null}),250)))}function mi(e){setTimeout((function(){var t,i,a=null==(i=null==(t=Ci())?void 0:t.shadowRoot)?void 0:i.activeElement;a&&Le.set(!0),a&&["Tab","Enter"].includes(e.key)&&ci(!0),!a&&["Tab"].includes(e.key)&&Le.set(!1)}))}function fi(){ci(!1)}function yi(){var e,t=Qe.getCastSession();ct.set(null==(e=null==t?void 0:t.getSessionState)?void 0:e.call(t))}function vi(){var e=Qe.getCastSession();ht.set(e),yi()}function gi(){var e,t;!Qe||(function(){var e=Qe.getMuted(),t=Qe.getVolume();Ke||(ot.set(e?0:t),Ke=t||1),rt.set(e)}(),ft.set((null==(e=Qe.getDuration)?void 0:e.call(Qe))||0),Ee((null==(t=null==Qe?void 0:Qe.getPlayoutData)?void 0:t.call(Qe))||{}),null==(Ut=Qe.getWrapper())||Ut.addEventListener("touchend",pi),null==Ut||Ut.addEventListener("mousemove",_i),null==Ut||Ut.addEventListener("mouseleave",fi),document.addEventListener("keydown",mi))}function bi(e){e>=.025?(null==Qe||Qe.setVolume(e),null==Qe||Qe.setMuted(!1,!0,!0),Ke=e):(Ke=1,null==Qe||Qe.setMuted(!0,!0,!0))}function wi(){if(Qe.getMuted())bi(null!=Ke?Ke:1);else{var e=$(ot);Qe.setMuted(!0,!0,!0),e<.025&&bi(null!=Ke?Ke:1)}}function ki(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];$(Ot)||((!$(nt)||t)&&$i(),e=Math.max(0,Math.min(e,$(ft))),mt.set(e),Qe.seek(e),i&&ci(!0))}function $i(){Qe.play(!0),tt.set(!0)}function Ci(){return Qe.getSkinLayer()}Mt.subscribe((function(e){"-1"!==e&&Et.set(e)})),Ct.subscribe((function(e){!$(Et)&&(null==e?void 0:e.length)&&Mt.set(e[0].id)})),St.subscribe((function(e){null!=e&&e.length&&Tt.set(e[0].id)}));var Si=Ce(20),Pi=Ce(48),Ai=Ce(70),xi=Ce(56),Di=Ce(16),Ii=Ce(20),Mi=Ce(48),Ti=Ce(6),Ei=Ce(126),Ri=Ce(!1),qi=Ce(0),Oi=Ce(!1),Hi=Ce(!1),Li=Ce(!1),Bi=Ce(!1),Fi=Ce("L"),Ni=Ce("L"),Ui=768,Vi=Math.ceil(16/9),Wi=9/16,zi=Se([_t,pt],(function(e){var t=r.default(e,2);return{height:t[0],width:t[1]}}));qt.subscribe((function(){Ji({height:$(_t),width:$(pt)})})),zi.subscribe((function(e){Ji(e)}));var ji=0;function Ji(e){if(e.width&&e.height){var t=e.width,i=e.height,a=$(qt),n=Math.floor(t/1e3)*(2/3);if(t>2e3){var s=.5*Math.round((t-250)/1e3/.5);Di.set(16*s),Ti.set(6*n)}else Di.set(Math.min(20,Math.max(14,Math.round(t/64)))),Ti.set(6);t>2e3?(Si.set(20*n),Ai.set(70*n),Pi.set(48*n),xi.set(56*n),Ii.set(20*n),Ei.set(126*n*2),Mi.set(48*n)):t>Ui?(Ai.set(70),Pi.set(48),xi.set(56),Ii.set(20),Mi.set(48),t>1008?(Si.set(20),Ei.set(157.5)):(Si.set(18),Ei.set(126))):(Si.set(16),Pi.set(38),xi.set(40),Mi.set(10),t>480?(Ai.set(54),Ii.set(20),Ei.set(126)):(Ai.set(32),Ii.set(10),Ei.set(95))),t>Ui?Fi.set("L"):t>480?Fi.set("S"):Fi.set("XS"),i>432?Ni.set("L"):i>270?Ni.set("S"):Ni.set("XS"),Li.set(t>600),Hi.set(i>t),Oi.set(i<225),Bi.set(t<=320),function(e,t){e<=432||t/e>Vi?Ri.set(!0):Ri.set(!1);var i=2.5,a=10;t>480&&(i=3.5),t>768&&(i=4.5),t<360&&e<202.5&&(a=5),t<300&&e<168.75&&(i=3.5);var n,s=Math.ceil(t/i*Wi)/e;n=t*(16/9)<e?Math.floor(s*e*1.5):Math.floor(s*e),qi.set(Math.floor(n/a)*a)}(i,t),a&&(Pi.set(i),Si.set(.33*i))}}function Qi(e){e=Math.max(e,0);var t=Math.floor(e/3600),i=Math.floor(e/60)%60,a=Math.floor(e%60);return"".concat(t?t+":":"").concat(i<10?"0"+i:i,":").concat(a<10?"0":"").concat(a)}function Gi(e){E(e,"svelte-51c052",".frame-preview.svelte-51c052.svelte-51c052.svelte-51c052{pointer-events:none;width:100%;display:flex;flex-direction:column;gap:8px}@supports (-webkit-touch-callout: none) and (not (translate: none)){.frame-preview.svelte-51c052>.svelte-51c052+.svelte-51c052{margin-left:8px}}.frame-preview.svelte-51c052 video.svelte-51c052.svelte-51c052{width:100%;box-shadow:0 2px 2px rgba(0, 0, 0, 0.4);border:3px solid var(--foreground-color);border-radius:5px}.frame-preview.svelte-51c052 .time.svelte-51c052.svelte-51c052{text-align:center}.frame-preview.svelte-51c052 .time .header.svelte-51c052.svelte-51c052{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:6px;font-size:0.8em}.frame-preview.svelte-51c052 .time .time-text.svelte-51c052.svelte-51c052{color:white;font-size:0.9em;font-weight:bold;padding:0.2em;border-radius:3px;text-shadow:0px 1px 0px rgba(0, 0, 0, 0.25)}")}function Ki(e){var t,i;return{c:function(){t=O("div"),i=L(e[1]),N(t,"class","header svelte-51c052")},m:function(e,a){R(e,t,a),T(t,i)},p:function(e,t){2&t&&V(i,e[1])},d:function(e){e&&q(t)}}}function Yi(e){var t,i,a,n,s,o,l,d,u,h,c,p=!1,_=Qi(e[0])+"";function f(){cancelAnimationFrame(n),i.paused||(n=M(f),p=!0),e[8].call(i)}var y=e[1]&&Ki(e);return{c:function(){t=O("div"),i=O("video"),s=B(),o=O("div"),y&&y.c(),l=B(),d=O("span"),u=L(_),N(i,"tabindex","-1"),i.muted=!0,w(i.src,a=e[2])||N(i,"src",a),N(i,"class","svelte-51c052"),z(i,"visibility",e[3]),N(d,"class","time-text svelte-51c052"),N(o,"class","time svelte-51c052"),N(t,"class","frame-preview svelte-51c052")},m:function(a,n){R(a,t,n),T(t,i),T(t,s),T(t,o),y&&y.m(o,null),T(o,l),T(o,d),T(d,u),h||(c=[F(i,"timeupdate",f),F(i,"canplay",e[5])],h=!0)},p:function(e,t){var n=r.default(t,1)[0];4&n&&!w(i.src,a=e[2])&&N(i,"src",a),!p&&16&n&&!isNaN(e[4])&&(i.currentTime=e[4]),p=!1,8&n&&z(i,"visibility",e[3]),e[1]?y?y.p(e,n):((y=Ki(e)).c(),y.m(o,l)):y&&(y.d(1),y=null),1&n&&_!==(_=Qi(e[0])+"")&&V(u,_)},i:m,o:m,d:function(e){e&&q(t),y&&y.d(),h=!1,v(c)}}}function Zi(e,t,i){var a,n,s,o,r=function(){i(7,_=!1),s=null==Qe?void 0:Qe.getPreviewAsset(),i(2,o=null==s?void 0:s.processedSrc)},l=t.previewTime,d=void 0===l?0:l,u=t.headerText,h=void 0===u?"":u,c=t.hideFrame,p=void 0!==c&&c,_=!1;return G((function(){r()})),Pe.subscribe((function(){r()})),e.$$set=function(e){"previewTime"in e&&i(0,d=e.previewTime),"headerText"in e&&i(1,h=e.headerText),"hideFrame"in e&&i(6,p=e.hideFrame)},e.$$.update=function(){196&e.$$.dirty&&i(3,a=o&&!p&&_?"visible":"hidden"),9&e.$$.dirty&&i(4,n="hidden"===a?0:d)},[d,h,o,a,n,function(){i(7,_=!0)},p,_,function(){n=this.currentTime,i(4,n),i(3,a),i(0,d),i(2,o),i(6,p),i(7,_)}]}Ii.subscribe((function(e){e>ji&&(ji=e,Je())}));var Xi=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,Zi,Yi,b,{previewTime:0,headerText:1,hideFrame:6},Gi),c.default(a)}return i}(ge);function ea(e){E(e,"svelte-1mz8870",".bb-slider.svelte-1mz8870.svelte-1mz8870{width:100%;height:100%;position:relative}.bb-slider.read-only.svelte-1mz8870.svelte-1mz8870{--hit-height:0}.bb-slider.svelte-1mz8870 .slider-hover-container.svelte-1mz8870{height:100%;pointer-events:all;outline-color:var(--aria-focus-color)}.bb-slider.svelte-1mz8870 .slider-hover-container .chapter-block.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container .progress-block.svelte-1mz8870{position:absolute;pointer-events:none;z-index:34;top:0;right:0;bottom:0;left:0}.bb-slider.svelte-1mz8870 .slider-hover-container.rounded .chapter-block:first-child .hover-progress.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container.rounded .chapter-block:first-child .play-progress.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container.rounded .chapter-block:first-child .progress-wrapper.svelte-1mz8870{border-radius:6px 0 0 6px}.bb-slider.svelte-1mz8870 .slider-hover-container.rounded .chapter-block:last-child .hover-progress.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container.rounded .chapter-block:last-child .play-progress.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container.rounded .chapter-block:last-child .progress-wrapper.svelte-1mz8870{border-radius:0 6px 6px 0}.bb-slider.svelte-1mz8870 .slider-hover-container.rounded .progress-block .hover-progress.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container.rounded .progress-block .play-progress.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container.rounded .progress-block .progress-wrapper.svelte-1mz8870{border-radius:6px}.bb-slider.svelte-1mz8870 .slider-hover-container.rounded .load-progress.svelte-1mz8870{border-radius:6px 0 0 6px}.bb-slider.svelte-1mz8870 .slider-hover-container .chapter-block.svelte-1mz8870{transition:transform 0.1s cubic-bezier(0.4, 0, 1, 1), -webkit-transform 0.1s cubic-bezier(0.4, 0, 1, 1)}.bb-slider.svelte-1mz8870 .slider-hover-container .chapter-block.active.svelte-1mz8870{-webkit-transform:scaleY(2);transform:scaleY(2)}.bb-slider.svelte-1mz8870 .slider-hover-container .chapter-block.active .load-progress.svelte-1mz8870{-webkit-transform:scaleY(1);transform:scaleY(1)}.bb-slider.svelte-1mz8870 .slider-hover-container .progress-wrapper.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container .play-progress.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container .load-progress.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container .hover-progress.svelte-1mz8870,.bb-slider.svelte-1mz8870 .slider-hover-container input.svelte-1mz8870{position:absolute;height:100%;width:100%;bottom:0;left:0;pointer-events:none;-webkit-transform-origin:0 50%;transform-origin:0 50%}.bb-slider.svelte-1mz8870 .slider-hover-container .progress-wrapper.svelte-1mz8870{z-index:39;background:rgba(255, 255, 255, 0.2);transition:transform 0.1s cubic-bezier(0.4, 0, 1, 1), -webkit-transform 0.1s cubic-bezier(0.4, 0, 1, 1);position:relative}.bb-slider.svelte-1mz8870 .slider-hover-container input.svelte-1mz8870{--extra-width:var(--height-progress-bar);pointer-events:all;z-index:40;opacity:0;cursor:pointer;height:calc(50% + var(--hit-height));bottom:calc(var(--hit-height) * -0.5);width:calc(100% + var(--extra-width));left:calc(var(--extra-width) / 2 * -1);margin:2px 0}.bb-slider.svelte-1mz8870 .slider-hover-container .hover-progress.svelte-1mz8870{background-color:var(--foreground-color);opacity:0;z-index:33}.bb-slider.svelte-1mz8870 .slider-hover-container .play-progress.svelte-1mz8870{background-color:var(--accent-color);z-index:34}.bb-slider.svelte-1mz8870 .slider-hover-container .play-progress-dot-container.svelte-1mz8870{pointer-events:none;position:absolute;top:0;right:0;bottom:0;left:0;height:100%;display:flex;flex-direction:column;align-content:center;z-index:34}.bb-slider.svelte-1mz8870 .slider-hover-container .play-progress-dot-container .play-progress-dot.svelte-1mz8870{--wh:calc(2.67 * var(--height-progress-bar));transition:-webkit-transform 0.1s cubic-bezier(0.4, 0, 1, 1);transition:transform 0.1s cubic-bezier(0.4, 0, 1, 1);transition:transform 0.1s cubic-bezier(0.4, 0, 1, 1), -webkit-transform 0.1s cubic-bezier(0.4, 0, 1, 1);background-color:var(--foreground-color);margin-left:calc(var(--wh) * -0.5);width:var(--wh);height:var(--wh);border-radius:50%;-webkit-transform:scale(0, 0);transform:scale(0, 0);box-shadow:0px 1px 0px rgba(0, 0, 0, 0.25)}.bb-slider.svelte-1mz8870 .slider-hover-container .load-progress.svelte-1mz8870{-webkit-transform:scaleY(0.6);transform:scaleY(0.6);background:rgba(255, 255, 255, 0.4);z-index:33}.bb-slider.svelte-1mz8870 .slider-hover-container .progress-bar-padding.svelte-1mz8870{position:absolute;width:100%;height:var(--hit-height);top:auto;top:initial;bottom:0;z-index:28}.bb-slider.svelte-1mz8870 .frame-preview-container.svelte-1mz8870{position:absolute;bottom:1em;width:var(--frame-preview-width);opacity:0;transition:opacity 0.15s ease-in-out}.bb-slider.svelte-1mz8870 .frame-preview-container.scrubbar-active.svelte-1mz8870{opacity:1}.bb-slider.svelte-1mz8870:hover:not(.bb-slider:hover:active) .hover-progress.svelte-1mz8870{transition:opacity 0s 0.1s;opacity:0.4}.bb-slider.svelte-1mz8870:hover .frame-preview-container.svelte-1mz8870:not(.touch-mode){opacity:1}.bb-slider.svelte-1mz8870:not(.read-only) .slider-hover-container .progress-wrapper.svelte-1mz8870{-webkit-transform:scaleY(0.6);transform:scaleY(0.6);-webkit-transform-origin:0 50%;transform-origin:0 50%}.bb-slider.svelte-1mz8870:not(.read-only) .slider-hover-container:hover .progress-wrapper.svelte-1mz8870{-webkit-transform:scaleY(1);transform:scaleY(1)}.bb-slider.svelte-1mz8870:not(.read-only) .slider-hover-container:hover .play-progress-dot.svelte-1mz8870{-webkit-transform:scale(1, 2.667);transform:scale(1, 2.667)}")}function ta(e,t,i){var a=e.slice();return a[50]=t[i],a[52]=i,a}function ia(e){var t,i,a,n,s,o,r,l,d,u,h="scaleX(".concat(e[16],")"),c=!e[7]&&!e[14]&&na(e);return{c:function(){t=O("div"),i=O("div"),a=B(),n=O("div"),s=O("div"),o=B(),r=O("div"),l=B(),c&&c.c(),d=B(),u=O("div"),N(i,"class","progress-bar-padding svelte-1mz8870"),N(s,"class","play-progress svelte-1mz8870"),z(s,"transform",h),N(n,"class","progress-wrapper svelte-1mz8870"),N(r,"class","load-progress svelte-1mz8870"),z(r,"background",e[25](e[20],null)),N(u,"class","ad-progress-list"),N(t,"class","progress-block svelte-1mz8870")},m:function(e,h){R(e,t,h),T(t,i),T(t,a),T(t,n),T(n,s),T(t,o),T(t,r),T(t,l),c&&c.m(t,null),T(t,d),T(t,u)},p:function(e,i){65536&i[0]&&h!==(h="scaleX(".concat(e[16],")"))&&z(s,"transform",h),1048576&i[0]&&z(r,"background",e[25](e[20],null)),e[7]||e[14]?c&&(c.d(1),c=null):c?c.p(e,i):((c=na(e)).c(),c.m(t,d))},d:function(e){e&&q(t),c&&c.d()}}}function aa(e){for(var t,i=e[18],a=[],n=0;n<i.length;n+=1)a[n]=oa(ta(e,i,n));return{c:function(){t=O("div");for(var e=0;e<a.length;e+=1)a[e].c();N(t,"class","chapter-container")},m:function(e,i){R(e,t,i);for(var n=0;n<a.length;n+=1)a[n].m(t,null)},p:function(e,n){if(35095168&n[0]|16&n[1]){var s;for(i=e[18],s=0;s<i.length;s+=1){var o=ta(e,i,s);a[s]?a[s].p(o,n):(a[s]=oa(o),a[s].c(),a[s].m(t,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}},d:function(e){e&&q(t),function(e,t){for(var i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}(a,e)}}}function na(e){var t,i="scaleX(".concat(e[9],")");return{c:function(){N(t=O("div"),"class","hover-progress svelte-1mz8870"),z(t,"transform",i)},m:function(e,i){R(e,t,i)},p:function(e,a){512&a[0]&&i!==(i="scaleX(".concat(e[9],")"))&&z(t,"transform",i)},d:function(e){e&&q(t)}}}function sa(e){var t,i="scaleX(".concat(e[35](e[9],e[50].startPerc,e[50].durationPerc),")");return{c:function(){N(t=O("div"),"class","hover-progress svelte-1mz8870"),z(t,"transform",i)},m:function(e,i){R(e,t,i)},p:function(e,a){262656&a[0]&&i!==(i="scaleX(".concat(e[35](e[9],e[50].startPerc,e[50].durationPerc),")"))&&z(t,"transform",i)},d:function(e){e&&q(t)}}}function oa(e){var t,i,a,n,s,o,r,l,d,u,h,c="scaleX(".concat(e[35](e[16],e[50].startPerc,e[50].durationPerc),")"),p=!e[7]&&sa(e);return{c:function(){t=O("div"),i=O("div"),a=B(),n=O("div"),s=O("div"),o=B(),p&&p.c(),r=B(),l=O("div"),d=B(),u=O("div"),h=B(),N(i,"class","progress-bar-padding svelte-1mz8870"),N(s,"class","play-progress svelte-1mz8870"),z(s,"transform",c),N(l,"class","ad-progress-list"),N(u,"class","load-progress svelte-1mz8870"),z(u,"background",e[25](e[20],e[50])),N(n,"class","progress-wrapper svelte-1mz8870"),N(t,"class","chapter-block svelte-1mz8870"),j(t,"active",e[52]===e[17]),z(t,"width",e[50].durationPerc-(e[52]>0?e[15]:0)+"%"),z(t,"height","100%"),z(t,"left",e[50].startPerc+(e[52]>0?e[15]:0)+"%")},m:function(e,c){R(e,t,c),T(t,i),T(t,a),T(t,n),T(n,s),T(n,o),p&&p.m(n,null),T(n,r),T(n,l),T(n,d),T(n,u),T(t,h)},p:function(e,i){327680&i[0]&&c!==(c="scaleX(".concat(e[35](e[16],e[50].startPerc,e[50].durationPerc),")"))&&z(s,"transform",c),e[7]?p&&(p.d(1),p=null):p?p.p(e,i):((p=sa(e)).c(),p.m(n,r)),1310720&i[0]&&z(u,"background",e[25](e[20],e[50])),131072&i[0]&&j(t,"active",e[52]===e[17]),294912&i[0]&&z(t,"width",e[50].durationPerc-(e[52]>0?e[15]:0)+"%"),294912&i[0]&&z(t,"left",e[50].startPerc+(e[52]>0?e[15]:0)+"%")},d:function(e){e&&q(t),p&&p.d()}}}function ra(e){var t,i,a,n,s,o="translateX(".concat(100*e[16],"%)");return{c:function(){(t=O("div")).innerHTML='<div class="play-progress-dot svelte-1mz8870"></div>',i=B(),a=O("input"),N(t,"class","play-progress-dot-container svelte-1mz8870"),z(t,"transform",o),N(a,"aria-label",je("Time input")),N(a,"class","range-slider svelte-1mz8870"),N(a,"type","range"),N(a,"min",e[4]),N(a,"max",e[5]),N(a,"step",e[6])},m:function(o,r){R(o,t,r),R(o,i,r),R(o,a,r),W(a,e[0]),n||(s=[F(a,"input",e[37]),F(a,"change",e[38]),F(a,"change",e[39]),F(a,"input",e[39]),F(a,"focus",e[33]),F(a,"blur",e[34])],n=!0)},p:function(e,i){65536&i[0]&&o!==(o="translateX(".concat(100*e[16],"%)"))&&z(t,"transform",o),16&i[0]&&N(a,"min",e[4]),32&i[0]&&N(a,"max",e[5]),64&i[0]&&N(a,"step",e[6]),1&i[0]&&W(a,e[0])},d:function(e){e&&q(t),e&&q(i),e&&q(a),n=!1,v(s)}}}function la(e){var t,i,a,n,s,o="translateX(".concat(e[11],"px)");return n=new Xi({props:{previewTime:e[22]||e[14]?e[23]:e[8],headerText:e[13],hideFrame:e[14]||(null==(i=null==(t=e[24])?void 0:t.framePreview)?void 0:i.hidden)}}),{c:function(){a=O("div"),_e(n.$$.fragment),N(a,"class","frame-preview-container svelte-1mz8870"),j(a,"scrubbar-active",e[22]),j(a,"touch-mode",e[14]),z(a,"--frame-preview-width",e[10]+"px"),z(a,"transform",o)},m:function(e,t){R(e,a,t),me(n,a,null),s=!0},p:function(e,t){var i,r,l={};12599552&t[0]&&(l.previewTime=e[22]||e[14]?e[23]:e[8]),8192&t[0]&&(l.headerText=e[13]),16793600&t[0]&&(l.hideFrame=e[14]||(null==(r=null==(i=e[24])?void 0:i.framePreview)?void 0:r.hidden)),n.$set(l),(!s||4194304&t[0])&&j(a,"scrubbar-active",e[22]),(!s||16384&t[0])&&j(a,"touch-mode",e[14]),1024&t[0]&&z(a,"--frame-preview-width",e[10]+"px"),2048&t[0]&&o!==(o="translateX(".concat(e[11],"px)"))&&z(a,"transform",o)},i:function(e){s||(ce(n.$$.fragment,e),s=!0)},o:function(e){pe(n.$$.fragment,e),s=!1},d:function(e){e&&q(a),fe(n)}}}function da(e){var t,i,a,n,s,o,r,l=function(e,t){var i;return null!=(i=e[18])&&i.length?aa:ia},d=l(e),u=d(e),h=!e[2]&&ra(e),c="video"===e[21]&&!e[7]&&la(e);return{c:function(){var s;t=O("div"),i=O("div"),u.c(),a=B(),h&&h.c(),n=B(),c&&c.c(),N(i,"class","slider-hover-container svelte-1mz8870"),j(i,"rounded",!e[7]),z(i,"outline-style",!e[12]||null!=(s=e[19])&&s.isMobileDevice?"unset":"auto"),N(t,"class","bb-slider svelte-1mz8870"),j(t,"read-only",e[2]),z(t,"--accent-color",e[3]),z(t,"--hit-height",e[1]+"px")},m:function(l,d){R(l,t,d),T(t,i),u.m(i,null),T(i,a),h&&h.m(i,null),T(t,n),c&&c.m(t,null),s=!0,o||(r=[F(i,"mousedown",e[29]),F(i,"mouseup",e[30]),F(i,"touchstart",e[26]),F(i,"touchmove",e[27]),F(i,"touchend",e[28],{passive:!0}),F(i,"mousemove",e[40]),F(i,"mouseleave",e[41])],o=!0)},p:function(e,n){var o;d===(d=l(e))&&u?u.p(e,n):(u.d(1),(u=d(e))&&(u.c(),u.m(i,a))),e[2]?h&&(h.d(1),h=null):h?h.p(e,n):((h=ra(e)).c(),h.m(i,null)),(!s||128&n[0])&&j(i,"rounded",!e[7]),528384&n[0]&&z(i,"outline-style",!e[12]||null!=(o=e[19])&&o.isMobileDevice?"unset":"auto"),"video"!==e[21]||e[7]?c&&(ue(),pe(c,1,1,(function(){c=null})),he()):c?(c.p(e,n),2097280&n[0]&&ce(c,1)):((c=la(e)).c(),ce(c,1),c.m(t,null)),(!s||4&n[0])&&j(t,"read-only",e[2]),8&n[0]&&z(t,"--accent-color",e[3]),2&n[0]&&z(t,"--hit-height",e[1]+"px")},i:function(e){s||(ce(c),s=!0)},o:function(e){pe(c),s=!1},d:function(e){e&&q(t),u.d(),h&&h.d(),c&&c.d(),o=!1,v(r)}}}function ua(e,t,i){var a,n,s,o,r,l,d,u,h,c,p,_,m,f,y,v,g=function(e){var t,a,n=e.target.getBoundingClientRect(),s=(null==(a=null==(t=e.touches)?void 0:t[0])?void 0:a.clientX)-n.left;i(9,V=s/n.width),i(11,S=Math.min(Math.max(s-W/2,0),n.width-(W+12))),k(s,n.width,!0),w(s,n),i(10,W=h/(null!=r&&r.length?1:3))},b=function(e){i(10,W=h),i(14,Q=!1),z=!0;var t=e.target.getBoundingClientRect(),a=e.clientX-t.left;i(9,V=a/t.width),k(a,t.width),w(a,t)},w=function(e,t){var a;if(u){var n=null==(a=Ci())?void 0:a.getBoundingClientRect(),s=t.x-(null==n?void 0:n.x);i(11,S=Math.min(Math.max(-1*s+l,e-W/2),d-(W+2.5*l)))}else i(11,S=Math.min(Math.max(e-W/2,0),d-(W+2.5*l)));var h=100*V;Bt.set(r.findIndex((function(e){return h>e.startPerc&&h<e.startPerc+e.durationPerc}))),i(13,J=o>=0?r[o].title:"")},k=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e/t*100,o=0;o=n<=50?-1.68*(.5-V):1.68*(V-.5);var r=Math.max((n+o)/100*parseFloat(H.toString()),0);i(8,U=Math.round(r)),a&&i(0,D=Math.min(U,s))},$=function(){z=!1,Bt.set(-1),setTimeout((function(){i(13,J="")}),150)};C(e,ft,(function(e){return i(43,s=e)})),C(e,Bt,(function(e){return i(17,o=e)})),C(e,Ht,(function(e){return i(18,r=e)})),C(e,Ii,(function(e){return i(44,l=e)})),C(e,pt,(function(e){return i(45,d=e)})),C(e,Rt,(function(e){return i(46,u=e)})),C(e,Ei,(function(e){return i(47,h=e)})),C(e,Fi,(function(e){return i(36,c=e)})),C(e,kt,(function(e){return i(19,p=e)})),C(e,yt,(function(e){return i(20,_=e)})),C(e,It,(function(e){return i(21,m=e)})),C(e,at,(function(e){return i(22,f=e)})),C(e,mt,(function(e){return i(23,y=e)})),C(e,Te,(function(e){return i(24,v=e)}));var S,P=t.hitHeight,A=void 0===P?20:P,x=t.value,D=void 0===x?0:x,I=t.readOnly,M=void 0!==I&&I,T=t.accentColor,E=void 0===T?"#ff0000":T,R=t.min,q=void 0===R?"0":R,O=t.max,H=void 0===O?"100":O,L=t.step,B=void 0===L?"0.1":L,F=t.isStickyBar,N=void 0!==F&&F,U=0,V=0,W=h,z=!1,j=!1,J="",Q=!0;return e.$$set=function(e){"hitHeight"in e&&i(1,A=e.hitHeight),"value"in e&&i(0,D=e.value),"readOnly"in e&&i(2,M=e.readOnly),"accentColor"in e&&i(3,E=e.accentColor),"min"in e&&i(4,q=e.min),"max"in e&&i(5,H=e.max),"step"in e&&i(6,B=e.step),"isStickyBar"in e&&i(7,N=e.isStickyBar)},e.$$.update=function(){33&e.$$.dirty[0]&&i(16,a=parseFloat(String(D))/parseFloat(String(H))),32&e.$$.dirty[1]&&i(15,n=["XS","S"].includes(c)?.6:.35)},[D,A,M,E,q,H,B,N,U,V,W,S,j,J,Q,n,a,o,r,p,_,m,f,y,v,function(e,t){var i,a;if(!e)return"initial";var n="rgba(255, 255, 255, 0.25)",s="";return t?null==(i=e.start)||i.forEach((function(i,a){var o=e.end[a];if(!(i>t.end||o<t.start)){var r=Math.max(i,t.start),l=Math.min(o,t.end),d=100*((r-t.start)/t.duration),u=100*((l-t.start)/t.duration);s+=", transparent ".concat(d,"%, ").concat(n," ").concat(d,"%, ").concat(n," ").concat(u,"%, transparent ").concat(u,"% ")}})):null==(a=e.start)||a.forEach((function(t,i){var a=t/parseFloat(H.toString())*100,o=e.end[i]/parseFloat(H.toString())*100;s+=", transparent ".concat(a,"%, ").concat(n," ").concat(a,"%, ").concat(n," ").concat(o,"%, transparent ").concat(o,"% ")})),s?"linear-gradient(to right".concat(s,")"):"initial"},function(e){at.set(!0),i(14,Q=!0),g(e)},g,function(){at.set(!1)},function(){at.set(!0)},function(){at.set(!1)},b,$,function(e){var t,a=null==e?void 0:e.composedPath();null!=a&&a.length&&(t=a[a.length-1]),!z&&"#document-fragment"===(null==t?void 0:t.nodeName)&&i(12,j=!0)},function(){i(12,j=!1)},function(e,t,i){var a=100*e;return a<t?0:a>t+i?1:(a-t)/i},c,function(t){K.call(this,e,t)},function(t){K.call(this,e,t)},function(){D=function(e){return""===e?null:+e}(this.value),i(0,D)},function(e){return b(e)},function(){return $()}]}var ha=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,ua,da,b,{hitHeight:1,value:0,readOnly:2,accentColor:3,min:4,max:5,step:6,isStickyBar:7},ea,[-1,-1]),c.default(a)}return i}(ge);function ca(e){E(e,"svelte-1bd19u8",".tooltip.svelte-1bd19u8.svelte-1bd19u8.svelte-1bd19u8.svelte-1bd19u8{display:inline-block}.tooltip.svelte-1bd19u8 div{display:inline-block}.tooltip.svelte-1bd19u8 .tooltip-content.svelte-1bd19u8.svelte-1bd19u8.svelte-1bd19u8{padding:6px 10px;background-color:var(--bg-color-pane);border-radius:5px;color:#fff;font-size:0.75em;display:flex;gap:6px;text-align:center;white-space:nowrap;position:absolute}@supports (-webkit-touch-callout: none) and (not (translate: none)){.tooltip.svelte-1bd19u8 .tooltip-content.svelte-1bd19u8>.svelte-1bd19u8+.svelte-1bd19u8{margin-left:6px}}.tooltip.svelte-1bd19u8 .tooltip-content.center.svelte-1bd19u8.svelte-1bd19u8.svelte-1bd19u8{left:50%;-webkit-transform:translate(-50%, 0);transform:translate(-50%, 0)}.tooltip.svelte-1bd19u8 .tooltip-content.right.svelte-1bd19u8.svelte-1bd19u8.svelte-1bd19u8{right:0}.tooltip.svelte-1bd19u8 .tooltip-content.left.svelte-1bd19u8.svelte-1bd19u8.svelte-1bd19u8{left:0}.tooltip.svelte-1bd19u8 .tooltip-content .sub-text.svelte-1bd19u8.svelte-1bd19u8.svelte-1bd19u8{opacity:0.5}")}function pa(e){var t,i;return{c:function(){t=O("div"),i=L(e[0]),N(t,"class","text svelte-1bd19u8")},m:function(e,a){R(e,t,a),T(t,i)},p:function(e,t){1&t&&V(i,e[0])},d:function(e){e&&q(t)}}}function _a(e){var t,i,a,n;return{c:function(){t=O("div"),i=L("("),a=L(e[1]),n=L(")"),N(t,"class","sub-text svelte-1bd19u8")},m:function(e,s){R(e,t,s),T(t,i),T(t,a),T(t,n)},p:function(e,t){2&t&&V(a,e[1])},d:function(e){e&&q(t)}}}function ma(e){var t,i,a,n,s=e[0]&&pa(e),o=e[1]&&_a(e);return{c:function(){t=O("div"),i=O("div"),s&&s.c(),a=B(),o&&o.c(),N(i,"class",n="tooltip-content "+e[5]+" svelte-1bd19u8"),z(i,"top",e[2]),N(t,"class","tooltip svelte-1bd19u8")},m:function(n,r){R(n,t,r),T(t,i),s&&s.m(i,null),T(i,a),o&&o.m(i,null),e[6](i),e[7](t)},p:function(e,t){var l=r.default(t,1)[0];e[0]?s?s.p(e,l):((s=pa(e)).c(),s.m(i,a)):s&&(s.d(1),s=null),e[1]?o?o.p(e,l):((o=_a(e)).c(),o.m(i,null)):o&&(o.d(1),o=null),32&l&&n!==(n="tooltip-content "+e[5]+" svelte-1bd19u8")&&N(i,"class",n),4&l&&z(i,"top",e[2])},i:m,o:m,d:function(i){i&&q(t),s&&s.d(),o&&o.d(),e[6](null),e[7](null)}}}function fa(e,t,i){var a,n,s,o=function(e,t){var i=null==e?void 0:e.getBoundingClientRect(),a=null==t?void 0:t.getBoundingClientRect();if(i&&a){var n=function(){var e;return null==(e=null==Qe?void 0:Qe.getWrapper())?void 0:e.getBoundingClientRect()}();return i.x+a.width/2+30>=(null==n?void 0:n.right)?"right":i.x-a.width/2<=(null==n?void 0:n.left)?"left":"center"}},r=t.text,l=void 0===r?"":r,d=t.subtext,u=void 0===d?"":d,h=t.tooltipY,c=void 0===h?"0px":h;return Ie.subscribe((function(){setTimeout((function(){i(5,a=o(n,s))}))})),e.$$set=function(e){"text"in e&&i(0,l=e.text),"subtext"in e&&i(1,u=e.subtext),"tooltipY"in e&&i(2,c=e.tooltipY)},e.$$.update=function(){24&e.$$.dirty&&i(5,a=o(n,s))},[l,u,c,n,s,a,function(e){Z[e?"unshift":"push"]((function(){i(4,s=e)}))},function(e){Z[e?"unshift":"push"]((function(){i(3,n=e)}))}]}var ya=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,fa,ma,b,{text:0,subtext:1,tooltipY:2},ca),c.default(a)}return i}(ge);function va(e){E(e,"svelte-fn53mu",'.button-element.svelte-fn53mu.svelte-fn53mu.svelte-fn53mu{box-sizing:border-box;width:100%;height:100%;position:relative;cursor:pointer;pointer-events:initial;border-radius:var(--border-radius);-webkit-tap-highlight-color:transparent}.button-element.svelte-fn53mu svg,.button-element.svelte-fn53mu [slot]{min-height:12px;height:var(--icon-height);min-width:var(--icon-height);display:inline-flex;justify-content:center}.button-element.no-hover-transform.svelte-fn53mu.svelte-fn53mu.svelte-fn53mu::before{content:" ";position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--foreground-color);pointer-events:none;border-radius:var(--border-radius);-webkit-transform:scale(0);transform:scale(0);opacity:0;transition:opacity 0.15s linear, -webkit-transform 0.15s linear;transition:transform 0.15s linear, opacity 0.15s linear;transition:transform 0.15s linear, opacity 0.15s linear, -webkit-transform 0.15s linear}.button-element.svelte-fn53mu .button-content.svelte-fn53mu.svelte-fn53mu{width:var(--bg-width);height:var(--bg-height);transition:opacity 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out, opacity 0.2s ease-in-out;transition:transform 0.2s ease-in-out, opacity 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out}.button-element.svelte-fn53mu .button-content.svelte-fn53mu>.svelte-fn53mu{box-sizing:border-box;position:var(--button-position);top:0;left:0;width:100%;height:100%;display:grid;align-content:center;justify-content:center;place-content:center;transition:opacity 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out, opacity 0.2s ease-in-out;transition:transform 0.2s ease-in-out, opacity 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out}.button-element.svelte-fn53mu .button-content.noOpacityTransform.svelte-fn53mu>.svelte-fn53mu{transition:-webkit-transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out}.button-element.svelte-fn53mu .button-content .normal.svelte-fn53mu.svelte-fn53mu{opacity:1}.button-element.svelte-fn53mu .button-content .toggled.svelte-fn53mu.svelte-fn53mu{opacity:0}.button-element.svelte-fn53mu .button-content.svelte-fn53mu.svelte-fn53mu:not(.no-hover-transform):hover{-webkit-transform:var(--hover-transform);transform:var(--hover-transform)}.button-element.no-hover-transform.svelte-fn53mu.svelte-fn53mu.svelte-fn53mu:hover::before{-webkit-transform:scale(1);transform:scale(1);transition:opacity 0.2s linear, -webkit-transform 0.2s linear;transition:transform 0.2s linear, opacity 0.2s linear;transition:transform 0.2s linear, opacity 0.2s linear, -webkit-transform 0.2s linear}.button-element.no-hover-transform:hover.mid-state.svelte-fn53mu.svelte-fn53mu.svelte-fn53mu::before{transition:none;-webkit-transform:scale(0);transform:scale(0)}.button-element.no-hover-transform.svelte-fn53mu.svelte-fn53mu.svelte-fn53mu:hover:not(.touched)::before{opacity:0.1}.button-element.no-hover-transform:hover:not(.touched).just-clicked.svelte-fn53mu.svelte-fn53mu.svelte-fn53mu::before{-webkit-transform:scale(1.33);transform:scale(1.33);opacity:0}.button-element.no-hover-transform:hover:not(.touched).mid-state.svelte-fn53mu.svelte-fn53mu.svelte-fn53mu::before{-webkit-transform:scale(1);transform:scale(1)}.button-element.no-hover-transform:hover.touched.svelte-fn53mu.svelte-fn53mu.svelte-fn53mu::before{opacity:0}.button-element.no-hover-transform:hover.touched.just-clicked.svelte-fn53mu.svelte-fn53mu.svelte-fn53mu::before{-webkit-transform:scale(1.33);transform:scale(1.33);opacity:0.1}.button-element.no-hover-transform:hover.touched.mid-state.svelte-fn53mu.svelte-fn53mu.svelte-fn53mu::before{-webkit-transform:scale(1.33);transform:scale(1.33)}.button-element.toggled.no-toggle-transform.svelte-fn53mu .button-content .normal.svelte-fn53mu.svelte-fn53mu{opacity:0}.button-element.toggled.no-toggle-transform.svelte-fn53mu .button-content .toggled.svelte-fn53mu.svelte-fn53mu{opacity:1}.button-element.svelte-fn53mu .button-tooltip.svelte-fn53mu.svelte-fn53mu{pointer-events:none;opacity:0;transition:opacity 0.2s ease-in-out}.button-element.svelte-fn53mu:not(.touched):hover .button-tooltip.svelte-fn53mu.svelte-fn53mu{opacity:1}')}var ga=function(e){return{}},ba=function(e){return{}},wa=function(e){return{}},ka=function(e){return{}};function $a(e){var t,i,a;return i=new ya({props:{text:e[24],subtext:e[15]?"":je(e[25]),tooltipY:e[13]}}),{c:function(){t=O("div"),_e(i.$$.fragment),N(t,"class","button-tooltip svelte-fn53mu")},m:function(e,n){R(e,t,n),me(i,t,null),a=!0},p:function(e,t){var a={};16777216&t[0]&&(a.text=e[24]),33587200&t[0]&&(a.subtext=e[15]?"":je(e[25])),8192&t[0]&&(a.tooltipY=e[13]),i.$set(a)},i:function(e){a||(ce(i.$$.fragment,e),a=!0)},o:function(e){pe(i.$$.fragment,e),a=!1},d:function(e){e&&q(t),fe(i)}}}function Ca(e){var t,i,a,n,s,o,r,l,d,u,h=e[36].normal,c=S(h,e,e[35],ka),p=e[36].toggled,_=S(p,e,e[35],ba),m=!e[22]&&e[24]&&!e[14]&&$a(e);return{c:function(){t=O("div"),i=O("div"),a=O("div"),c&&c.c(),n=B(),s=O("div"),_&&_.c(),r=B(),m&&m.c(),N(a,"class","normal svelte-fn53mu"),z(a,"transform",e[2]?e[0]:""),N(s,"class","toggled svelte-fn53mu"),N(i,"class","button-content svelte-fn53mu"),N(i,"aria-label",o=e[21]||e[24]),N(i,"tabindex",e[17]),N(i,"role","button"),j(i,"noOpacityTransform",e[3]),z(i,"--hover-transform",e[20]?"none":e[1]),z(i,"--icon-height",e[12]+"px"),z(i,"--bg-width",e[9]?e[9]:e[8]),z(i,"--bg-height",e[10]?e[10]:e[8]),z(i,"--button-position",e[11]),z(i,"background-color",e[6]),z(i,"border-radius",e[16]?"0px":e[5]),z(i,"border",e[7]),N(t,"class","button-element svelte-fn53mu"),j(t,"touched",e[20]),j(t,"disabled",e[23]),j(t,"toggled",e[2]),j(t,"just-clicked",e[18]),j(t,"mid-state",e[19]),j(t,"no-toggle-transform",!e[0]),j(t,"no-hover-transform",!e[1]),z(t,"--foreground-color",e[26]),z(t,"--border-radius",e[16]?"0px":e[5]),z(t,"--hover-transform",e[20]?"none":e[1]),z(t,"--icon-height",e[12]+"px"),z(t,"color",e[4])},m:function(o,h){R(o,t,h),T(t,i),T(i,a),c&&c.m(a,null),T(i,n),T(i,s),_&&_.m(s,null),T(t,r),m&&m.m(t,null),l=!0,d||(u=F(t,"click",e[27]),d=!0)},p:function(e,n){c&&c.p&&(!l||16&n[1])&&x(c,h,e,e[35],l?A(h,e[35],n,wa):D(e[35]),ka),5&n[0]&&z(a,"transform",e[2]?e[0]:""),_&&_.p&&(!l||16&n[1])&&x(_,p,e,e[35],l?A(p,e[35],n,ga):D(e[35]),ba),(!l||18874368&n[0]&&o!==(o=e[21]||e[24]))&&N(i,"aria-label",o),(!l||131072&n[0])&&N(i,"tabindex",e[17]),(!l||8&n[0])&&j(i,"noOpacityTransform",e[3]),1048578&n[0]&&z(i,"--hover-transform",e[20]?"none":e[1]),4096&n[0]&&z(i,"--icon-height",e[12]+"px"),768&n[0]&&z(i,"--bg-width",e[9]?e[9]:e[8]),1280&n[0]&&z(i,"--bg-height",e[10]?e[10]:e[8]),2048&n[0]&&z(i,"--button-position",e[11]),64&n[0]&&z(i,"background-color",e[6]),65568&n[0]&&z(i,"border-radius",e[16]?"0px":e[5]),128&n[0]&&z(i,"border",e[7]),e[22]||!e[24]||e[14]?m&&(ue(),pe(m,1,1,(function(){m=null})),he()):m?(m.p(e,n),20987904&n[0]&&ce(m,1)):((m=$a(e)).c(),ce(m,1),m.m(t,null)),(!l||1048576&n[0])&&j(t,"touched",e[20]),(!l||8388608&n[0])&&j(t,"disabled",e[23]),(!l||4&n[0])&&j(t,"toggled",e[2]),(!l||262144&n[0])&&j(t,"just-clicked",e[18]),(!l||524288&n[0])&&j(t,"mid-state",e[19]),(!l||1&n[0])&&j(t,"no-toggle-transform",!e[0]),(!l||2&n[0])&&j(t,"no-hover-transform",!e[1]),67108864&n[0]&&z(t,"--foreground-color",e[26]),65568&n[0]&&z(t,"--border-radius",e[16]?"0px":e[5]),1048578&n[0]&&z(t,"--hover-transform",e[20]?"none":e[1]),4096&n[0]&&z(t,"--icon-height",e[12]+"px"),16&n[0]&&z(t,"color",e[4])},i:function(e){l||(ce(c,e),ce(_,e),ce(m),l=!0)},o:function(e){pe(c,e),pe(_,e),pe(m),l=!1},d:function(e){e&&q(t),c&&c.d(e),_&&_.d(e),m&&m.d(),d=!1,u()}}}function Sa(e,t,i){var a,n,s,o,r,l,d,u,h,c;C(e,Ve,(function(e){return i(32,d=e)})),C(e,kt,(function(e){return i(33,u=e)})),C(e,Te,(function(e){return i(34,h=e)})),C(e,Ze,(function(e){return i(26,c=e)}));var p,_,m=t.$$slots,f=void 0===m?{}:m,y=t.$$scope,v=t.toggleTransform,g=void 0===v?"":v,b=t.hoverTransform,w=void 0===b?"":b,k=t.toggled,$=void 0!==k&&k,S=t.noOpacityTransform,P=void 0!==S&&S,A=t.color,x=void 0===A?"unset":A,D=t.bgBorderRadius,I=void 0===D?"50%":D,M=t.bgColor,T=void 0===M?"transparent":M,E=t.border,R=void 0===E?"":E,q=t.bgSize,O=void 0===q?"100%":q,H=t.bgWidth,L=void 0===H?"":H,B=t.bgHeight,F=void 0===B?"":B,N=t.buttonPosition,U=void 0===N?"absolute":N,V=t.iconHeight,W=void 0===V?24:V,z=t.disabled,j=void 0!==z&&z,J=t.name,Q=void 0===J?"":J,G=t.tooltipOffsetY,K=void 0===G?"-50px":G,Y=t.hideToolTip,Z=void 0!==Y&&Y,X=t.hideTooltipSubText,ee=void 0!==X&&X,te=t.isSquare,ie=void 0!==te&&te,ae=t.tabindex,ne=void 0===ae?0:ae,se=t.ariaLabel,oe=void 0===se?"":se,re=!1,le=!1,de=!1;return e.$$set=function(e){"toggleTransform"in e&&i(0,g=e.toggleTransform),"hoverTransform"in e&&i(1,w=e.hoverTransform),"toggled"in e&&i(2,$=e.toggled),"noOpacityTransform"in e&&i(3,P=e.noOpacityTransform),"color"in e&&i(4,x=e.color),"bgBorderRadius"in e&&i(5,I=e.bgBorderRadius),"bgColor"in e&&i(6,T=e.bgColor),"border"in e&&i(7,R=e.border),"bgSize"in e&&i(8,O=e.bgSize),"bgWidth"in e&&i(9,L=e.bgWidth),"bgHeight"in e&&i(10,F=e.bgHeight),"buttonPosition"in e&&i(11,U=e.buttonPosition),"iconHeight"in e&&i(12,W=e.iconHeight),"disabled"in e&&i(28,j=e.disabled),"name"in e&&i(29,Q=e.name),"tooltipOffsetY"in e&&i(13,K=e.tooltipOffsetY),"hideToolTip"in e&&i(14,Z=e.hideToolTip),"hideTooltipSubText"in e&&i(15,ee=e.hideTooltipSubText),"isSquare"in e&&i(16,ie=e.isSquare),"tabindex"in e&&i(17,ne=e.tabindex),"ariaLabel"in e&&i(30,oe=e.ariaLabel),"$$scope"in e&&i(35,y=e.$$scope)},e.$$.update=function(){var t,c;536870912&e.$$.dirty[0]|2&e.$$.dirty[1]&&i(31,a=Q&&(null==d?void 0:d["tooltip-".concat(Q)])),536870912&e.$$.dirty[0]&&i(25,n=Q&&(null==(t=Ne.find((function(e){return e.elementName===Q})))?void 0:t.keyLabel)),4&e.$$.dirty[0]|1&e.$$.dirty[1]&&i(24,s=null!=a&&a.includes("/")?null==a?void 0:a.split("/")[$?1:0]:a),805306368&e.$$.dirty[0]|8&e.$$.dirty[1]&&i(23,o=j||(null==(c=null==h?void 0:h[Q])?void 0:c.disabled)),4&e.$$.dirty[1]&&i(22,r=null==u?void 0:u.isMobileDevice),1610612736&e.$$.dirty[0]|2&e.$$.dirty[1]&&i(21,l=oe&&Q&&(null==d?void 0:d["aria-".concat(Q)]))},[g,w,$,P,x,I,T,R,O,L,F,U,W,K,Z,ee,ie,ne,re,le,de,l,r,o,s,n,c,function(e){i(20,de="touch"===e.pointerType),i(18,re=!0),i(19,le=!1),clearTimeout(p),clearTimeout(_),_=setTimeout((function(){return i(19,le=!0)}),300),p=setTimeout((function(){i(18,re=!1),i(19,le=!1)}),500)},j,Q,oe,a,d,u,h,y,f]}var Pa=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,Sa,Ca,b,{toggleTransform:0,hoverTransform:1,toggled:2,noOpacityTransform:3,color:4,bgBorderRadius:5,bgColor:6,border:7,bgSize:8,bgWidth:9,bgHeight:10,buttonPosition:11,iconHeight:12,disabled:28,name:29,tooltipOffsetY:13,hideToolTip:14,hideTooltipSubText:15,isSquare:16,tabindex:17,ariaLabel:30},va,[-1,-1]),c.default(a)}return i}(ge);function Aa(e){var t,i;return{c:function(){t=H("svg"),N(i=H("path"),"d","M15.982 8.171C16.615 8.564 17 9.256 17 10.002s-.385 1.438-1.018 1.79L3.233 19.651c-.656.442-1.477.46-2.148.08S0 18.637 0 17.86V2.143C0 1.368.415.653 1.086.274a2.11 2.11 0 0 1 2.148.041l12.749 7.857z"),N(i,"fill",e[0]),N(t,"xmlns","http://www.w3.org/2000/svg"),N(t,"viewBox",e[1]),N(t,"fill","none")},m:function(e,a){R(e,t,a),T(t,i)},p:function(e,a){var n=r.default(a,1)[0];1&n&&N(i,"fill",e[0]),2&n&&N(t,"viewBox",e[1])},i:m,o:m,d:function(e){e&&q(t)}}}function xa(e,t,i){var a,n=t.color,s=void 0===n?"#f5f5f5":n,o=t.center,r=void 0!==o&&o;return e.$$set=function(e){"color"in e&&i(0,s=e.color),"center"in e&&i(2,r=e.center)},e.$$.update=function(){4&e.$$.dirty&&i(1,a=r?"-3 0 20 20":"0 0 17 20")},[s,a,r]}var Da=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,xa,Aa,b,{color:0,center:2}),c.default(a)}return i}(ge);function Ia(e){var t,i;return{c:function(){t=H("svg"),N(i=H("path"),"d","M14.45 0h-1.7c-1.408 0-2.55 1.117-2.55 2.447v14.965c0 1.378 1.142 2.494 2.55 2.494l1.7.093c1.408 0 2.55-1.117 2.55-2.494V2.541C17 1.163 15.858 0 14.45 0zM4.25 0h-1.7C1.142 0 0 1.117 0 2.494v14.965C0 18.883 1.142 20 2.55 20h1.7c1.408 0 2.55-1.117 2.55-2.494V2.541C6.8 1.163 5.658 0 4.25 0z"),N(i,"fill",e[0]),N(t,"xmlns","http://www.w3.org/2000/svg"),N(t,"viewBox","0 0 17 20"),N(t,"fill","none")},m:function(e,a){R(e,t,a),T(t,i)},p:function(e,t){1&r.default(t,1)[0]&&N(i,"fill",e[0])},i:m,o:m,d:function(e){e&&q(t)}}}function Ma(e,t,i){var a=t.color,n=void 0===a?"#fff":a;return e.$$set=function(e){"color"in e&&i(0,n=e.color)},[n]}var Ta=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,Ma,Ia,b,{color:0}),c.default(a)}return i}(ge);function Ea(e){E(e,"svelte-1qau301","svg.svelte-1qau301{padding-left:4px}")}function Ra(e){var t,i,a,n;return{c:function(){t=H("svg"),i=H("path"),a=H("path"),n=H("path"),N(i,"d","M13.288.127C13.103.042 12.903 0 12.708 0a1.4 1.4 0 0 0-.938.362L5.815 5.714H2.118C.948 5.714 0 6.674 0 7.817v4.246c0 1.184.948 2.103 2.118 2.103h3.699l5.951 5.353a1.11 1.11 0 0 0 .938.482c.196 0 .395-.042.581-.127.509-.23.831-.739.831-1.302V1.429c0-.562-.322-1.112-.829-1.302zM12 16.982l-5.378-4.839H2.118V7.897h4.504L12 3.02v13.962z"),N(i,"fill","white"),N(a,"d","M17.06 6c.236 0 .473.079.671.241a4.29 4.29 0 0 1 1.562 3.308 4.28 4.28 0 0 1-1.563 3.306 1.05 1.05 0 0 1-.67.241c-.306 0-.611-.134-.819-.393a1.08 1.08 0 0 1 .149-1.508c.499-.413.786-1.012.786-1.646s-.287-1.232-.784-1.648a1.08 1.08 0 0 1-.149-1.508c.208-.26.512-.393.818-.393z"),N(a,"fill","white"),N(a,"fill-opacity",e[1]),N(n,"d","M20.06 3a1.05 1.05 0 0 1 .671.242c1.99 1.647 3.128 4.058 3.128 6.607a8.57 8.57 0 0 1-3.127 6.608 1.05 1.05 0 0 1-1.49-.149 1.08 1.08 0 0 1 .148-1.508c1.494-1.242 2.352-3.045 2.352-4.951s-.856-3.71-2.353-4.95a1.08 1.08 0 0 1-.147-1.508c.21-.258.514-.391.82-.391z"),N(n,"fill","white"),N(n,"fill-opacity",e[0]),N(t,"xmlns","http://www.w3.org/2000/svg"),N(t,"viewBox","0 0 26 21"),N(t,"fill","none"),N(t,"class","svelte-1qau301")},m:function(e,s){R(e,t,s),T(t,i),T(t,a),T(t,n)},p:function(e,t){var i=r.default(t,1)[0];2&i&&N(a,"fill-opacity",e[1]),1&i&&N(n,"fill-opacity",e[0])},i:m,o:m,d:function(e){e&&q(t)}}}function qa(e,t,i){var a,n,s;return C(e,ot,(function(e){return i(2,s=e)})),e.$$.update=function(){4&e.$$.dirty&&i(1,a=Math.min(1,1.5*s+.25)),4&e.$$.dirty&&i(0,n=Math.min(1,2*s-1))},[n,a,s]}var Oa=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,qa,Ra,b,{},Ea),c.default(a)}return i}(ge);function Ha(e){var t,i,a;return{c:function(){t=H("svg"),i=H("path"),a=H("path"),N(i,"fill-rule","evenodd"),N(i,"d","M1.625.219A1 1 0 0 0 .219.375a1 1 0 0 0 .156 1.406l14.219 11.375 2.118 1.686 7.102 5.69a1 1 0 1 0 1.249-1.562l-8.351-6.681V1.585c0-.562-.322-1.112-.829-1.302-.185-.085-.385-.127-.581-.127a1.4 1.4 0 0 0-.938.362L8.541 5.752 1.625.219zm8.623 6.899l4.346 3.477V3.176l-4.346 3.942z"),N(a,"d","M2.594 7.973c0-.593.255-1.136.663-1.522l1.951 1.602h-.497v4.246h4.504l5.378 4.839v-1.375l2.118 1.739v1.225c0 .563-.322 1.071-.831 1.302-.185.085-.385.127-.581.127a1.11 1.11 0 0 1-.938-.482l-5.951-5.353H4.712c-1.17 0-2.118-.919-2.118-2.103V7.973z"),N(t,"xmlns","http://www.w3.org/2000/svg"),N(t,"viewBox","0 0 26 21"),N(t,"fill","#fff")},m:function(e,n){R(e,t,n),T(t,i),T(t,a)},p:m,i:m,o:m,d:function(e){e&&q(t)}}}var La=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,null,Ha,b,{}),c.default(a)}return i}(ge);function Ba(e){var t,i;return{c:function(){t=H("svg"),N(i=H("path"),"d","M9.75 9.183l.994 1.888H8.756l.994-1.888zm9.75 1.888c0 .594-.502 1.071-1.125 1.071s-1.125-.478-1.125-1.071S17.752 10 18.375 10s1.125.478 1.125 1.071zM24 0c1.655 0 3 1.279 3 2.857v14.286C27 18.719 25.655 20 24 20H3c-1.657 0-3-1.281-3-2.857V2.857C0 1.279 1.343 0 3 0h21zM10.758 6.308c-.192-.366-.581-.594-1.008-.594s-.816.228-1.008.594l-3.375 6.429c-.277.527-.052 1.17.506 1.438s1.228.049 1.509-.482l.248-.478h4.237l.248.478c.281.531.956.745 1.509.482s.783-.911.506-1.437l-3.375-6.429zM19.5 8.04c-.352-.121-.731-.183-1.125-.183-1.866 0-3.375 1.437-3.375 3.214s1.509 3.214 3.375 3.214c.52 0 1.012-.112 1.453-.353.206.232.488.353.797.353.623 0 1.125-.478 1.125-1.071V6.786c0-.594-.502-1.071-1.125-1.071S19.5 6.192 19.5 6.786V8.04z"),N(t,"xmlns","http://www.w3.org/2000/svg"),N(t,"viewBox","0 0 27 20"),N(t,"fill",e[0])},m:function(e,a){R(e,t,a),T(t,i)},p:function(e,i){1&r.default(i,1)[0]&&N(t,"fill",e[0])},i:m,o:m,d:function(e){e&&q(t)}}}function Fa(e,t,i){var a=t.color,n=void 0===a?"#ffcc00":a;return e.$$set=function(e){"color"in e&&i(0,n=e.color)},[n]}var Na=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,Fa,Ba,b,{color:0}),c.default(a)}return i}(ge);function Ua(e){E(e,"svelte-ckuqfm",".chrome.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm{width:100%;height:100%;display:flex;flex-direction:column;background:linear-gradient(rgba(0, 0, 0, 0) 82%, rgba(0, 0, 0, 0.25) 100%)}.center-area.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm{flex-grow:1;display:grid;align-content:center;justify-content:center;place-content:center}.bottom-container.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm{margin:5px 10px;transition:-webkit-transform 0.15s ease-in-out;transition:transform 0.15s ease-in-out;transition:transform 0.15s ease-in-out, -webkit-transform 0.15s ease-in-out}.bottom-container.svelte-ckuqfm .ad-info.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm{margin-left:14px;height:100%;font-size:1em;font-weight:bold;display:flex;align-items:center;gap:5px;line-height:20px}@supports (-webkit-touch-callout: none) and (not (translate: none)){.bottom-container.svelte-ckuqfm .ad-info.svelte-ckuqfm>.svelte-ckuqfm+.svelte-ckuqfm{margin-left:5px}}.bottom-container.svelte-ckuqfm .ad-info .ad-icon.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm{display:inline-flex;justify-content:center}.bottom-container.svelte-ckuqfm .ad-info.svelte-ckuqfm svg{height:var(--bar-icon-size)}.bb-slider-element.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm{height:4px}.bar.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm{display:flex;gap:2px;justify-content:flex-start;align-items:center;min-height:var(--bar-button-size)}@supports (-webkit-touch-callout: none) and (not (translate: none)){.bar.svelte-ckuqfm>.svelte-ckuqfm+.svelte-ckuqfm.svelte-ckuqfm{margin-left:2px}}.bar.svelte-ckuqfm>.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm{display:flex;flex-direction:column;justify-content:center}.bar.svelte-ckuqfm .bar-button.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm{width:var(--bar-button-size);height:var(--bar-button-size);pointer-events:initial}.bar.svelte-ckuqfm .ad-info.svelte-ckuqfm.svelte-ckuqfm.svelte-ckuqfm{flex-grow:1;flex-direction:row;justify-content:flex-start}")}function Va(e){var t,i,a,n,s,o,r,l,d,u,h,c,p,_,m,f,y,g,b,w,k,$,C,S,P=Qi(e[9]-e[10])+"",A=!e[0]("commercialProgressBar");s=new Pa({props:{iconHeight:e[4],toggled:e[1],name:"playPauseButton",hideTooltipSubText:!0,tooltipOffsetY:"-38px",$$slots:{toggled:[za],normal:[Wa]},$$scope:{ctx:e}}}),d=new Pa({props:{iconHeight:e[4],toggled:e[5]||0===e[6],name:"muteButton",hideTooltipSubText:!0,tooltipOffsetY:"-38px",$$slots:{toggled:[Ja],normal:[ja]},$$scope:{ctx:e}}}),_=new Na({props:{color:e[7]}});var x=(null==(t=e[8])?void 0:t.totalAds)>0&&Qa(e),D=A&&Ga(e);return{c:function(){i=O("div"),a=O("div"),n=O("div"),_e(s.$$.fragment),r=B(),l=O("div"),_e(d.$$.fragment),h=B(),c=O("div"),p=O("span"),_e(_.$$.fragment),m=B(),x&&x.c(),f=B(),y=O("span"),g=L(P),w=B(),D&&D.c(),k=L(""),N(n,"class","play-pause-button bar-button svelte-ckuqfm"),N(n,"style",o=e[0]("commercialPauseButton")),N(l,"class","volume-button bar-button svelte-ckuqfm"),N(l,"style",u=e[0]("commercialMuteButton")),N(p,"class","ad-icon svelte-ckuqfm"),N(y,"class","time-display svelte-ckuqfm"),N(c,"class","ad-info svelte-ckuqfm"),N(c,"style",b=e[0]("remaining")),N(a,"class","bar svelte-ckuqfm"),N(i,"class","bottom-container svelte-ckuqfm")},m:function(t,o){R(t,i,o),T(i,a),T(a,n),me(s,n,null),T(a,r),T(a,l),me(d,l,null),T(a,h),T(a,c),T(c,p),me(_,p,null),T(c,m),x&&x.m(c,null),T(c,f),T(c,y),T(y,g),R(t,w,o),D&&D.m(t,o),R(t,k,o),$=!0,C||(S=[F(n,"click",e[12]),F(l,"click",e[11])],C=!0)},p:function(e,t){var i,a={};16&t&&(a.iconHeight=e[4]),2&t&&(a.toggled=e[1]),32768&t&&(a.$$scope={dirty:t,ctx:e}),s.$set(a),(!$||1&t&&o!==(o=e[0]("commercialPauseButton")))&&N(n,"style",o);var r={};16&t&&(r.iconHeight=e[4]),96&t&&(r.toggled=e[5]||0===e[6]),32768&t&&(r.$$scope={dirty:t,ctx:e}),d.$set(r),(!$||1&t&&u!==(u=e[0]("commercialMuteButton")))&&N(l,"style",u);var h={};128&t&&(h.color=e[7]),_.$set(h),(null==(i=e[8])?void 0:i.totalAds)>0?x?x.p(e,t):((x=Qa(e)).c(),x.m(c,f)):x&&(x.d(1),x=null),(!$||1536&t)&&P!==(P=Qi(e[9]-e[10])+"")&&V(g,P),(!$||1&t&&b!==(b=e[0]("remaining")))&&N(c,"style",b),1&t&&(A=!e[0]("commercialProgressBar")),A?D?(D.p(e,t),1&t&&ce(D,1)):((D=Ga(e)).c(),ce(D,1),D.m(k.parentNode,k)):D&&(ue(),pe(D,1,1,(function(){D=null})),he())},i:function(e){$||(ce(s.$$.fragment,e),ce(d.$$.fragment,e),ce(_.$$.fragment,e),ce(D),$=!0)},o:function(e){pe(s.$$.fragment,e),pe(d.$$.fragment,e),pe(_.$$.fragment,e),pe(D),$=!1},d:function(e){e&&q(i),fe(s),fe(d),fe(_),x&&x.d(),e&&q(w),D&&D.d(e),e&&q(k),C=!1,v(S)}}}function Wa(e){var t,i,a;return i=new Da({}),{c:function(){t=O("div"),_e(i.$$.fragment),N(t,"slot","normal")},m:function(e,n){R(e,t,n),me(i,t,null),a=!0},p:m,i:function(e){a||(ce(i.$$.fragment,e),a=!0)},o:function(e){pe(i.$$.fragment,e),a=!1},d:function(e){e&&q(t),fe(i)}}}function za(e){var t,i,a;return i=new Ta({}),{c:function(){t=O("div"),_e(i.$$.fragment),N(t,"slot","toggled")},m:function(e,n){R(e,t,n),me(i,t,null),a=!0},p:m,i:function(e){a||(ce(i.$$.fragment,e),a=!0)},o:function(e){pe(i.$$.fragment,e),a=!1},d:function(e){e&&q(t),fe(i)}}}function ja(e){var t,i,a;return i=new Oa({}),{c:function(){t=O("div"),_e(i.$$.fragment),N(t,"slot","normal")},m:function(e,n){R(e,t,n),me(i,t,null),a=!0},p:m,i:function(e){a||(ce(i.$$.fragment,e),a=!0)},o:function(e){pe(i.$$.fragment,e),a=!1},d:function(e){e&&q(t),fe(i)}}}function Ja(e){var t,i,a;return i=new La({}),{c:function(){t=O("div"),_e(i.$$.fragment),N(t,"slot","toggled")},m:function(e,n){R(e,t,n),me(i,t,null),a=!0},p:m,i:function(e){a||(ce(i.$$.fragment,e),a=!0)},o:function(e){pe(i.$$.fragment,e),a=!1},d:function(e){e&&q(t),fe(i)}}}function Qa(e){var t,i,a,n,s,o=e[8].adPosition+"",r=e[8].totalAds+"";return{c:function(){t=O("span"),i=L(o),a=L(" of "),n=L(r),s=L(" •"),N(t,"class","adpod-info svelte-ckuqfm")},m:function(e,o){R(e,t,o),T(t,i),T(t,a),T(t,n),T(t,s)},p:function(e,t){256&t&&o!==(o=e[8].adPosition+"")&&V(i,o),256&t&&r!==(r=e[8].totalAds+"")&&V(n,r)},d:function(e){e&&q(t)}}}function Ga(e){var t,i,a,n,s=function(t){e[14](t)},o={readOnly:!0,accentColor:e[7],max:e[9]};return void 0!==e[10]&&(o.value=e[10]),i=new ha({props:o}),Z.push((function(){return function(e,t,i){var a=e.$$.props[t];void 0!==a&&(e.$$.bound[a]=i,i(e.$$.ctx[a]))}(i,"value",s)})),{c:function(){t=O("div"),_e(i.$$.fragment),N(t,"class","bb-slider-element svelte-ckuqfm")},m:function(e,a){R(e,t,a),me(i,t,null),n=!0},p:function(e,t){var n={};128&t&&(n.accentColor=e[7]),512&t&&(n.max=e[9]),!a&&1024&t&&(a=!0,n.value=e[10],function(e){ee.push(e)}((function(){return a=!1}))),i.$set(n)},i:function(e){n||(ce(i.$$.fragment,e),n=!0)},o:function(e){pe(i.$$.fragment,e),n=!1},d:function(e){e&&q(t),fe(i)}}}function Ka(e){var t,i,a,n,s,o,l="EXIT"!==e[3]&&Va(e);return{c:function(){t=O("div"),(i=O("div")).innerHTML='<div class="header-area"></div>',a=B(),n=O("div"),s=B(),l&&l.c(),N(i,"class","top-container"),N(n,"class","center-area svelte-ckuqfm"),N(t,"class","chrome svelte-ckuqfm"),z(t,"--bar-button-size",e[2]+"px")},m:function(e,r){R(e,t,r),T(t,i),T(t,a),T(t,n),T(t,s),l&&l.m(t,null),o=!0},p:function(e,i){var a=r.default(i,1)[0];"EXIT"!==e[3]?l?(l.p(e,a),8&a&&ce(l,1)):((l=Va(e)).c(),ce(l,1),l.m(t,null)):l&&(ue(),pe(l,1,1,(function(){l=null})),he()),4&a&&z(t,"--bar-button-size",e[2]+"px")},i:function(e){o||(ce(l),o=!0)},o:function(e){pe(l),o=!1},d:function(e){e&&q(t),l&&l.d()}}}function Ya(e,t,i){var a,n,s,o,r,l,d,u,h,c,p,_;return C(e,Te,(function(e){return i(13,n=e)})),C(e,tt,(function(e){return i(1,s=e)})),C(e,Pi,(function(e){return i(2,o=e)})),C(e,xt,(function(e){return i(3,r=e)})),C(e,Si,(function(e){return i(4,l=e)})),C(e,rt,(function(e){return i(5,d=e)})),C(e,ot,(function(e){return i(6,u=e)})),C(e,et,(function(e){return i(7,h=e)})),C(e,Ue,(function(e){return i(8,c=e)})),C(e,ft,(function(e){return i(9,p=e)})),C(e,mt,(function(e){return i(10,_=e)})),e.$$.update=function(){8192&e.$$.dirty&&i(0,a=function(e){var t;return null!=(t=null==n?void 0:n[e])&&t.hidden?"display: none; visibility: hidden":""})},[a,s,o,r,l,d,u,h,c,p,_,function(){wi()},function(){!Qe||(s?Qe.pause():Qe.play())},n,function(e){_=e,mt.set(_)}]}var Za=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,Ya,Ka,b,{},Ua),c.default(a)}return i}(ge);function Xa(e){E(e,"svelte-bwf0ck",'.bb-skin-container.svelte-bwf0ck{position:absolute;left:0;top:0;width:100%;height:100%;color:var(--foreground-color);-webkit-user-select:none;user-select:none;pointer-events:none;font-size:16px;font-size:max(12px, min(var(--font-size), 16px));font-family:"Lato", "Montserrat", "Arial", sans-serif}')}function en(e){var t,i,a;return i=new Za({}),{c:function(){t=O("div"),_e(i.$$.fragment),N(t,"class","bb-skin-container svelte-bwf0ck"),z(t,"--accent-color",e[0]),z(t,"--foreground-color",e[1]),z(t,"--bar-button-size",e[2]+"px"),z(t,"--bar-icon-size",e[3]+"px"),z(t,"--font-size",e[4]+"px"),z(t,"--bg-color-pane","rgba(33, 33, 33, 0.9)")},m:function(e,n){R(e,t,n),me(i,t,null),a=!0},p:function(e,i){var a=r.default(i,1)[0];1&a&&z(t,"--accent-color",e[0]),2&a&&z(t,"--foreground-color",e[1]),4&a&&z(t,"--bar-button-size",e[2]+"px"),8&a&&z(t,"--bar-icon-size",e[3]+"px"),16&a&&z(t,"--font-size",e[4]+"px")},i:function(e){a||(ce(i.$$.fragment,e),a=!0)},o:function(e){pe(i.$$.fragment,e),a=!1},d:function(e){e&&q(t),fe(i)}}}function tn(e,t,i){var a,n,s,o,r;C(e,et,(function(e){return i(0,a=e)})),C(e,Ze,(function(e){return i(1,n=e)})),C(e,Pi,(function(e){return i(2,s=e)})),C(e,Si,(function(e){return i(3,o=e)})),C(e,Di,(function(e){return i(4,r=e)}));var l=t.apiProp;return G((function(){ze(),l&&function(e){null==e||!e.on||(Qe=e,ni(),gi())}(l)})),function(e){Q().$$.on_destroy.push(e)}((function(){null==Qe||Qe.off(Zt),null==Ut||Ut.removeEventListener("touchend",pi),null==Ut||Ut.removeEventListener("mousemove",_i),null==Ut||Ut.removeEventListener("mouseleave",fi),document.removeEventListener("keydown",mi)})),e.$$set=function(e){"apiProp"in e&&i(5,l=e.apiProp)},[a,n,s,o,r,l]}var an=function(e){d.default(i,e);var t=u.default(i);function i(e){var a;return s.default(this,i),a=t.call(this),ve(h.default(a),e,tn,en,b,{apiProp:5},Xa),c.default(a)}return i}(ge),nn=function(){function e(t){s.default(this,e),_(this,"_api"),_(this,"skinComponent"),performance.mark("Skin constructor"),this._api=(void 0===t?"undefined":a.default(t))<"u"?t:null;var i=this._api.getSkinLayer()||this._api.getWrapper().querySelector(".bb-skin-layer");i.innerHTML="",i.attachShadow({mode:"open"}),this.skinComponent=new an({target:i.shadowRoot,props:{apiProp:this._api}})}return o.default(e,[{key:"getInfo",value:function(){return{name:"Blue Billywig Svelte Skin",type:"outstream",vendor:"Blue Billywig",generation:8}}}]),e}();e.exports=nn})),parcelRequire.register("3Eiwh",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("dhZ6J");var i=parcelRequire("dwEjG"),a=parcelRequire("k0pvG"),n=parcelRequire("8aMPH"),s=function(e,t){this._opts=t||{},this._masterVolume=.8,this._previousMasterVolume=null,this._masterMuted=!1,this._previousMasterMuted=null,this._localStorage=null,this._masterMutedFromPlayout=!1,this._masterVolumeHandlers={},this._masterMuteHandlers={};var i=!1;if(this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onHeadVolumeChangedBound=this._onHeadVolumeChanged.bind(this),void 0!==e&&null!=e){this.$element=e,a.default.getService(this._opts.playerAliasOrId).setInstance("SoundController",this),this.$element.on("bb_media_volume_change",this._onHeadVolumeChangedBound),this.$element.on("bb_commercial_volume_change",this._onHeadVolumeChangedBound);var n=a.default.getService(this._opts.playerAliasOrId).getInstance("LocalStorage");if(void 0!==n&&null!=n){this._localStorage=n;var s=n.get("masterVolume"),o=n.get("masterMute");null!=s&&(this._masterVolume=Number(s),this._callMasterVolumeHandlers(),this.$element.trigger("bb_master_volume_set",[{volume:this._masterVolume}])),null!=o&&(this._masterMuted=o,i=!0)}null!=t&&void 0!==t.playoutData&&void 0!==t.playoutData.autoMute&&"true"==t.playoutData.autoMute&&(this._masterMuted=!0,this._masterMutedFromPlayout=!0,i=!0),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),1==i&&(this._callMasterMuteHandlers(),this.$element.trigger("bb_master_volume_mute",[{muted:this._masterMuted}]))}};s.prototype.registerMasterVolumeHandler=function(e,t){e=e||"__global__",this._masterVolumeHandlers[e]=t},s.prototype.unregisterMasterVolumeHandler=function(e){e=e||"__global__",delete this._masterVolumeHandlers[e]},s.prototype.registerMasterMuteHandler=function(e,t){e=e||"__global__",this._masterMuteHandlers[e]=t},s.prototype.unregisterMasterMuteHandler=function(e){e=e||"__global__",delete this._masterMuteHandlers[e]},s.prototype._callMasterVolumeHandlers=function(){for(var e in this._masterVolumeHandlers)try{"function"==typeof this._masterVolumeHandlers[e]&&this._masterVolumeHandlers[e]({volume:this._masterVolume})}catch(e){n.default("[SoundController] _callMasterVolumeHandlers error: "+e)}},s.prototype._callMasterMuteHandlers=function(){for(var e in this._masterMuteHandlers)try{"function"==typeof this._masterMuteHandlers[e]&&this._masterMuteHandlers[e]({muted:this._masterMuted})}catch(e){n.default("[SoundController] _callMasterMuteHandlers error: "+e)}},s.prototype.setVolume=function(e){return null!=this.$element&&null!=e&&e>=0&&e<=1&&(this._masterVolume=e,n.default("[SoundController] setVolume going to trigger 'bb_master_volume_set' with volume: "+this._masterVolume),this._callMasterVolumeHandlers(),this.$element.trigger("bb_master_volume_set",[{volume:this._masterVolume}]),!0)},s.prototype.getVolume=function(){return this._masterVolume},s.prototype.setMuted=function(e,t,s){if(null!=this.$element&&null!=e){if(!s&&!e){var o=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections");if(o&&!o.canAutoPlayAdvanced)return!1}return this._masterMuted=e,n.default("[SoundController] setMuted going to trigger 'bb_master_volume_mute' with muted: "+this._masterMuted+", storeValue: "+t+"("+(void 0===t?"undefined":i.default(t))+")"),this._callMasterMuteHandlers(),this.$element.trigger("bb_master_volume_mute",[{muted:this._masterMuted}]),1==this._masterMutedFromPlayout?(this._masterMutedFromPlayout=!1,!0):(null!=this._localStorage&&!1!==t&&this._localStorage.set("masterMute",e),!0)}return!1},s.prototype.getMuted=function(){return this._masterMuted},s.prototype._onPlayoutChanged=function(e,t){t&&void 0!==t.playoutData&&void 0!==t.playoutData.autoMute&&(this._masterMuted="true"==t.playoutData.autoMute,this._masterMutedFromPlayout=!0,this._callMasterMuteHandlers(),this.$element.trigger("bb_master_volume_mute",[{muted:this._masterMuted}]))},s.prototype._onHeadVolumeChanged=function(e,t){if(void 0!==t){void 0===t.masterVolume||isNaN(parseFloat(t.masterVolume))||(this._masterVolume=Math.max(0,Math.min(t.masterVolume,1))),void 0!==t.masterMuted&&null!=t.masterMuted&&(this._masterMuted=!!t.masterMuted);var i=!1;this._previousMasterVolume!==this._masterVolume&&(this._previousMasterVolume=this._masterVolume,i=!0,null!=this._localStorage&&this._localStorage.set("masterVolume",this._masterVolume)),this._previousMasterMuted!==this._masterMuted&&(this._previousMasterMuted=this._masterMuted,i=!0),i&&this.$element.trigger("bb_master_volume_change",[{volume:this._masterVolume,muted:this._masterMuted}])}},s.prototype.exit=function(){return null!=this.$element&&(a.default.getService(this._opts.playerAliasOrId).setInstance("SoundController",null),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_media_volume_change",this._onHeadVolumeChangedBound),this.$element.off("bb_commercial_volume_change",this._onHeadVolumeChangedBound)),this._localStorage=null,null}})),parcelRequire.register("g7VPL",(function(e,t){$parcel$export(e.exports,"default",(function(){return n})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("8aMPH"),n=function(e,t){this.$element=null,void 0!==e&&null!=e&&(this.$element=e,this.$element.on("bb_error.errorengine",$parcel$interopDefault(i).proxy(n.prototype._onError,this)),this.$element.on("bb_warning.errorengine",$parcel$interopDefault(i).proxy(n.prototype._onWarning,this)))};n.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_error.errorengine"),this.$element.off("bb_warning.errorengine")),null},n.prototype._onError=function(e,t){if(e.stopPropagation(),"undefined"!=typeof console){var i=t?t.msg:"";void 0!==console.debug?console.debug("Error: "+i):console.log("Error: "+i),void 0!==console.trace&&console.trace("Error: "+i)}},n.prototype._onWarning=function(e,t){if(e.stopPropagation(),"undefined"!=typeof console){var i=t?t.msg:"";a.default("Warning: "+i,!0)}}})),parcelRequire.register("kYlvJ",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),a=parcelRequire("b3HW6");parcelRequire("boCbw");var n=parcelRequire("6gF5a"),s=parcelRequire("k0pvG"),o=function(){"use strict";function e(t,a){var n;if(i.default(this,e),this.$element=void 0!==t?t:null,this._opts=void 0!==a?a:null,this.instanceService=s.default.getService(null===(n=this._opts)||void 0===n?void 0:n.playerAliasOrId),this._eventHandlers=null,this._server=null,this._disallowScripts=!1,this._widget=null,this._playerEventsStr="ready timeupdate ended assetselected audiotrackchange playing play pause unstalled stalled seeking seeked durationchange error resized volumechange subtitlechange inview outview subtitlelinechange fullscreen retractfullscreen loadedclipdata loadedmetadata loadeddata loadedinteractivity chapterlistchange started mouseover1s mouseover2s mouseover3s mouseover4s mouseover5s",this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onMessageBound=this._onMessage.bind(this),this._onPlayerEventBound=this._onPlayerEvent.bind(this),this._opts&&this._opts.playoutData&&void 0!==this._opts.playoutData.eventHandlers&&(this._eventHandlers=this._opts.playoutData.eventHandlers),this._opts&&this._opts.publicationData&&(void 0!==this._opts.publicationData.server&&(this._server=this._opts.publicationData.server),void 0!==this._opts.publicationData.disallowScripts&&(this._disallowScripts="true"==this._opts.publicationData.disallowScripts)),this.$element){this.$element.on("bb_playout_changed",this._onPlayoutChangedBound);var o=this.$element.closest(".bb_wrapper");o.on("bb_on_message",this._onMessageBound),o.on(this._playerEventsStr,this._onPlayerEventBound)}}return a.default(e,[{key:"exit",value:function(){if(this.$element){var e=this.$element.closest(".bb_wrapper");e.off(this._playerEventsStr,this._onPlayerEventBound),e.off("bb_on_message",this._onMessageBound),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound)}if(this._widget){var t=this._widget.$element;this._widget=this._widget.exit(),t&&t.remove()}return null}},{key:"getDisallowScripts",value:function(){return this._disallowScripts}},{key:"getWidgetById",value:function(e){return null}},{key:"getGroupById",value:function(e){return null}},{key:"_onPlayoutChanged",value:function(e,t){t&&t.playoutData&&void 0!==t.playoutData.eventHandlers&&(this._eventHandlers=t.playoutData.eventHandlers)}},{key:"_onPlayerEvent",value:function(e){(null==e?void 0:e.type)&&this.$element.trigger("bb_on_message",[{name:"player_"+e.type}])}},{key:"_onMessage",value:function(e,t){var i,a=""+t,s="message:2";t&&"string"!=typeof t&&(void 0!==t.name&&(a=""+t.name),void 0!==t.widgetId&&(s=t.widgetId));var o=a.toLowerCase();if(null===(i=this._eventHandlers)||void 0===i?void 0:i.some((function(e){var t;return(null==e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase)&&e.name.toLowerCase()===o}))){if(!this._widget){var r=this;return this._widgetPromise||(this._widgetPromise=parcelRequire("bRWZ0")),void this._widgetPromise.then((function(i){var a=i.default;if("function"==typeof a){var o=$parcel$interopDefault(n)('<div class="bb_timelinewidget" style="display: none;"></div>');r.$element.append(o),r._widget=new a(o,{id:s},r),r._onMessage(e,t)}}))}if(Array.isArray(this._eventHandlers)){var l,d=!0,u=!1,h=void 0;try{for(var c,p=this._eventHandlers[Symbol.iterator]();!(d=(c=p.next()).done);d=!0){var _=c.value;if((null==_||null===(l=_.name)||void 0===l?void 0:l.toLowerCase)&&_.name.toLowerCase()===o){var m,f=!0,y=!1,v=void 0;if(Array.isArray(_.procedures))try{for(var g,b=_.procedures[Symbol.iterator]();!(f=(g=b.next()).done);f=!0){var w=g.value;null===(m=this._widget)||void 0===m||m._handleAction(w)}}catch(e){y=!0,v=e}finally{try{f||null==b.return||b.return()}finally{if(y)throw v}}}}}catch(e){u=!0,h=e}finally{try{d||null==p.return||p.return()}finally{if(u)throw h}}}}}}]),e}()})),parcelRequire.register("bRWZ0",(function(e,t){e.exports=parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("4jxPJ")+parcelRequire("kvHoK").resolve("1xc6V")).then((function(){return parcelRequire("iEAB1")}))})),parcelRequire.register("kSBTF",(function(e,t){"use strict";var i=parcelRequire("gbQZv");e.exports=i((function(e){return new Promise((function(t,i){var a=document.getElementsByTagName("script");if([].concat(a).some((function(t){return t.src===e})))t();else{var n=document.createElement("link");n.href=e,n.rel="preload",n.as="script",document.head.appendChild(n);var s=document.createElement("script");s.async=!0,s.type="text/javascript",s.charset="utf-8",s.src=e,s.onerror=function(t){var a=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));s.onerror=s.onload=null,s.remove(),i(a)},s.onload=function(){s.onerror=s.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(s)}}))}))})),parcelRequire.register("gbQZv",(function(e,t){"use strict";var i={},a={},n={};function s(e){switch(e){case"preload":return a;case"prefetch":return n;default:return i}}e.exports=function(e,t){return function(i){var a=s(t);return a[i]?a[i]:a[i]=e.apply(null,arguments).catch((function(e){throw delete a[i],e}))}}})),parcelRequire.register("ast2j",(function(e,t){var i;$parcel$export(e.exports,"getBundleURL",(function(){return i}),(function(e){return i=e}));var a={};function n(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return n(e[2])}return"/"}(),a[e]=t),t}})),parcelRequire.register("eza1s",(function(e,t){$parcel$export(e.exports,"default",(function(){return n})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("lPnm7").default,n=function(e,t){this.$element=null,this._opts=void 0!==t?t:null,this._eventNS="StatsEngine"+String(Math.random()).replace(".",""),this._noStats=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.noStats,this._autoPlayOnlyWithPrerollAd=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.autoPlayOnlyWithPrerollAd,this._autoPauseAfterPrePhase=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.autoPauseAfterPrePhase,this._autoPaused=!1,this._bblogger=null,this._nslogger=null,this._galogger=null,this._pwlogger=null,void 0!==e&&null!=e&&(this.$element=e,"function"==typeof a&&(this._bblogger=new a(this.$element,t)),this._noStats||this._autoPlayOnlyWithPrerollAd||this._autoPauseAfterPrePhase?this._disableAll():this._enableAll(),this.$element.on("bb_playout_changed."+this._eventNS,$parcel$interopDefault(i).proxy(this._onPlayoutChanged,this)),this.$element.on("bb_program_autopause."+this._eventNS,$parcel$interopDefault(i).proxy(this._onAutoPause,this)),this.$element.on("bb_program_autopauseplay."+this._eventNS,$parcel$interopDefault(i).proxy(this._onAutoPausePlay,this)),this.$element.on("bb_program_play."+this._eventNS,$parcel$interopDefault(i).proxy(this._onPlay,this)))};n.prototype.exit=function(){return this.$element&&(this.$element.off("bb_playout_changed."+this._eventNS),this.$element.off("bb_program_autopause."+this._eventNS),this.$element.off("bb_program_autopauseplay."+this._eventNS),this.$element.off("bb_program_play."+this._eventNS)),null!=this._bblogger&&(this._bblogger=this._bblogger.exit()),null!=this._nslogger&&(this._nslogger=this._nslogger.exit()),null!=this._galogger&&(this._galogger=this._galogger.exit()),null!=this._gtlogger&&(this._gtlogger=this._gtlogger.exit()),null!=this._pwlogger&&(this._pwlogger=this._pwlogger.exit()),null},n.prototype._onPlayoutChanged=function(e,t){t&&t.playoutData&&(void 0!==t.playoutData.noStats&&(this._noStats="true"===t.playoutData.noStats),void 0!==t.playoutData.autoPlayOnlyWithPrerollAd&&(this._autoPlayOnlyWithPrerollAd="true"===t.playoutData.autoPlayOnlyWithPrerollAd),void 0!==t.playoutData.autoPauseAfterPrePhase&&(this._autoPauseAfterPrePhase="true"===t.playoutData.autoPauseAfterPrePhase),this._noStats||this._autoPlayOnlyWithPrerollAd||this._autoPauseAfterPrePhase?this._disableAll():this._enableAll())},n.prototype._onAutoPause=function(e,t){this._autoPaused=!0,this._noStats||this._handleAutoPauseAll()},n.prototype._onAutoPausePlay=function(e,t){this._autoPaused=!1,this._noStats||this._enableAll()},n.prototype._onPlay=function(e){this._autoPaused&&(this._autoPaused=!1,this._noStats||this._enableAll())},n.prototype._handleAutoPauseAll=function(){this._bblogger&&this._bblogger.handleAutoPause&&this._bblogger.handleAutoPause(),this._nslogger&&this._nslogger.handleAutoPause&&this._nslogger.handleAutoPause(),this._galogger&&this._galogger.handleAutoPause&&this._galogger.handleAutoPause(),this._gtlogger&&this._gtlogger.handleAutoPause&&this._gtlogger.handleAutoPause(),this._pwlogger&&this._pwlogger.handleAutoPause&&this._pwlogger.handleAutoPause()},n.prototype._enableAll=function(){this._bblogger&&this._bblogger.enable&&this._bblogger.enable(),this._nslogger&&this._nslogger.enable&&this._nslogger.enable(),this._galogger&&this._galogger.enable&&this._galogger.enable(),this._gtlogger&&this._gtlogger.enable&&this._gtlogger.enable(),this._pwlogger&&this._pwlogger.enable&&this._pwlogger.enable()},n.prototype._disableAll=function(){this._bblogger&&this._bblogger.disable&&this._bblogger.disable(),this._nslogger&&this._nslogger.disable&&this._nslogger.disable(),this._galogger&&this._galogger.disable&&this._galogger.disable(),this._gtlogger&&this._gtlogger.disable&&this._gtlogger.disable(),this._pwlogger&&this._pwlogger.disable&&this._pwlogger.disable()}})),parcelRequire.register("lPnm7",(function(e,t){$parcel$export(e.exports,"default",(function(){return l})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG"),n=parcelRequire("8aMPH"),s=parcelRequire("hm4aY"),o=parcelRequire("3a2Cr"),r=parcelRequire("fZtuh");parcelRequire("lGhIk");var l=function(e,t){var n;this._opts=t,this._loggerUrl="https://stats.mainroll.com",this._outstreamMode=!0,this._sessionId=null,this._playerSessionId=null,this._playerSessionStartLogged=!1,this._viewId=null,this._publication=null,this._mediaClip=null,this._duration=0,this._currentTime=0,this._commercialCurrentTime=0,this._playMode="html5",this._commercialPlayMode="html5",this._timelineIds={},this._referrer=null,this._realReferrer=null,this._fullScreen=!1,this._uuid=null,this._uuid_unsaved=!1,this._timer=null,this._creativeId=null,this._tsOffset=0,this._timeOffset=0,this._quartile=-1,this._to=null,this._to_now=null,this._enabled=!1,this._enabledQueue=[],this._prevViewId=null,this._prevClipId=null,this._startedClipId=null,this._adProperties=null,this._adUnitCode=null,this._lineItemCode=null,this._paused=!0,this._isInView=!1,this._logEventBundling=!0,this._logEventQueueProcessingLock=!1,this._logEventQueue=[],this._logEventQueueProcessingTimeout=null;var r=a.default.getService(this._opts.playerAliasOrId).getInstance("LocalStorage");if(r&&(this._uuid_ls=r.get("bb_uuid")),this._uuid_ls||(this._uuid_ls_unsaved=!0),s.getCookie&&(this._uuid_c=s.getCookie("uuid")),this._uuid_c||(this._uuid_c_unsaved=!0),this._uuid=this._uuid_ls||this._uuid_c||Math.uuid(),this._logSsEventDebounced=o.default($parcel$interopDefault(i).proxy(this._logEvent,this),300,!0),this._logSeEventDebounced=o.default($parcel$interopDefault(i).proxy(this._logEvent,this),300),this._logRsEventDebounced=o.default($parcel$interopDefault(i).proxy(this._logEvent,this),300),(null===(n=this._opts)||void 0===n?void 0:n.playoutData)&&(this._playout=this._opts.playoutData,"true"!==this._playout.disableCookies&&"tracking"!==this._playout.disableCookies&&(this._uuid_ls_unsaved&&r&&(r.set("bb_uuid",this._uuid),this._uuid_ls_unsaved=!1),this._uuid_c_unsaved&&s.setCookie&&(s.setCookie("uuid",this._uuid,365,this._playout),this._uuid_c_unsaved=!1)),this._logProgressAsQuartiles=!("true"!==this._playout.logProgressAsQuartiles),void 0!==this._playout.context&&(this._context=this._playout.context)),this._opts&&void 0!==this._opts.clipData&&(this._mediaClip=this._opts.clipData,this._mediaClip_initial=!0),this._opts&&this._opts.publicationData&&(this._publication=this._opts.publicationData),this._sessionId=this._generateSessionId(),this._playerSessionId=this._generateSessionId(),this._serialNumber=0,this._determineReferrer(),this.$element=null,e)for(var l in this.$element=e,a.default.getService(this._opts.playerAliasOrId).setInstance("BlueBillywigStatisticsLogger",this),this._eventBindings={bb_playout_changed:this._onPlayoutChanged.bind(this),bb_mediaclip_loaded:this._onClipDataLoaded.bind(this),bb_mediaclip_failed:this._onClipDataFailed.bind(this),bb_fullscreen_change:this._onFullscreenChange.bind(this),bb_error:this._onPlayerError.bind(this),bb_warning:this._onPlayerWarning.bind(this),bb_head_selected:this._onHeadSelected.bind(this),bb_commercial_head_selected:this._onCommercialHeadSelected.bind(this),bb_media_started:this._onMediaStarted.bind(this),bb_media_finished:this._onMediaFinished.bind(this),bb_media_paused:this._onMediaPaused.bind(this),bb_media_resumed:this._onMediaResumed.bind(this),bb_media_seeking:this._onMediaSeeking.bind(this),bb_media_seeked:this._onMediaSeeked.bind(this),bb_media_duration_change:this._onDurationChange.bind(this),bb_media_volume_change:this._onMediaVolumeChange.bind(this),bb_media_timeupdate:this._onTimeUpdate.bind(this),bb_adunit_initialized:this._onAdUnitInitialized.bind(this),bb_adunit_failed:this._onAdUnitFailed.bind(this),bb_inview:this._onInView.bind(this),bb_outview:this._onOutView.bind(this),bb_adsystem_initialized:this._onAdSystemInitialized.bind(this),bb_adsystem_loadstart:this._onAdSystemLoadStart.bind(this),bb_adsystem_blocked:this._onAdSystemBlocked.bind(this),bb_adsystem_canplay:this._onAdSystemCanPlay.bind(this),bb_adsystem_started:this._onAdSystemStarted.bind(this),bb_adsystem_clicked:this._onAdSystemClicked.bind(this),bb_adsystem_skipped:this._onAdSystemSkipped.bind(this),bb_adsystem_noad:this._onAdSystemNoAd.bind(this),bb_adsystem_failed:this._onAdSystemFailed.bind(this),bb_adsystem_finished:this._onAdSystemFinished.bind(this),bb_adsystem_quartile:this._onAdSystemQuartile.bind(this),bb_commercial_timeupdate:this._onCommercialTimeUpdate.bind(this),bb_commercial_paused:this._onCommercialPaused.bind(this),bb_commercial_playing:this._onCommercialPlaying.bind(this),bb_view_started:this._onViewStarted.bind(this),bb_view_finished:this._onViewFinished.bind(this),bb_api_called:this._onApiCalled.bind(this)},this._eventBindings)this.$element.on(l,this._eventBindings[l])};l.prototype.reset=function(){this._timer&&(clearInterval(this._timer),this._timer=null)},l.prototype.exit=function(){if(this.reset(),this.$element)for(var e in this._eventBindings)this.$element.off(e,this._eventBindings[e]);return a.default.getService(this._opts.playerAliasOrId).setInstance("BlueBillywigStatisticsLogger",null),null},l.prototype.enable=function(){for(this._enabled=!0;this._enabledQueue.length>0;){var e=this._enabledQueue.shift();this._logEvent_enabled(e.properties)}},l.prototype.disable=function(){this._enabled=!1},l.prototype.handleAutoPause=function(){for(var e=0;e<this._enabledQueue.length;){var t=this._enabledQueue[e].properties;"Session"===t.et||"it"===t.ev||"pf"===t.ev||"pw"===t.ev||"Creative"===t.et||"AdUnit"===t.et||"LineItem"===t.et?(this._enabledQueue.splice(e,1),this._logEvent_enabled(t)):e++}},l.prototype._determineProgressTimer=function(e,t){var i=e&&Number(e.length);if(i>0){var a=Math.min(i/5,3);return t&&(a=4),this._logProgressAsQuartiles?i/40:Math.min(Math.max(i/10,a),10)}return this._logProgressAsQuartiles?1:10},l.prototype._determineReferrer=function(){this._referrer=window.location.href;var e=this._referrer.match(/#!.*referrer=([^&]+)/);(null==e?void 0:e.length)>1&&(this._referrer=decodeURIComponent(e[1])),this._realReferrer=document.referrer,(null==(e=window.location.href.match(/#!.*realReferrer=([^&]+)/))?void 0:e.length)>1&&(this._realReferrer=decodeURIComponent(e[1]))},l.prototype._onPlayoutChanged=function(e,t){(null==t?void 0:t.playoutData)&&void 0!==t.playoutData.logProgressAsQuartiles&&(this._logProgressAsQuartiles=!("true"!==t.playoutData.logProgressAsQuartiles))},l.prototype._onClipDataLoaded=function(e,t){if(this._sessionId=this._generateSessionId(),this._serialNumber=0,this._mediaClip&&!this._mediaClip_initial&&(this._prevClipId=this._mediaClip.id),this._timelineIds={},this._currentTime=0,this._timeOffset=0,this._quartile=-1,this.$element.attr("data-sid",this._sessionId),r.default.triggerEventOnJQueryObject(this.$element,"startedSession"),t&&t.clipData){var i;this._mediaClip=t.clipData,this._mediaClip_initial=!1,this._determineReferrer();var a=this._playout?this._playout.name:"default",n={xu:this._referrer,xr:this._realReferrer,pt:a};this._playout&&(n.aup="true"===this._playout.autoPlay||!0===this._playout.autoPlay?"1":"0",n.aum="true"===this._playout.autoMute||!0===this._playout.autoMute?"1":"0",n.aul="true"===this._playout.autoLoop||!0===this._playout.autoLoop?"1":"0"),this._playerSessionStartLogged||(this._playerSessionStartLogged=!0,this._logExtensionEvent("xst",this._playerSessionId,"Session",null,null,n)),(null===(i=this._mediaClip)||void 0===i?void 0:i.usetype)&&(n.ut=this._mediaClip.usetype);var s=this._constructCustomFieldLogging(this._mediaClip);s&&(n.csf=JSON.stringify(s)),this._logMediaClipEvent("it",n)}else this._mediaClip=null,this._logErrorEvent("pf",{why:"clip failed to open"});this._timer&&(clearInterval(this._timer),this._timer=null)},l.prototype._constructCustomFieldLogging=function(e){var t,i,a,n=null,s={string:"_str",relation:"_str",multistring:"_strmulti",relationlist:"_strmulti",text:"_txt",boolean:"_bool",date:"_date",int:"_int",long:"_long",float:"_float",double:"_double"};if(null===(t=this._publication)||void 0===t||null===(i=t.customfields)||void 0===i||null===(a=i.mediaclip)||void 0===a?void 0:a.length)for(var o=0;o<this._publication.customfields.mediaclip.length;o++){var r=this._publication.customfields.mediaclip[o];(null==r?void 0:r.includeInStats)&&r.name&&void 0!==e[r.name]&&(n||(n={}),n[r.name+(s[r.type]||"_str")]=e[r.name])}return n},l.prototype._onClipDataFailed=function(e){this._onClipDataLoaded(e)},l.prototype._onHeadSelected=function(e,t){this._playMode=this._playModeFromHeadType(t.headType)},l.prototype._onCommercialHeadSelected=function(e,t){this._commercialPlayMode=this._playModeFromHeadType(t.headType)},l.prototype._playModeFromHeadType=function(e){switch(e){case"html5ima":case"html5":return"html5";default:return e}},l.prototype._onFullscreenChange=function(e,t){if(void 0!==(null==t?void 0:t.fullscreen)){this._fullScreen=t.fullscreen;var i={fs:this._fullScreen?"1":"0"};this._logExtensionEvent("xpc",this._viewId,"View",this._playerSessionId,"Session",i)}},l.prototype._onPlayerError=function(e,t){void 0!==t&&void 0!==t.msg&&this._logErrorEvent("pf",{why:t.msg}),this._timer&&(clearInterval(this._timer),this._timer=null)},l.prototype._onPlayerWarning=function(e,t){(null==t?void 0:t.msg)&&this._logErrorEvent("pw",{why:t.msg})},l.prototype._onDurationChange=function(e,t){void 0!==(null==t?void 0:t.duration)&&(this._duration=t.duration)},l.prototype._onMediaVolumeChange=function(e,t){if(null!==(null==t?void 0:t.volume)&&null!==(null==t?void 0:t.muted)){var i={mv:parseFloat(null==t?void 0:t.masterVolume)*parseFloat(null==t?void 0:t.volume),mm:(null==t?void 0:t.masterMuted)||(null==t?void 0:t.muted)?"true":"false"};this._logExtensionEvent("xpc",this._viewId,"View",this._playerSessionId,"Session",i)}},l.prototype._onMediaStarted=function(e){this._paused=!1,this._isReplay=!1,this._mediaClip&&this._mediaClip.id===this._startedClipId&&(this._logMediaClipEvent("rp",{to:0}),this._isReplay=!0),this._mediaClip&&(this._startedClipId=this._mediaClip.id),this._logMediaClipEvent("st",{to:0}),this._timer&&(clearInterval(this._timer),this._timer=null);var t=this,i=1e3*this._determineProgressTimer(this._mediaClip,this._isReplay);i>2e3&&setTimeout((function(){t._handleTimerTick()}),2e3),this._timer=setInterval((function(){t._handleTimerTick()}),i)},l.prototype._onMediaFinished=function(e){if(this._logProgressAsQuartiles)for(;this._quartile<4;){this._quartile++;var t=25*this._quartile;this._logMediaClipEvent("pg",{pct:t,pet:"Session",pid:this._playerSessionId,wpa:!!this._paused})}this._logMediaClipEvent("fn",{to:this._getTimeOffset()}),this._timer&&(clearInterval(this._timer),this._timer=null)},l.prototype._onMediaPaused=function(e){this._paused=!0,this._logMediaClipEvent("pa",{to:this._getTimeOffset()}),this._timer&&(clearInterval(this._timer),this._timer=null);var t=this;this._timer=setInterval((function(){t._handleTimerTick()}),6e4)},l.prototype._onMediaResumed=function(e){this._paused=!1,this._logMediaClipEvent("rs",{to:this._getTimeOffset()}),this._timer&&(clearInterval(this._timer),this._timer=null);var t=this,i=1e3*this._determineProgressTimer(this._mediaClip,this._isReplay);this._timer=setInterval((function(){t._handleTimerTick()}),i)},l.prototype._onMediaSeeking=function(e,t){var i=parseFloat(null==t?void 0:t.currentTime);i>=0&&(this._currentTime=this._duration>=0?Math.min(i,this._duration):i),this._logMediaClipEvent("ss",{to:this._getTimeOffset()})},l.prototype._onMediaSeeked=function(e,t){!isNaN(parseFloat(null==t?void 0:t.seekedPosition))&&t.seekedPosition>=0&&(this._currentTime=t.seekedPosition,this._duration&&this._currentTime>this._duration&&(this._currentTime=this._duration),this._timeOffset=Math.round(1e3*parseFloat(this._currentTime))),this._logMediaClipEvent("se",{to:this._getTimeOffset()})},l.prototype._onTimeUpdate=function(e,t){!isNaN(parseFloat(null==t?void 0:t.currentTime))&&t.currentTime>=0&&(this._currentTime=t.currentTime,this._duration&&this._currentTime>this._duration&&(this._currentTime=this._duration))},l.prototype._getTimeOffset=function(){return this._timeOffset||(this._timeOffset=0),this._currentTime||(this._currentTime=0),this._timeOffset=Math.min(this._timeOffset+6e4,Math.round(1e3*parseFloat(this._currentTime))),this._timeOffset},l.prototype._handleTimerTick=function(){var e=this._getTimeOffset();if(e===this._to){if(this._to_num||(this._to_num=1),this._to_now||(this._to_now=Date.now()),this._to_num++>60)return;if(Date.now()>this._to_now+36e5)return}else this._to=e,this._to_num=null,this._to_now=null;if(this._logProgressAsQuartiles)for(var t=this._duration>0?Math.floor(4*e/(1e3*this._duration)):0;this._quartile<t;){this._quartile++;var i=25*this._quartile;this._logMediaClipEvent("pg",{pct:i,pet:"Session",pid:this._playerSessionId,wpa:!!this._paused})}else this._logMediaClipEvent("pg",{to:e,pet:"Session",pid:this._playerSessionId,wpa:!!this._paused})},l.prototype._onAdUnitInitialized=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._creativeId=null,this._adUnitLoggedXiv=!1,this._adUnitLoggedXov=!1,this._adUnitAdPosition=(null===(t=i.adPosition)||void 0===t?void 0:t.toLowerCase())||null,this._adUnitCode=(null==i?void 0:i.adUnitCode)||null,this._adUnitCode){var a=this._adUnitAdPosition?{ap:this._adUnitAdPosition}:{};this._logExtensionEvent("xit",this._adUnitCode,"AdUnit",this._viewId,"View",a),this._isInView?this._adUnitLoggedXiv||(this._adUnitLoggedXiv=!0,this._logExtensionEvent("xiv",this._adUnitCode,"AdUnit",this._viewId,"View",a)):this._adUnitLoggedXov||(this._adUnitLoggedXov=!0,this._logExtensionEvent("xov",this._adUnitCode,"AdUnit",this._viewId,"View",a))}},l.prototype._onAdUnitFailed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._creativeId=null,this._adUnitCode=(null==t?void 0:t.adUnitCode)||null,this._adUnitCode){var i=void 0!==t.adPosition?{ap:t.adPosition.toLowerCase()}:{};this._logExtensionEvent("xpf",this._adUnitCode,"AdUnit",this._viewId,"View",i),this._isInView?this._adUnitLoggedXiv||(this._adUnitLoggedXiv=!0,this._logExtensionEvent("xiv",this._adUnitCode,"AdUnit",this._viewId,"View",i)):this._adUnitLoggedXov||(this._adUnitLoggedXov=!0,this._logExtensionEvent("xov",this._adUnitCode,"AdUnit",this._viewId,"View",i))}},l.prototype._onInView=function(e){if(this._isInView=!0,this._adUnitCode&&!this._adUnitLoggedXiv){this._adUnitLoggedXiv=!0;var t=this._adUnitAdPosition?{ap:this._adUnitAdPosition}:{};this._logExtensionEvent("xiv",this._adUnitCode,"AdUnit",this._viewId,"View",t)}},l.prototype._onOutView=function(e){if(this._isInView=!1,this._adUnitCode&&!this._adUnitLoggedXov){this._adUnitLoggedXov=!0;var t=this._adUnitAdPosition?{ap:this._adUnitAdPosition}:{};this._logExtensionEvent("xov",this._adUnitCode,"AdUnit",this._viewId,"View",t)}},l.prototype._onAdSystemInitialized=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._adProperties=null,this._commercialCurrentTime=0;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};this._lineItemLoggedXld=!1,this._lineItemLoggedXst=!1,this._creativeLoggedXit=!1,this._creativeLoggedXit_pi=-2,this._cuePointTuples={};var a=i;this._lineItemCode=t.lineItemCode,this._adUnitCode&&this._lineItemCode&&this._logExtensionEvent("xit",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",a)},l.prototype._onAdSystemLoadStart=function(e,t){this._adProperties=null==t?void 0:t.adProperties;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};this._adProperties&&(i.sdk=this._adProperties.sdk);var a=i;t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._adUnitCode&&this._lineItemCode&&this._logExtensionEvent("xls",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",a)},l.prototype._onAdSystemBlocked=function(e,t){void 0!==t&&void 0!==t.adProperties?this._adProperties=t.adProperties:this._adProperties=null;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};this._adProperties&&(i.sdk=this._adProperties.sdk),this._adUnitCode&&((null==t?void 0:t.lineItemCode)&&(this._lineItemCode=t.lineItemCode),this._logExtensionEvent("xlb",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),null===this._creativeId&&(this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._lineItemCode)),this._logExtensionEvent("xlb",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemCanPlay=function(e){var t,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(null==a?void 0:a.adProperties)?this._adProperties=a.adProperties:this._adProperties=null;var n={at:a.adType,ap:a.adPosition.toLowerCase(),ar:a.adRequestUrl};if(this._adProperties&&(n.adi=this._adProperties.adId,n.adt=this._adProperties.adTitle,n.ads=this._adProperties.adSystem,n.adl=this._adProperties.adLinear,n.add=this._adProperties.duration,n.sdk=this._adProperties.sdk,this._adProperties.adPodInfo&&(n.adp_ap=this._adProperties.adPodInfo.adPosition,n.adp_ib=!0===this._adProperties.adPodInfo.isBumper?"true":"false",n.adp_md=this._adProperties.adPodInfo.maxDuration,n.adp_pi=this._adProperties.adPodInfo.podIndex,n.adp_to=this._adProperties.adPodInfo.timeOffset,n.adp_ta=this._adProperties.adPodInfo.totalAds)),a.lineItemCode&&(this._lineItemCode=a.lineItemCode),this._adUnitCode&&this._lineItemCode){var s={at:a.adType,ap:a.adPosition.toLowerCase(),ar:a.adRequestUrl};this._adProperties&&(s.sdk=this._adProperties.sdk),this._lineItemLoggedXld||(this._lineItemLoggedXld=!0,this._logExtensionEvent("xld",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",s)),this._lineItemLoggedXst||(this._lineItemLoggedXst=!0,this._logExtensionEvent("xst",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",s))}if(n.vastid=(null===(t=this._adProperties)||void 0===t||null===(i=t.adWrapperAdIds)||void 0===i?void 0:i.length)>0?this._adProperties.adWrapperAdIds.slice(-1):"[unknown]",this._adProperties&&this._adProperties.adPodInfo){if(this._creativeLoggedXit_pi!==this._adProperties.adPodInfo.podIndex){this._creativeLoggedXit_pi=this._adProperties.adPodInfo.podIndex;for(var o=!0===this._adProperties.adPodInfo.isBumper?"true":"false",r=this._adProperties.adPodInfo.maxDuration,l=this._adProperties.adPodInfo.podIndex,d=this._adProperties.adPodInfo.timeOffset,u=this._adProperties.adPodInfo.totalAds,h=0;h<u;h++){var c=h+1,p=this._adProperties.adPodInfo.adPosition===c?n.vastid:"",_=this._constructCreativeId(c,d,this._lineItemCode);this._cuePointTuples["#"+d]||(this._cuePointTuples["#"+d]=[]),this._cuePointTuples["#"+d].push({adPosition:c,creativeId:_}),this._logExtensionEvent("xit",_,"Creative",this._viewId,"View",{at:n.at,ap:n.ap,ar:n.ar,auc:this._adUnitCode,lic:this._lineItemCode,vastid:p,adp_ap:c,adp_ib:o,adp_md:r,adp_pi:l,adp_to:d,adp_ta:u,sdk:this._adProperties.sdk})}}}else if(!this._creativeLoggedXit){this._creativeLoggedXit=!0;var m="false",f=0,y="postroll"===n.ap?-1:(n.ap,0),v="postroll"===n.ap?-1:0,g=1,b=1;"vms"===a.adType?this._creativeId=void 0!==a.vmsClipId?a.vmsClipId:"":this._creativeId=this._constructCreativeId(a.adType,a.adPosition,this._lineItemCode),this._logExtensionEvent("xit",this._creativeId,"Creative",this._viewId,"View",{at:n.at,ap:n.ap,ar:n.ar,auc:this._adUnitCode,lic:this._lineItemCode,vastid:n.vastid,adp_ap:b,adp_ib:m,adp_md:f,adp_pi:y,adp_to:v,adp_ta:g,sdk:this._adProperties.sdk})}if(n.auc=this._adUnitCode,n.lic=this._lineItemCode,this._adProperties&&this._adProperties.adPodInfo){var w=this._adProperties.adPodInfo.adPosition,k=this._adProperties.adPodInfo.timeOffset;if(this._cuePointTuples&&this._cuePointTuples["#"+k])for(var $ in this._cuePointTuples["#"+k]){var C=this._cuePointTuples["#"+k][$];C.adPosition===w&&(this._creativeId=C.creativeId)}}this._logExtensionEvent("xls",this._creativeId,"Creative",this._viewId,"View",n),this._logExtensionEvent("xld",this._creativeId,"Creative",this._viewId,"View",n)},l.prototype._onAdSystemStarted=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._adSystemStarted=!0;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};if(this._adProperties&&(i.adi=this._adProperties.adId,i.adt=this._adProperties.adTitle,i.ads=this._adProperties.adSystem,i.adl=this._adProperties.adLinear,i.add=this._adProperties.duration,i.sdk=this._adProperties.sdk),t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._adUnitCode&&this._lineItemCode){var a={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};this._adProperties&&(a.sdk=this._adProperties.sdk),this._lineItemLoggedXst||(this._lineItemLoggedXst=!0,this._logExtensionEvent("xst",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",a))}},l.prototype._onAdSystemClicked=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={at:t.adType,ap:t.adPosition.toLowerCase()};this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._logExtensionEvent("xcl",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),this._logExtensionEvent("xcl",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemSkipped=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._adSystemStarted=!1;var i={at:t.adType,ap:t.adPosition.toLowerCase()};this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._logExtensionEvent("xsk",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),this._logExtensionEvent("xsk",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemNoAd=function(e,t){var i,a;(null==t?void 0:t.adProperties)?this._adProperties=t.adProperties:this._adProperties=null,this._adSystemStarted=!1;var n={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};if(this._adProperties&&(n.why=this._adProperties.errorMessage?(this._adProperties.errorCode?"AdError "+this._adProperties.errorCode+": ":"")+this._adProperties.errorMessage:"No ad found",void 0!==this._adProperties.adId&&(n.adi=this._adProperties.adId),void 0!==this._adProperties.adTitle&&(n.adt=this._adProperties.adTitle),void 0!==this._adProperties.adSystem&&(n.ads=this._adProperties.adSystem),void 0!==this._adProperties.adLinear&&(n.adl=this._adProperties.adLinear),void 0!==this._adProperties.duration&&(n.add=this._adProperties.duration),void 0!==this._adProperties.sdk&&(n.sdk=this._adProperties.sdk)),t.timeout&&(n.why="timeout after "+t.timeout/1e3+"s"),this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._logExtensionEvent("xpf",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",n),n.auc=this._adUnitCode,n.lic=this._lineItemCode),n.vastid=(null===(i=this._adProperties)||void 0===i||null===(a=i.adWrapperAdIds)||void 0===a?void 0:a.length)>0?this._adProperties.adWrapperAdIds.slice(-1):"[unknown]",this._creativeId&&(this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._lineItemCode)),!(this._adProperties&&this._adProperties.adPodInfo||this._creativeLoggedXit)){this._creativeLoggedXit=!0;var s="postroll"===n.ap?-1:(n.ap,0),o="postroll"===n.ap?-1:0;this._logExtensionEvent("xit",this._creativeId,"Creative",this._viewId,"View",{at:n.at,ap:n.ap,ar:n.ar,auc:this._adUnitCode,lic:this._lineItemCode,vastid:n.vastid,adp_ap:1,adp_ib:"false",adp_md:0,adp_pi:s,adp_to:o,adp_ta:1,sdk:n.sdk})}this._logExtensionEvent("xpf",this._creativeId,"Creative",this._viewId,"View",n)},l.prototype._onAdSystemFailed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.adProperties?this._adProperties=t.adProperties:this._adProperties=null,this._adSystemStarted=!1;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};if(this._adProperties){var a,n;if(i.why=this._adProperties.errorMessage?(this._adProperties.errorCode?"AdError "+this._adProperties.errorCode+": ":"")+this._adProperties.errorMessage:"Ad system failed",void 0!==this._adProperties.adId&&(i.adi=this._adProperties.adId),void 0!==this._adProperties.adTitle&&(i.adt=this._adProperties.adTitle),void 0!==this._adProperties.adSystem&&(i.ads=this._adProperties.adSystem),void 0!==this._adProperties.adLinear&&(i.adl=this._adProperties.adLinear),void 0!==this._adProperties.duration&&(i.add=this._adProperties.duration),this._adUnitCode&&(t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._logExtensionEvent("xpf",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),i.vastid=(null===(a=this._adProperties)||void 0===a||null===(n=a.adWrapperAdIds)||void 0===n?void 0:n.length)>0?this._adProperties.adWrapperAdIds.slice(-1):"[unknown]",null===this._creativeId&&(this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._lineItemCode)),!(this._adProperties&&this._adProperties.adPodInfo||this._creativeLoggedXit)){this._creativeLoggedXit=!0;var s="false",o=0,r="postroll"===i.ap?-1:(i.ap,0),l="postroll"===i.ap?-1:0,d=1,u=1;this._logExtensionEvent("xit",this._creativeId,"Creative",this._viewId,"View",{at:i.at,ap:i.ap,ar:i.ar,auc:this._adUnitCode,lic:this._lineItemCode,vastid:i.vastid,adp_ap:u,adp_ib:s,adp_md:o,adp_pi:r,adp_to:l,adp_ta:d,sdk:i.sdk})}this._logExtensionEvent("xpf",this._creativeId,"Creative",this._viewId,"View",i)}},l.prototype._onAdSystemFinished=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._adSystemStarted=!1;var i={at:t.adType,ap:t.adPosition.toLowerCase()},a=i;t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._adUnitCode&&this._lineItemCode&&this._logExtensionEvent("xfn",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",a)},l.prototype._onAdSystemQuartile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=25*t.quartile,a={at:t.adType,ap:t.adPosition.toLowerCase(),pct:i};switch(a.auc=this._adUnitCode,a.lic=this._lineItemCode,parseInt(t.quartile)){case 0:this._logExtensionEvent("xst",this._creativeId,"Creative",this._viewId,"View",a);break;case 4:this._logExtensionEvent("xfn",this._creativeId,"Creative",this._viewId,"View",a);break;default:this._logExtensionEvent("xpg",this._creativeId,"Creative",this._viewId,"View",a)}},l.prototype._getCommercialTimeOffset=function(){return this._commercialCurrentTime||(this._commercialCurrentTime=0),Math.round(1e3*parseFloat(this._commercialCurrentTime))},l.prototype._onCommercialTimeUpdate=function(e,t){t&&!isNaN(parseFloat(t.currentTime))&&t.currentTime>=0&&(this._commercialCurrentTime=t.currentTime)},l.prototype._onCommercialPaused=function(e){this._commercialPaused=!0,this._logExtensionEvent("xpa",this._creativeId,"Creative",this._viewId,"View",{to:this._getCommercialTimeOffset()})},l.prototype._onCommercialPlaying=function(e){this._commercialPaused&&(this._commercialPaused=!1,this._logExtensionEvent("xrs",this._creativeId,"Creative",this._viewId,"View",{to:this._getCommercialTimeOffset()}))},l.prototype._onViewStarted=function(e,t){var i,a;this._determineReferrer();var n=(null===(i=this._playout)||void 0===i?void 0:i.name)||"default";if(!this._playerSessionStartLogged){this._playerSessionStartLogged=!0;var s={xu:this._referrer,xr:this._realReferrer,pt:n};this._playout&&(s.aup="true"===this._playout.autoPlay||!0===this._playout.autoPlay?"1":"0",s.aum="true"===this._playout.autoMute||!0===this._playout.autoMute?"1":"0",s.aul="true"===this._playout.autoLoop||!0===this._playout.autoLoop?"1":"0"),this._logExtensionEvent("xst",this._playerSessionId,"Session",null,null,s)}this._viewId&&this._onViewFinished(e),this._viewId=this._generateSessionId();var o={fs:this._fullScreen?"1":"0",xu:this._referrer,xr:this._realReferrer,pt:n};if(null==t?void 0:t.initiator){var r=t.initiator.split("/");r.length>0&&(o.iet=r[0]),r.length>1&&(o.iid=r[1]),this._prevViewId&&(o.pvid=this._prevViewId),this._prevClipId&&(o.pcid=this._prevClipId)}(null===(a=this._mediaClip)||void 0===a?void 0:a.usetype)&&(o.ut=this._mediaClip.usetype),this._logExtensionEvent("xst",this._viewId,"View",this._playerSessionId,"Session",o)},l.prototype._onViewFinished=function(e){this._timer&&(clearInterval(this._timer),this._timer=null),this._logExtensionEvent("xfn",this._viewId,"View",this._playerSessionId,"Session",{fs:this._fullScreen?"1":"0"}),this._prevViewId=this._viewId,this._viewId=null},l.prototype._onApiCalled=function(e,t){var i={};if("setMuted"===t.method)t.userAction?i.api=t.muted?"mute_ua":"unmute_ua":i.api=t.muted?"mute":"unmute";else i.api=t.method;(null!==this._viewId||this._playerSessionId)&&this._logExtensionEvent("xac",this._viewId,"View",this._playerSessionId,"Session",i),this._adSystemStarted&&null!==this._creativeId&&this._logExtensionEvent("xac",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._generateSessionId=function(){for(var e,t="",i=(null===(e=this._mediaClip)||void 0===e?void 0:e.id)?this._mediaClip.id:0,a=new Date,n=s.SHA1(this._uuid+"/"+i+"/"+a.getTime()),o=0;o<n.length/6&&!(o>=3);o++)for(var r=parseInt("0x"+n.substr(6*o,6),16),l=0;l<4;l++)t+=this._jk64(r%64),r/=64;return t},l.prototype._constructCreativeId=function(e,t,i){for(var a="",n=s.SHA1(e+"/"+t+"/"+i),o=0;o<n.length/6&&!(o>=3);o++)for(var r=parseInt("0x"+n.substr(6*o,6),16),l=0;l<4;l++)a+=this._jk64(r%64),r/=64;return a},l.prototype._jk64=function(e){return e<10?String.fromCharCode(e+48):e<36?String.fromCharCode(e+55):e<62?String.fromCharCode(e+61):e<64?String.fromCharCode(e-7):""},l.prototype._logMediaClipEvent=function(e,t){var i,a;if(this._mediaClip){var n={},s=new Date;if(n.vu=this._uuid,n.pm=this._playMode,n.sid=this._sessionId,n.ts=s.getTime()+this._tsOffset++,n.pp=(null===(i=this._playout)||void 0===i?void 0:i.publication)||"__root__",n.pt=(null===(a=this._playout)||void 0===a?void 0:a.name)||"default",n.pv="6.x",n.ev=e,n.id=this._mediaClip.id,n.ct=this._mediaClip.title,n.pd=this._mediaClip.publisheddate,n.vs="n/a",n.rs=screen.width+"x"+screen.height,n.fs=this._fullScreen?"1":"0",void 0!==this._mediaClip.mediatype&&(n.mt=this._mediaClip.mediatype),void 0!==this._mediaClip.mediatype_override&&(n.mt=this._mediaClip.mediatype_override),(void 0===this._mediaClip.length||isNaN(parseFloat(this._mediaClip.length))||parseFloat(this._mediaClip.length)<=0)&&"live"!==this._mediaClip.sourcetype&&(this._mediaClip.length=this._duration),void 0!==this._mediaClip.length&&(n.du=Math.round(1e3*this._mediaClip.length)),void 0!==this._mediaClip.sourcetype&&(n.sot=this._mediaClip.sourcetype),t)for(var o in t)void 0===n[o]&&(n[o]=t[o]);"ss"===e?this._logSsEventDebounced(n):"se"===e?this._logSeEventDebounced(n):"rs"===e?this._logRsEventDebounced(n):this._logEvent(n)}},l.prototype._logExtensionEvent=function(e,t,i,a,n,s){var o,r,l={},d=new Date;if(l.pm="Creative"===i||"AdUnit"===i||"LineItem"===i?this._commercialPlayMode:this._playMode,l.sid=this._sessionId,l.ts=d.getTime()+this._tsOffset++,l.pp=(null===(o=this._playout)||void 0===o?void 0:o.publication)||"__root__",l.ev=e,l.id=t,l.et=i,l.cid=(null===(r=this._mediaClip)||void 0===r?void 0:r.id)||"",void 0!==a&&a&&(l.pid=a),void 0!==n&&n&&(l.pet=n),this._context&&l.prid&&(l.ctx=this._context),void 0!==s&&s)for(var u in s)void 0===l[u]&&(l[u]=s[u]);this._logEvent(l)},l.prototype._logErrorEvent=function(e,t){var i=!1;this._mediaClip||(this._mediaClip={id:0,title:"<unknown>",date:{published:"<unknown>"},projectId:0},i=!0),this._logMediaClipEvent(e,t),i&&(this._mediaClip=null)},l.prototype._logEvent=function(e){this._outstreamMode&&"pg"===(null==e?void 0:e.ev)||(e.sn=e.sn||++this._serialNumber,this._enabled?this._logEventBundling&&this._logEventQueueProcessingLock?this._logEventQueue.push(e):this._logEvent_enabled(e):this._enabledQueue.push({properties:e}))},l.prototype._constructLogLineQuerystring=function(e){var t="";for(var i in e){0===t.length?t+="?":t+="&";var a=e[i];null===a&&(a=""),Array.isArray(a)&&(a=JSON.stringify(a)),t+=i+"="+encodeURIComponent(a)}return t=(t=(t=(t=(t=t.replace(/-/g,"%2d")).replace("~~00~~","%7E%7E00%7E%7E").replace(/ad/g,"~~00~~")).replace("~~01~~","%7E%7E01%7E%7E").replace(/aD/g,"~~01~~")).replace("~~02~~","%7E%7E02%7E%7E").replace(/Ad/g,"~~02~~")).replace("~~03~~","%7E%7E03%7E%7E").replace(/AD/g,"~~03~~")},l.prototype._addLogEventToQueue=function(e){var t=this._constructLogLineQuerystring(e);e.logQs=t,0===this._logEventQueue.length?(this._logEventQueue.push(e),null!==this._logEventQueueProcessingTimeout&&(clearTimeout(this._logEventQueueProcessingTimeout),this._logEventQueueProcessingTimeout=null),this._logEventQueueProcessingTimeout=setTimeout($parcel$interopDefault(i).proxy(this._processEventQueue,this),50)):this._logEventQueue.push(e)},l.prototype._processEventQueue=function(){for(null!==this._logEventQueueProcessingTimeout&&(clearTimeout(this._logEventQueueProcessingTimeout),this._logEventQueueProcessingTimeout=null),this._logEventQueueProcessingLock=!0;this._logEventQueue.length;){var e=this._logEventQueue.shift();if(this._logEventQueue.length){var t=this._logEventQueue[0],i={};for(var a in e)if("logQs"!==a){var n=Array.isArray(e[a])?e[a]:[e[a]];if(void 0!==t[a]){var s=n.slice().reverse().find((function(e){return"<-"!==e}));t[a]===s?i[a]="<-"===s?n.concat("\\<\\-"):n.concat("<-"):i[a]=n.concat(t[a])}else i[a]=n.concat(null)}for(var o in t)if(void 0===e[o]){var r=Array.isArray(t[o])?t[o]:[t[o]],l=Array.isArray(e.pp)?e.pp.length:1;i[o]=new Array(l).fill(null).concat(r)}if(i.logQs=this._constructLogLineQuerystring(i),(this._loggerUrl+i.logQs).length>1750){this._logEvent_enabled(e);continue}this._logEventQueue[0]=i}else this._logEvent_enabled(e)}this._logEventQueueProcessingLock=!1},l.prototype._logEvent_enabled=function(e){var t,i;if("function"!=typeof(null===(t=window.bbCustomStatistics)||void 0===t?void 0:t.send)||e.logQs||null===(i=window.bbCustomStatistics)||void 0===i||i.send(this._playerSessionId,e.ev,Object.assign({},e)),!this._logEventBundling||this._logEventQueueProcessingLock){var a=e.logQs||this._constructLogLineQuerystring(e),s=this._loggerUrl,o=new Image(1,1),r=0;o.onerror=function(t){n.default("[BlueBillywigStatisticsLogger] ERROR -> retrying sn "+e.sn),r<3&&(o.src=s+a,r++)},o.onload=function(){n.default("[BlueBillywigStatisticsLogger] retry -> SUCCESS sn "+e.sn)},o.src=s+a,"function"==typeof window.bbJsLog&&window.bbJsLog(a)}else this._addLogEventToQueue(e)}})),parcelRequire.register("3a2Cr",(function(e,t){function i(e,t,i){var a;return function(){var n=this,s=arguments,o=function(){a=null,i||e.apply(n,s)},r=i&&!a;clearTimeout(a),a=setTimeout(o,t),r&&e.apply(n,s)}}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("lGhIk",(function(e,t){
/*!
Math.uuid.js (v1.4)
http://www.broofa.com
mailto:robert@broofa.com

Copyright (c) 2010 Robert Kieffer
Dual licensed under the MIT and GPL licenses.
*/
var i;i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Math.uuid=function(e,t){var a,n,s=i,o=[];if(t=t||s.length,e)for(a=0;a<e;a++)o[a]=s[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",a=0;a<36;a++)o[a]||(n=0|16*Math.random(),o[a]=s[19==a?3&n|8:n]);return o.join("")},Math.uuidFast=function(){for(var e,t=i,a=new Array(36),n=0,s=0;s<36;s++)8==s||13==s||18==s||23==s?a[s]="-":14==s?a[s]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,a[s]=t[19==s?3&e|8:e]);return a.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}})),parcelRequire.register("k6Sjr",(function(e,t){$parcel$export(e.exports,"default",(function(){return r})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG"),n=parcelRequire("8aMPH"),s=parcelRequire("fZtuh"),o=parcelRequire("j7M4L"),r=function(e,t){this._opts=void 0!==t?t:null,this._eventNS="componentbroker",this._detections=null,this._bbcb_string=void 0!==o.bbcb&&null!=o.bbcb&&o.bbcb.length>0?"?bbcb="+o.bbcb:"",this._base=this._opts&&this._opts.playerPath?this._opts.playerPath+"components/":"//bb.bbvms.com/apps/player/html5/player/components/",this._loading=[],this._loadedPlayerComponents={},window.bluebillywig&&window.bluebillywig._internal&&window.bluebillywig._internal._brokerSubscriptions||(window.bluebillywig=window.bluebillywig||{},window.bluebillywig._internal=window.bluebillywig._internal||{},window.bluebillywig._internal._brokerSubscriptions={}),!window.location.protocol.match(/^http/)&&this._base.match(/^\/\//)&&(this._base="https:"+this._base),this.$element=null,void 0!==e&&null!=e&&(this.$element=e,a.default.getService(this._opts.playerAliasOrId).setInstance("ComponentBroker",this),this._detections=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections"),this.$element.on("bb_mediaclip_loaded."+this._eventNS,$parcel$interopDefault(i).proxy(this._onClipLoaded,this)))};r.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_mediaclip_loaded."+this._eventNS),a.default.getService(this._opts.playerAliasOrId).setInstance("ComponentBroker",null)),null},r.prototype.isLoading=function(e){return!!this._loading[e]},r.prototype.isPlayerComponentAvailable=function(e){return!!this._loadedPlayerComponents[e]},r.prototype.getLoadedPlayerComponent=function(e){return this._loadedPlayerComponents[e]},r.prototype.load=function(e,t){if(t=void 0===t||isNaN(parseFloat(t))?-1:parseFloat(t),e){n.default("[ComponentBroker] load component: ".concat(e));var i=e;if(e.indexOf(":")>=0){var a=e.split(":");i=a[0],e=a[1]}e!==i&&(this._loading[e]=!0),this._loading[i]?this._loading[i].push(e):(this._loading[i]||(this._loading[i]=[]),this._loading[i].push(e),["WebGL360Helper","Html5Sprite360Head","Html5HLSHelper","Html5HLSDashHelper"].includes(i)?this._load_dynamic_import(i,e):window.requirejs&&!e.match(/_IMA/)?this._load_requirejs(i,e,t):this._load_ajax(i,e,t))}else this.$element&&this.$element.triggerHandler("bb_component_failed",[{component:null}])},r.prototype._load_dynamic_import=function(e,t,i){var a,n=this,s=!1;i&&!isNaN(i)&&(a=setTimeout((function(){n._load_result(e,t,!1,"Dynamic import timed out"),s=!0}),1e3*i));var o;o=new Error("Package ".concat(e," not available for outstream player")),a&&(clearTimeout(a),a=null),console.warn(o),s||(n._load_result(e,t,!1,"Dynamic import failed"),s=!0)},r.prototype._load_requirejs=function(e,t,i){var a=e&&(e.match(/^\/\//)||e.match(/^\w+:\/\//))?e:this._base+e+"/"+e+".js"+this._bbcb_string;a.match(/^\/\//)&&(a="https:"+a);var n=this;try{window.requirejs([a],(function(i){"Html5HLSHead"===t&&void 0!==i&&(window.Hls=i),n._load_result(e,t,!0)}))}catch(i){this._load_result(e,t,!1)}},r.prototype._load_ajax=function(e,t,i){var a=this,n=e&&(e.match(/^\/\//)||e.match(/^\w+:\/\//))?e:this._base+e+"/"+e+".js"+this._bbcb_string;n.match(/^\/\//)&&(n="https:"+n);var o={async:!0};i>=0&&(o.timeout=1e3*i),s.fetchScript(n,o).then((function(i){a._load_result(e,t,!0)})).catch((function(i){a._load_result(e,t,!1,null==i?void 0:i.message)}))},r.prototype._load_result=function(e,t,i,a){n.default("[ComponentBroker] _load_result ("+e+") success: "+i+". textStatus: "+a);var s=i?"bb_component_loaded":"bb_component_failed";if(t!==e){for(var o=this._loading[e].length;o>=0;o--){if(t=this._loading[e][o],this._loading[t]){this._loading[t]=!1;var r={component:t};!i&&a&&(r.reason=a),this.$element&&this.$element.triggerHandler(s,[r]),this._handleSubscriptions(t,i)}this._loading[e].splice(o,1)}this._loading[e]=!1}else if(this._loading[t]){this._loading[t]=!1;r={component:t};!i&&a&&(r.reason=a),this.$element&&this.$element.triggerHandler(s,[r]),this._handleSubscriptions(t,i)}},r.prototype.subscribe=function(e,t){e&&t&&"string"==typeof e&&"function"==typeof t&&window.bluebillywig&&window.bluebillywig._internal&&window.bluebillywig._internal._brokerSubscriptions&&(window.bluebillywig._internal._brokerSubscriptions[e]=window.bluebillywig._internal._brokerSubscriptions[e]||[],window.bluebillywig._internal._brokerSubscriptions[e].push(t))},r.prototype._handleSubscriptions=function(e,t){if(window.bluebillywig&&window.bluebillywig._internal&&window.bluebillywig._internal._brokerSubscriptions&&window.bluebillywig._internal._brokerSubscriptions[e]){for(;window.bluebillywig._internal._brokerSubscriptions[e].length;)window.bluebillywig._internal._brokerSubscriptions[e].shift()(t);delete window.bluebillywig._internal._brokerSubscriptions[e]}},r.prototype._onClipLoaded=function(e,t){if(void 0!==t.clipData){var i=t.clipData;"true"!==(null==i?void 0:i.cubemapVideo)&&"360video"!==(null==i?void 0:i.subtype)&&"true"!==(null==i?void 0:i.isThreeSixtyVideo)&&!0!==(null==i?void 0:i.isThreeSixtyVideo)||(this._detections.hasWebGL?this._detections.canPlayInline?this.isPlayerComponentAvailable("WebGL360Helper")||this.load("WebGL360Helper:Html5VideoGL360Head",15):this.isPlayerComponentAvailable("WebGL360Helper")||this.load("WebGL360Helper:Html5SpriteGL360Head",15):this.isPlayerComponentAvailable("Html5Sprite360Head")||this.load("Html5Sprite360Head",15))}}})),parcelRequire.register("j7M4L",(function(e,t){e.exports=JSON.parse('{"playerBuildDate":"2022-10-31 12:41:08","bbcb":"1667220068900"}')})),parcelRequire.register("6qLXF",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG"),n=parcelRequire("j7M4L"),s=function(e,t){if(this.$element=null,this._opts=t||{},void 0!==e&&null!=e){if(this.$element=e,this._$contextLayer=null,this._playerWidth,this._playerHeight,this._detections=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections"),this._buildTime="unknown","number"==typeof parseInt(n.bbcb)&&!isNaN(parseInt(n.bbcb))){var s=new Date(1e3*parseInt(n.bbcb));this._buildTime=s.toString()}this._opts.playerPath&&this._opts.playerPath.match(/\.dev\./)?this._buildTime=this._buildTime+" (dev)":this._opts.playerPath&&this._opts.playerPath.match(/\.acc\./)&&(this._buildTime=this._buildTime+" (acc)"),this._detections.ieVersion>0&&this._detections.ieVersion<8?this._bbicon='<div style="width: 14px; height: 15px; margin-left: -20px; margin-right: 5px; display:inline;"><img style="border: none; vertical-align: middle;" width="14" height="15" src="'+this._opts.playerPath+'bb.png" /></div>':this._bbicon='<div style="width: 14px; height: 15px; margin-left: -20px; margin-right: 5px; display:inline;"><svg style="width: 14px; height: 15px; vertical-align: -20%;" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="14px" height="15px" viewBox="0 0 381.946 434.02" enable-background="new 0 0 381.946 434.02" xml:space="preserve"><path fill="#6DABDD" d="M330.789,279.364c0-32.41-14.492-58.056-51.207-58.056H219.31v166.717h60.272\tc36.715,0,51.207-25.688,51.207-58.064V279.364z"></path><path fill="#ABA095" d="M268.648,0H219.31v175.482h66.307c65.606,0,96.33,39.705,96.33,103.881V113.212 C381.946,50.684,331.222,0,268.648,0z"></path><path fill="#7E6B56" d="M0,320.807C0,383.295,50.727,434.02,113.299,434.02h54.85V0H0V320.807z"></path><path fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M330.789,279.453c0-32.371-14.492-58.06-51.207-58.06H219.31\tV388.11h60.272c36.715,0,51.207-25.688,51.207-58.061V279.453z M285.616,433.935H168.149V0.087h51.161v175.482h66.307 c65.606,0,96.33,39.705,96.33,103.884v50.597C381.946,394.229,351.223,433.935,285.616,433.935z"></path></svg></div>',this._animSpeed=200,this.api=a.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this._$buildDisplay=$parcel$interopDefault(i)(document.createElement("div")).css({position:"absolute",width:"10px",height:"10px",bottom:"0px",left:"0px"}).attr("title",this._buildTime),this._$contextMenu=$parcel$interopDefault(i)(document.createElement("div")).addClass("bb-contextmenu bb-hidden").attr("dir","ltr").append(this._$buildDisplay),a.default.getService(this._opts.playerAliasOrId).setInstance("ContextMenu",this),this._init()}};s.prototype.disable=function(){this._enabled=!1},s.prototype.enable=function(){this._enabled=!0},s.prototype._init=function(){this._onResized(),this._build(),this._enabled=!0,this._$contextLayer=this.$element.find(".bb-context-layer"),this._$contextLayer.append(this._$contextMenu),this.$element.on("bb_playout_changed.bbcontext",$parcel$interopDefault(i).proxy(this._onPlayoutChanged,this)),this.$element.on("bb_resized.bbcontext",$parcel$interopDefault(i).proxy(this._onResized,this)),"true"!=this._opts.playoutData.disableContextMenuNavigate&&this.$element.on("mousedown.bbcontext contextmenu.bbcontext",$parcel$interopDefault(i).proxy(this._onContextMenu,this))},s.prototype.exit=function(){return this.$element.off("bb_playout_changed.bbcontext"),this.$element.off("bb_resized.bbcontext"),this.$element.off("mousedown.bbcontext contextmenu.bbcontext"),a.default.getService(this._opts.playerAliasOrId).setInstance("ContextMenu",null),null},s.prototype._build=function(){if(this._$contextMenu.css({position:"absolute",background:"#fff","z-index":"100",display:"none",padding:"6px 0","-webkit-box-shadow":"0 2px 3px rgba(0,0,0,0.5)","-moz-box-shadow":"0 2px 3px rgba(0,0,0,0.5)","box-shadow":"0 2px 3px rgba(0,0,0,0.5)",cursor:"default","font-size":"12px","font-family":"arial, helvetica, sans-serif","border-radius":"2px","line-height":"normal","pointer-events":"all !important","font-weight":"normal"}),this._$contextMenu.empty(),this._opts.playoutData&&void 0!==this._opts.playoutData.playerSignature&&null!=this._opts.playoutData.playerSignature&&""!=this._opts.playoutData.playerSignature){if(void 0!==this._opts.playoutData.playerSignatureLink&&null!=this._opts.playoutData.playerSignatureLink&&""!=this._opts.playoutData.playerSignatureLink)var e={href:this._opts.playoutData.playerSignatureLink,target:"_blank",rel:"noopener"};else e={};this._$contextMenu.bb_appendSanitized(this._button(e,this._opts.playoutData.playerSignature))}else this._$contextMenu.bb_appendSanitized(this._blueBillywigButton())},s.prototype._onPlayoutChanged=function(e,t){this._build(),t&&void 0!==t.playoutData&&void 0!==t.playoutData.disableContextMenuNavigate&&("true"!=t.playoutData.disableContextMenuNavigate?this.$element.on("mousedown.bbcontext contextmenu.bbcontext",$parcel$interopDefault(i).proxy(this._onContextMenu,this)):this.$element.off("mousedown.bbcontext contextmenu.bbcontext"))},s.prototype._button=function(e,t){var a=$parcel$interopDefault(i)(document.createElement("a"));return a.attr(e),a.html(t),a.css({display:"block",position:"relative",color:"#333",cursor:"pointer","pointer-events":"all","list-style":"none",margin:"0",padding:"4px 3em 4px 28px","white-space":"nowrap","font-family":"helvetica, arial, sans-serif","text-decoration":"none",background:"none",border:"none","text-align":"left","font-weight":"normal"}),a.hover((function(){$parcel$interopDefault(i)(this).css("background-color","#E6E6E6")}),(function(){$parcel$interopDefault(i)(this).css("background","none")})),a},s.prototype._blueBillywigButton=function(){var e={href:"https://www.bluebillywig.com/?utm_medium=referral&utm_campaign=player-traffic",target:"_blank"};this._opts&&this._opts.publicationData&&this._opts.publicationData.name?e.href+="&pp="+encodeURIComponent(this._opts.publicationData.name)+"&utm_source="+encodeURIComponent(this._opts.publicationData.name):e.href+="&utm_source=bbvms";var t=this._bbicon+"Blue Billywig Video Player";return this._button(e,t)},s.prototype._seperator=function(){return $parcel$interopDefault(i)(document.createElement("div")).addClass("bb-context-seperator").css({height:"1px","background-color":"#DDD",width:"100%",margin:"3px 0"})},s.prototype._onResized=function(){this._playerWidth=this.$element.width(),this._playerHeight=this.$element.height()},s.prototype._onMouseDown=function(e){if(this._enabled&&3==e.which)return this._onContextMenu(e),e.preventDefault(),!1},s.prototype._onContextMenu=function(e){if(this._enabled&&("contextmenu"==e.type||3==e.which)){if(this._$contextMenu.outerWidth()>this._playerHeight||this._$contextMenu.outerHeight()>this._playerWidth)return this.$element.trigger("bb_contextmenu"),!1;var t=e.pageX-this.$element.offset().left,a=e.pageY-this.$element.offset().top,n="initial",s="initial",o="initial",r="initial";return t+this._$contextMenu.outerWidth()>this.$element.width()?s="1px":n=t+"px",a+this._$contextMenu.outerHeight()>this.$element.height()?r="1px":o=a+"px",this._$contextMenu.css({left:n,right:s,top:o,bottom:r}).show(),$parcel$interopDefault(i)(document).on("mousedown.bbcontext contextmenu.bbcontext",$parcel$interopDefault(i).proxy(this._onClick,this)),this.$element.find("object").length>0&&this.$element.find("object").parent().on("mousedown.bbcontext",$parcel$interopDefault(i).proxy(this._onClick,this)),this.$element.trigger("bb_contextmenu"),!1}},s.prototype._onClick=function(e){if(this._enabled&&(3!=e.which||this._$contextMenu.has(e.target).length<=0)&&($parcel$interopDefault(i)(document).off("mousedown.bbcontext contextmenu.bbcontext"),this.$element.find("object").length>0&&this.$element.find("object").parent().off("mousedown.bbcontext"),this._$contextMenu.is(":visible")))return this._$contextMenu.fadeOut(this._animSpeed),e.preventDefault(),!1}})),parcelRequire.register("d8PpQ",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("8aMPH"),n=parcelRequire("k0pvG"),s=function(e,t){this.$element=e,this._opts=t,n.default.getService(this._opts.playerAliasOrId).setInstance("Detections",this),this._playout=t.playoutData,this._pubAvoidPreload=this._opts&&this._opts.publicationData&&"true"===this._opts.publicationData.avoidPreload,this._pubAvoidAndroidNativeHLS=this._opts&&this._opts.publicationData&&"true"===this._opts.publicationData.avoidAndroidNativeHLS,this._eventNS="Detections"+String(Math.random()).replace(".",""),this._forceCanAutoPlay=this._playout&&("true"==this._playout.forceCanAutoPlay||!0===this._playout.forceCanAutoPlay)||t&&t.requestParams&&"true"==t.requestParams.forceCanAutoPlay,this._testVid=document.createElement("video"),this._ua=navigator.userAgent.toLowerCase(),this.measuredBandwidth=null,this._html5Elements=["source","track","audio","video"],this._asyncDetections=["iPadVersionCheck","canAutoPlayAdvancedCheck","getUserBandwidth"],void 0!==this.$element&&this.init()};s.prototype._checkEventsReady=function(e){"canAutoPlayAdvancedCheck"==e&&(null!==this.canAutoPlayAdvanced&&(this.canAutoPlay=this.canAutoPlayAdvanced),null!==this.canAutoPlayMutedAdvanced&&(this.canAutoPlayMuted=this.canAutoPlayMutedAdvanced),this.$element&&this.$element.triggerHandler("bb_autoplay_check_ready",[{autoPlay:this.canAutoPlayAdvanced,canAutoPlay:this.canAutoPlay,canAutoPlayMuted:this.canAutoPlayMuted}])),this._asyncDetections=$parcel$interopDefault(i).grep(this._asyncDetections,(function(t){return t!=e})),0==this._asyncDetections.length&&this.$element&&this.$element.triggerHandler("bb_detections_ready")},s.prototype.init=function(){var e,t,n,s,o,r,l=this;l.canAutoPlayAdvanced=null,l.canAutoPlayMutedAdvanced=null,l.objectFit="objectFit"in l._testVid.style,l.compute_hasWebGL=function(){try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){return!1}},Object.defineProperty?Object.defineProperty(this,"hasWebGL",{get:$parcel$interopDefault(i).proxy((function(){return void 0===this._hasWebGL&&(this._hasWebGL=this.compute_hasWebGL()),this._hasWebGL}),this)}):this.hasWebGL=this.compute_hasWebGL(),l.getUserBandwidth=function(e){if(l._opts&&l._opts.clipData&&"mainroll"==l._opts.clipData.mediatype)return!1;if(!l._opts||!l._opts.publicationData)return!1;var t=function(e){l.measuredBandwidth=e,l.$element&&l.$element.triggerHandler("bb_bandwidth_measured",[{measuredBandwidth:l.measuredBandwidth}]),l._checkEventsReady("getUserBandwidth")};setTimeout((function(){var e,i,a,n,s=function(){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e)return 1024*e.downlink}()||function(){var e=window.performance;if(e&&PerformanceEntry.prototype.hasOwnProperty("duration")&&PerformanceResourceTiming.prototype.hasOwnProperty("transferSize"))return(e.getEntriesByType("resource")||[]).reduce((function(e,t){return t.transferSize>0&&t.duration>0?Math.max(e,Math.round(t.transferSize/1024*8/(t.duration/1e3))):e}),0)}();s?t(s):(e=t,i=l._opts.publicationData.baseurl+"/player/common/bwcheck.jpg",a=new Date,(n=new Image).addEventListener("load",(function(){var t=31309/(((new Date).getTime()-a.getTime())/1e3)/1024*8;t*=6;var i=Math.round(t);e(i)})),n.src=i+"?"+a.getTime())}),10)}(),l.isHttps="https:"==location.protocol,l.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}}(),l.accessToParentIframe=function(){var e=!1;try{window.top.document.location;e=window.self.document!==window.top.document}catch(t){e=!1}return e}(),l.isUIWebView=!!navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i),l.isWindowsPhone=null!==l._ua.match(/Windows Phone/i),l.isSafari=!!navigator.userAgent.match(/Safari/i)&&!l.isUIWebView,l.isiPhone=null!==l._ua.match(/iphone/i),l.isiPad=null!==l._ua.match(/ipad/i)||"iPad"===navigator.platform||navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),l.isAndroid=null!==l._ua.match(/android/i),l.isFacebookApp=null!==l._ua.match(/fban/i)||null!==l._ua.match(/fbav/i),l.isInstagram=null!==l._ua.match(/Instagram/i),l.isMobileDevice=(t=!1,e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t||l.isiPad||l.isiPhone||l.isAndroid||l.isWindowsPhone),l.iPadVersionCheck=l.isiPad&&l.isiPad&&void 0!==window.ondevicemotion&&-1==navigator.userAgent.toLowerCase().indexOf("firefox/")&&-1==navigator.userAgent.toLowerCase().indexOf("android")?void(window.ondevicemotion=function(e){return e.acceleration?(window.bb_iPadVersion=2===window.devicePixelRatio?3:2,l.iPadVersion=2===window.devicePixelRatio?3:2):(window.bb_iPadVersion=1,l.iPadVersion=1),window.ondevicemotion=null,l._checkEventsReady("iPadVersionCheck"),!0}):(l.iPadVersion=-1,l._checkEventsReady("iPadVersionCheck"),!0),l.iOSVersion=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||-1,l.isiOS=-1!=l.iOSVersion,l.isAndroidNative=l._ua.indexOf("mozilla/5.0")>-1&&l._ua.indexOf("android ")>-1&&l._ua.indexOf("applewebkit")>-1&&!(l._ua.indexOf("chrome")>-1),l.isBustedAndroid=null!==l._ua.match(/android 2\.[12]/),l.isBustedNativeHTTPS="https:"===location.protocol&&(null!==l._ua.match(/android [12]\./)||null!==l._ua.match(/macintosh.* version.* safari/)),l.androidVersion=!!(n=l._ua.match(/android\s([0-9\.]*)/i))&&n[1],l.chromeVersion=!!(s=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(s[2],10),l.canControlVolume=function(){if(l.isAndroidNative&&parseFloat(l.androidVersion)<4.1)return!1;try{var e=l._testVid.volume;return l._testVid.volume=e/2+l._testVid.volume==.2?.2:.1,e!==l._testVid.volume}catch(e){return!1}}(),l.canControlMuted=function(){if(l.isAndroidNative&&parseFloat(l.androidVersion)<4.1)return!1;try{var e=l._testVid.muted;return l._testVid.muted=!l._testVid.muted,e!==l._testVid.muted}catch(e){return!1}}(),l.isLinkedInAppIOS=function(){var e=!(null===l._ua.match(/linkedin/gi)),t=!(null===document.referrer.match(/\/\/[^\/]*linkedin/gi));try{window.sessionStorage&&(t?window.sessionStorage.setItem("bb_isLinkedIn_ref","true"):t="true"===window.sessionStorage.getItem("bb_isLinkedIn_ref"))}catch(e){}return(e||t&&l.isUIWebView)&&l.isiOS}(),l.canPlayInline=!(l.isiPhone&&l.iOSVersion<10||!1!==l.androidVersion&&parseFloat(l.androidVersion)<3||l.isWindowsPhone),l.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,l.deviceResolution=null,l.deviceResolution={width:window.screen.width,height:window.screen.height},l.deviceResolutionString=window.screen.width+"x"+window.screen.height,l.deviceOrientation=window.innerHeight>window.innerWidth?"landscape":"portrait",$parcel$interopDefault(i)(window).on("orientationchange",(function(){l.deviceOrientation=window.innerHeight>window.innerWidth?"landscape":"portrait",l.deviceResolution={width:window.screen.width,height:window.screen.height}})),l.isIE=-1!=navigator.appName.toLowerCase().indexOf("microsoft")||null!==navigator.userAgent.toLowerCase().match(/trident/gi),l.ieVersion=function(){var e=-1,t=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName)null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1));else if("Netscape"==navigator.appName){null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),l.edgeVersion=(o=navigator.userAgent,(r=o.indexOf("Edge/"))>0?(l.isEdge=!0,parseInt(o.substring(r+5,o.indexOf(".",r)),10)):(l.isEdge=!1,-1)),l.supportsHTML5IMA=!(l.isIE&&l.ieVersion<11),l.isChrome=null!==l._ua.match(/chrome/gi)&&!l.isEdge,l.isChrome&&(l.isSafari=!1),l.isFirefox=null!==l._ua.match(/firefox/gi)&&!l.isEdge,l.isWebkit=null!==l._ua.match(/webkit/gi)&&!l.isEdge,l.isChromeiOS=l.isWebkit&&null!==l._ua.match(/crios/gi),l.isGecko=null!==l._ua.match(/gecko/gi)&&!l.isWebkit&&!l.isIE&&!l.isEdge,l.isOpera=null!==l._ua.match(/opera/gi)&&!l.isEdge,l.hasTouch="ontouchstart"in window,l.isTouchDevice=l.isAndroid||l.isiOS||l.isWindowsPhone||l.isMobileDevice,l.avoidPreload=this._pubAvoidPreload&&(this.isSafari||this.isChrome),l.canAutoPlayTestComplete=!1,l.canAutoPlayAdvancedTest=function(){l.canAutoPlayAdvanced=null;try{l._media=l.canPlayInline?document.createElement("video"):document.createElement("audio"),l._media.setAttribute("playsinline",""),l._media.setAttribute("webkit-playsinline",""),l._media.setAttribute("aria-hidden","true");var e=l._media.canPlayType("audio/ogg")?"data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=":"data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";l._media.setAttribute("src",e)}catch(e){console.debug(e.message)}var t=!1;$parcel$interopDefault(i)(l._media).on("playing",(function(e){t=null===l.canAutoPlayAdvanced||null===l.canAutoPlayMutedAdvanced,null===l.canAutoPlayAdvanced&&(l.canAutoPlayAdvanced=!!l._media&&!l._media.muted),null===l.canAutoPlayMutedAdvanced&&(l.canAutoPlayMutedAdvanced=!0),delete l._media,t&&l._checkEventsReady("canAutoPlayAdvancedCheck")}));var a=window.setTimeout((function(){t=null===l.canAutoPlayAdvanced||null===l.canAutoPlayMutedAdvanced,null===l.canAutoPlayAdvanced&&(l.canAutoPlayAdvanced=l.canAutoPlay),null===l.canAutoPlayMutedAdvanced&&(l.canAutoPlayMutedAdvanced=l.canAutoPlayMuted),delete l._media,t&&l._checkEventsReady("canAutoPlayAdvancedCheck")}),960);try{var n=l._media.play();void 0!==n&&n.then?($parcel$interopDefault(i)(l._media).off("playing"),a&&window.clearTimeout(a),n.then((function(){t=null===l.canAutoPlayAdvanced||null===l.canAutoPlayMutedAdvanced,null===l.canAutoPlayAdvanced&&(l.canAutoPlayAdvanced=!0),null===l.canAutoPlayMutedAdvanced&&(l.canAutoPlayMutedAdvanced=!0),delete l._media,t&&l._checkEventsReady("canAutoPlayAdvancedCheck")})).catch((function(e){if(null===l.canAutoPlayAdvanced&&(l.canAutoPlayAdvanced=!1),l._media){l._media.muted=!0;var i=l._media.play();void 0!==i&&i.then&&i.then((function(){t=null===l.canAutoPlayAdvanced||null===l.canAutoPlayMutedAdvanced,null===l.canAutoPlayMutedAdvanced&&(l.canAutoPlayMutedAdvanced=!0),delete l._media,t&&l._checkEventsReady("canAutoPlayAdvancedCheck")})).catch((function(e){t=null===l.canAutoPlayAdvanced||null===l.canAutoPlayMutedAdvanced,null===l.canAutoPlayMutedAdvanced&&(l.canAutoPlayMutedAdvanced=!1),delete l._media,t&&l._checkEventsReady("canAutoPlayAdvancedCheck")}))}}))):l._media&&l._media.paused&&(l._media.muted=!0,l._media.play())}catch(e){console.debug(e.message)}},l.canAutoPlayAdvancedTest_mobile=function(){l.canAutoPlayAdvanced=null;try{l._media=l.canPlayInline?document.createElement("video"):document.createElement("audio"),l._media.setAttribute("playsinline",""),l._media.setAttribute("webkit-playsinline",""),l._media.setAttribute("aria-hidden","true");var e=l._media.canPlayType("audio/ogg")?"data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=":"data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";l._media.setAttribute("src",e)}catch(e){a.default("ERR placing media"+e.message)}var t=!1;$parcel$interopDefault(i)(l._media).on("playing",(function(e){t=null===l.canAutoPlayAdvanced||null===l.canAutoPlayMutedAdvanced,null===l.canAutoPlayAdvanced&&(l.canAutoPlayAdvanced=!!l._media&&!l._media.muted),null===l.canAutoPlayMutedAdvanced&&(l.canAutoPlayMutedAdvanced=!0),delete l._media,t&&l._checkEventsReady("canAutoPlayAdvancedCheck")}));var n=window.setTimeout((function(){t=null===l.canAutoPlayAdvanced||null===l.canAutoPlayMutedAdvanced,null===l.canAutoPlayAdvanced&&(l.canAutoPlayAdvanced=l.canAutoPlay),null===l.canAutoPlayMutedAdvanced&&(l.canAutoPlayMutedAdvanced=l.canAutoPlayMuted),delete l._media,t&&l._checkEventsReady("canAutoPlayAdvancedCheck")}),960);try{if(null===l.canAutoPlayAdvanced&&(l.canAutoPlayAdvanced=!1),l._media){l._media.muted=!0;var s=l._media.play();void 0!==s&&s.then&&($parcel$interopDefault(i)(l._media).off("playing"),n&&window.clearTimeout(n),s.then((function(){t=null===l.canAutoPlayAdvanced||null===l.canAutoPlayMutedAdvanced,null===l.canAutoPlayMutedAdvanced&&(l.canAutoPlayMutedAdvanced=!0),delete l._media,t&&l._checkEventsReady("canAutoPlayAdvancedCheck")})).catch((function(e){t=null===l.canAutoPlayAdvanced||null===l.canAutoPlayMutedAdvanced,null===l.canAutoPlayMutedAdvanced&&(l.canAutoPlayMutedAdvanced=!1),delete l._media,t&&l._checkEventsReady("canAutoPlayAdvancedCheck")})))}}catch(e){console.debug(e.message)}},l._forceCanAutoPlay?l._playout&&(l._playout.autoPlayAdvancedNotChecked="true"):l.isMobileDevice?(l.canAutoPlayAdvancedTest_mobile(),$parcel$interopDefault(i)(document).one("click."+l._eventNS,(function(){l.canAutoPlayAdvanced||l.canAutoPlayAdvancedTest_mobile()}))):(l.canAutoPlayAdvancedTest(),$parcel$interopDefault(i)(document).one("click."+l._eventNS,(function(){l.canAutoPlayAdvanced||l.canAutoPlayAdvancedTest()}))),l.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(var d=0;d<l._html5Elements.length;d++)l.v=document.createElement(l._html5Elements[d]);l.supportsMediaTag=void 0!==l.v.canPlayType||l.isBustedAndroid;try{l.v.canPlayType("video/mp4")}catch(e){l.supportsMediaTag=!1}l.canPlayType=function(e,t){var i=l.v.canPlayType(e);return l.supportsMediaTag&&("probably"==i||!t&&"maybe"==i)},l.canPlayHLS=(!l._pubAvoidAndroidNativeHLS||!l.isAndroid)&&(l.canPlayType("application/x-mpegURL",l.isAndroid)||l.canPlayType("vnd.apple.mpegURL",l.isAndroid)||l.canPlayType("application/vnd.apple.mpegURL",l.isAndroid)||l.isAndroid&&"4.4"==l.androidVersion.substring(0,3)&&l.isChrome),l.canPlayMPD=!!l.canPlayType("application/dash+xml"),l.canPlayHLSJS=!(void 0===window.MediaSource||!window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')),l.compute_canAutoPlay=function(){return!!l._forceCanAutoPlay||(null!==l.canAutoPlayAdvanced?l.canAutoPlayAdvanced:!!l.supportsMediaTag&&(!l.isiOS&&!l.isAndroid))},Object.defineProperty?Object.defineProperty(this,"canAutoPlay",{get:$parcel$interopDefault(i).proxy((function(){return this.compute_canAutoPlay()}),this)}):this.canAutoPlay=this.compute_canAutoPlay(),l.compute_canAutoPlayMuted=function(){return!!l._forceCanAutoPlay||(null!==l.canAutoPlayMutedAdvanced?l.canAutoPlayMutedAdvanced:!!l.supportsMediaTag&&(!(l.isiOS&&l.iOSVersion<10)&&!(l.isAndroid&&l.chromeVersion<53)))},Object.defineProperty?Object.defineProperty(this,"canAutoPlayMuted",{get:$parcel$interopDefault(i).proxy((function(){return this.compute_canAutoPlayMuted()}),this)}):this.canAutoPlayMuted=this.compute_canAutoPlayMuted(),l.hasSemiNativeFullScreen=void 0!==l.v.webkitEnterFullscreen,l.hasNativeFullscreen=void 0!==l.v.requestFullscreen,l.hasWebkitNativeFullScreen=void 0!==l.v.webkitRequestFullScreen,l.hasMozNativeFullScreen=void 0!==l.v.mozRequestFullScreen,l.hasMsNativeFullScreen=void 0!==l.v.msRequestFullscreen,l.hasTrueNativeFullScreen=l.hasWebkitNativeFullScreen||l.hasMozNativeFullScreen||l.hasMsNativeFullScreen,l.nativeFullScreenEnabled=l.hasTrueNativeFullScreen,l.hasMozNativeFullScreen?l.nativeFullScreenEnabled=document.mozFullScreenEnabled:l.hasMsNativeFullScreen&&(l.nativeFullScreenEnabled=document.msFullscreenEnabled),l.isChrome&&(l.hasSemiNativeFullScreen=!1),l.fullScreenEventName="",l.hasWebkitNativeFullScreen?l.fullScreenEventName="webkitfullscreenchange":l.hasMozNativeFullScreen?l.fullScreenEventName="mozfullscreenchange":l.hasMsNativeFullScreen&&(l.fullScreenEventName="MSFullscreenChange"),l.isFullScreen=function(){return l.mozRequestFullScreen?document.mozFullScreen:l.webkitRequestFullScreen?document.webkitIsFullScreen:l.hasMsNativeFullScreen?null!==document.msFullscreenElement:void 0},l.requestFullScreen=function(e){l.hasWebkitNativeFullScreen?e.webkitRequestFullScreen():l.hasMozNativeFullScreen?e.mozRequestFullScreen():l.hasMsNativeFullScreen&&e.msRequestFullscreen()},l.cancelFullScreen=function(){l.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():l.hasMozNativeFullScreen?document.mozCancelFullScreen():l.hasMsNativeFullScreen&&document.msExitFullscreen()},l.hasSemiNativeFullScreen&&l._ua.match(/mac os x 10_5/i)&&(l.hasNativeFullScreen=!1,l.hasSemiNativeFullScreen=!1),l.testAll=function(e){var t="";for(var i in l)-1=="$element init _asyncDetections _testVid _ua _html5Elements testAll requestFullScreen v fullScreenEventName cancelFullScreen _checkEventsReady".indexOf(i)&&(t+=e?"<strong>"+i+"</strong>":i,t+=" = ",t+="function"==typeof l[i]?l[i]():l[i],t+=";",e&&(t+="<br />"),t+="\n");return t},l.canAirPlay=!!window.WebKitPlaybackTargetAvailabilityEvent,l.compute_canChromeCast=function(){return!!(window.chrome&&window.chrome.cast&&window.chrome.cast.isAvailable)},Object.defineProperty?Object.defineProperty(this,"canChromeCast",{get:$parcel$interopDefault(i).proxy((function(){return this.compute_canChromeCast()}),this)}):this.canChromeCast=this.compute_canChromeCast(),l.compute_isSDKPlayer=function(){return!(!window.iOSAppPlayer&&!window.bbAppBridge)},Object.defineProperty?Object.defineProperty(this,"isSDKPlayer",{get:$parcel$interopDefault(i).proxy((function(){return l.compute_isSDKPlayer()}),this)}):this.isSDKPlayer=l.compute_isSDKPlayer()},s.prototype.exit=function(){return n.default.getService(this._opts.playerAliasOrId).setInstance("Detections",null),null}})),parcelRequire.register("1yFk1",(function(module,exports){$parcel$export(module.exports,"default",(function(){return Executer})),parcelRequire("boCbw");var $6gF5a=parcelRequire("6gF5a"),$k0pvG=parcelRequire("k0pvG"),Executer=function(e,t){var i;this.$element=e,this._opts=t,this._playout=t.playoutData,this._outstreamRefresh="true"===(null===(i=this._playout)||void 0===i?void 0:i.outstreamRefresh),this._init()};Executer.prototype._init=function(){var e,t,i,a,n;$k0pvG.default.getService(this._opts.playerAliasOrId).setInstance("Executer",this),this._api=$k0pvG.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this.$iaWrapper=null===(e=this.$element)||void 0===e?void 0:e.closest(".bb_iawr"),(null===(t=this._opts)||void 0===t||null===(i=t.publicationData)||void 0===i?void 0:i.customCode)&&this.execute(this._opts.publicationData.customCode);var s=this._api;if((null===(a=this._playout)||void 0===a?void 0:a.customCode)&&this.execute(this._playout.customCode),(null===(n=this._playout)||void 0===n?void 0:n.passbackCode)&&s){var o,r=this;if(this._adPlayed=!1,s.on("adstarted",(function(){r._adPlayed=!0})),this._outstreamRefresh)null===(o=this.$element)||void 0===o||o.on("bb_msas_outstream_refresh_finished",(function(){r.execute(r._playout.passbackCode)}));else{var l=this,d=0;s.on("statechange",(function(){"idle"===s.getState()&&(1===d&&l.execute(l._playout.passbackCode),d++)}))}}},Executer.prototype.exit=function(){return this._api&&(this._api.off("statechange"),this._api.off("adstarted")),$k0pvG.default.getService(this._opts.playerAliasOrId).setInstance("Executer",null),null},Executer.prototype.execute=function(code){var _this=this,$=$parcel$interopDefault($6gF5a),$$api=this._api,$$adPlayed=!!this._adPlayed,$$wrapper=this.$iaWrapper;try{return eval(code)}catch(e){console.debug("Notice: there was an error executing the javascript by Executer.prototype.execute. Provided JavaScript was: "+code),console.debug(e)}}})),parcelRequire.register("4reBS",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG"),n=parcelRequire("8aMPH"),s=parcelRequire("1UzQU")(),o=function(e,t){var n,s,r,l,d,u=this;this._opts=t,this._resizeCallback=function(){u._checkResizedElement()},this._loggerUrl=window.location.protocol+"//stats.bluebillywig.com",this._ready=!1,this._firstPlay=!0,this._useStickyMode=!1,this._isSticky=!1,this._forceClosed=!1,this._animatingPosition=!1,this._inittedStickyness=!1,this._started=!1,this._autoPaused=!1,this._ended=!1,this._recentFullscreenChange=!1,this._showFloatingCloseButton=!1,this._outstreamRefresh="true"===(null==t||null===(n=t.playoutData)||void 0===n?void 0:n.outstreamRefresh),this._isAMP=window.location.hash&&window.location.hash.indexOf("amp=1")>-1,e&&(this.$element=e),this.opts=t,this._assets=null,this._watchingElementSize=!1,this._playout_inView=null,this._playout_outView=null,this._inviewMargin=50,this._inviewMarginWidth=50,this._isInView=null,this._inView_forced=null,this._isHover=!1,this._playing=!1,this._hasScrolled=!1,this._fullscreen=!1,this._fullScreenMismatch=!1,this._documentVisible="hidden"!==document.visibleState,this._playerWidth=null,this._playerHeight=null,this._windowWidth=null,this._windowHeight=null,this._scrollX=null,this._scrollY=null,this._lastScrollY=null,this._scrollDirection=null,this._playerRemounted=!1,this._videoOffset=null,this._aspectRatio=null,this._aspectRatio_override=null,this._aspectRatio_media=null,this._playState=null,this._extraHeight=0,this._eventNS=String(Math.random()).replace("0.","bb"),this._actionFromIA=!1,this._muteFromIA=!1,this._noIAvolumeChange=!0,this._playoutData=null,void 0!==t.playoutData&&null!=t.playoutData&&(this._playoutData=t.playoutData),this._playout_youTubeSkinInMainPhase=!1,this._forceInviewActions=!1,this._playoutData&&"true"==this._playoutData.forceInview&&(this._forceInviewActions=!0);var h=null===(s=this._playoutData)||void 0===s?void 0:s.width,c=null===(r=this._playoutData)||void 0===r?void 0:r.height;this._autoHeight="true"===(null===(l=this._playoutData)||void 0===l?void 0:l.autoHeight);var p="true"===(null===(d=this._playoutData)||void 0===d?void 0:d.responsiveSizing);if((p||void 0===c)&&(this._autoHeight=!0),this._percentagePlayer=(null==h?void 0:h.indexOf("%"))>-1&&(null==c?void 0:c.indexOf("%"))>-1&&!this._autoHeight&&!p,this._exited=!1,this._userChangedVolume=!1,this._userChangedPlayState=!1,this._mouseOverInterval=null,this._iaOrigZIndex=null,this._elOrigZIndex=null,this._deltaHeight_0=null,this._deltaHeight_1=null,null!=this._playoutData&&(a.default.getService(this._opts.playerAliasOrId).setInstance("Interactivity",this),this.$interactivityWrapper=$parcel$interopDefault(i)(this.$element.data("iawrapper")),this._playout_inView=this._playoutData.interactivity_inView,this._playout_outView=this._playoutData.interactivity_outView,this._playout_youTubeSkinInMainPhase="true"===this._playoutData.youTubeSkinInMainPhase,"true"==this._playoutData.playInOverlay&&(this.$interactivityWrapper.wrap('<div class="bb_modal"></div>'),this.$modalWindow=this.$interactivityWrapper.parent()),this._playoutData&&"always"==this._playoutData.clearBothOption&&this.$interactivityWrapper.css({clear:"both"}),this._playoutData&&this._playoutData.maxWidth&&""!=this._playoutData.maxWidth&&this.$element.css({maxWidth:Number(this._playoutData.maxWidth)+"px"}),this._detections=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections"),this._isTouchDevice=this._detections.isTouchDevice,this._allowInviewActions=!0,this._detections.canPlayInline||(this._allowInviewActions=!1),this._detections.isiPhone&&this._detections.iOSVersion<10&&(this._allowInviewActions=!1),this._detections.canControlVolume||this._muted&&this._detections.canAutoPlayMuted||"true"!=this._playoutData.nsiNoAutoPlay||(this._allowInviewActions=!1),this._forceInviewActions&&(this._allowInviewActions=!0),this._selectedPlaymode=t.selectedPlaymode,this._flagChangeBound=!1,this._playerIsReady=this.$element.attr("data-isready"),this._animationSpeed=t.touchDevice||-1!=window.navigator.userAgent.indexOf("MSIE 7")||-1!=window.navigator.userAgent.indexOf("MSIE 6")?1:600,this._animationSpeedS=this._animationSpeed/1e3,this._startCollapsed="true"===this._playoutData.startCollapsed||!0===this._playoutData.startCollapsed,this._showOnlyWhenPrerollAvailable="true"===this._playoutData.showOnlyWhenPrerollAvailable||!0===this._playoutData.showOnlyWhenPrerollAvailable,this._showOnlyWhenPrerollAvailable&&(this._startCollapsed=!0),this._startCollapsed&&this._startCollapsedInit(),"true"===this._playoutData.waitForPageReady||this._allowInviewActions&&!$parcel$interopDefault(i).isReady&&this._playout_inView&&"none"!==this._playout_inView?$parcel$interopDefault(i)((function(){u._playerIsReady=u.$element.attr("data-isready"),"true"==u._playerIsReady?u._onPlayerReady():u.$element.on("ready.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onPlayerReady,u))})):(this._playerIsReady=this.$element.attr("data-isready"),"true"===this._playerIsReady?this._onPlayerReady():this.$element.on("ready.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onPlayerReady,this))),this._onAdClickedBound=this._onAdClicked.bind(this),this.$element.on("bb_playout_changed.interactivity",$parcel$interopDefault(i).proxy(this._onPlayoutChanged,this)),this.$element.on("bb_mediaclip_loaded.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onLoadedClipData,this)),this.$element.on("bb_adsystem_loaded.interactivity",$parcel$interopDefault(i).proxy(this._onAdLoaded,this)),this.$element.on("bb_media_finished.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onPlayerEnded,this)),this.$element.on("bb_msas_main_finished.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onMsasFinished,this)),this.$element.on("bb_adsystem_skipped.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onAdSkipped,this)),this.$element.on("bb_fullscreen_change.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onFullScreenChange,this)),this.$element.on("bb_assets_changed.interactivity",$parcel$interopDefault(i).proxy(this._onAssetsChanged,this)),this.$element.on("bb_media_volume_change.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onVolumeChange,this)),this.$element.on("bb_ad_size_changed.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onAdSizeChanged,this)),this.$element.on("bb_autoplay_check_ready.interactivity",$parcel$interopDefault(i).proxy(this._onAutoPlayCheckReady,this)),this.$element.on("bb_program_autopause.interactivity",$parcel$interopDefault(i).proxy(this._onAutoPause,this)),this.$element.on("bb_resized.interactivity",$parcel$interopDefault(i).proxy(this._onResized,this)),this.$element.on("bb_adsystem_clicked bb_as_ad_clicked",this._onAdClickedBound),"true"==this._playoutData.waitForApproval&&this.$element.on("bb_flagchange.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onFlagChange,this)),this.$element.on("play.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onPlayerPlay,this)),this.$element.on("pause.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onPlayerPaused,this)),this.$element.on("playing.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onPlayerPlaying,this)),this.$element.on("loadedmetadata.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onLoadedMetadata,this)),this.$element.on("phasechange.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onPhaseChange,this)),this._outstreamRefresh)){var _=this,m=function(){_.$element.off("bb_msas_outstream_refresh_finished",m),_._collapseInteractivityWrapper()};this.$element.on("bb_msas_outstream_refresh_finished",m)}};o.prototype.setInView=function(e){this._inView_forced=null!==e?!!e:null,this._setInView(this._inView_forced)},o.prototype._setInView=function(e){var t=this._isInView;this._isInView=null!==e?!!e:this._inview()||this._alwaysFloat,this._isInView!==t&&(this._isInView?(n.default("[Interactivity] _setInView going to trigger INVIEW"),this.$element&&this.$element.triggerHandler("bb_inview")):(n.default("[Interactivity] _setInView going to trigger OUTVIEW"),this.$element&&this.$element.triggerHandler("bb_outview")))},o.prototype._play=function(){if(this._playDeltaTime=(new Date).getTime(),this._detections&&this._detections.isiOS&&this._playDeltaTimePrev&&this._playDeltaTime-this._playDeltaTimePrev<500)return!1;this._playDeltaTimePrev=this._playDeltaTime,this._actionFromIA=!0,this.intendedResume=!0,this._userChangedPlayState||!this._allowInviewActions||!this.api||this._ended||this._justForceClosed||this._autoPaused||this.api.play()},o.prototype._pause=function(){this.intendedResume=!1,this._actionFromIA=!0,!this._userChangedPlayState&&this._allowInviewActions&&this.api&&this.api.pause()},o.prototype._setMuted=function(e){var t;this._muteFromIA=!0,!this._userChangedVolume&&this._allowInviewActions&&(null===(t=this.api)||void 0===t||t.setMuted(e,!1))},o.prototype._onPlayoutChanged=function(e,t){if(t&&void 0!==t.playoutData&&(this.api&&(this._playoutData=this.api.getPlayoutData()),void 0!==t.playoutData.forceInview&&(this._forceInviewActions="true"==t.playoutData.forceInview),void 0!==t.playoutData.interactivity_inView&&(this._debugMode=void 0!==n.debugMode&&n.debugMode&&"none"!=t.playoutData.interactivity_inView),void 0!==t.playoutData.interactivity_inView&&(this._playout_inView=t.playoutData.interactivity_inView),void 0!==t.playoutData.interactivity_outView&&(this._playout_outView=t.playoutData.interactivity_outView),void 0!==t.playoutData.interactivity_onClick&&(t.playoutData.interactivity_onClick.indexOf("open link")>-1?this.$element.css("cursor","pointer"):this.$element.css("cursor","auto")),void 0!==t.playoutData.stickyMode&&(this._stickyMode=t.playoutData.stickyMode,this._stickyMode?(this._useStickyMode=!0,this._checkStickyness()):(this._checkStickyness(!0),this._useStickyMode=!1)),void 0!==t.playoutData.youTubeSkinInMainPhase&&(this._playout_youTubeSkinInMainPhase="true"===t.playoutData.youTubeSkinInMainPhase),void 0!==t.playoutData.aspectRatio&&this._getAspectRatio(!0),void 0!==t.playoutData.width||void 0!==t.playoutData.height||void 0!==t.playoutData.responsiveSizing||void 0!==t.playoutData.autoHeight)){var i,a,s,o,r=void 0!==t.playoutData.width?t.playoutData.width:null===(i=this._playoutData)||void 0===i?void 0:i.width,l=void 0!==t.playoutData.height?t.playoutData.height:null===(a=this._playoutData)||void 0===a?void 0:a.height;this._autoHeight=void 0!==t.playoutData.autoHeight?"true"===t.playoutData.autoHeight:"true"===(null===(s=this._playoutData)||void 0===s?void 0:s.autoHeight);var d=void 0!==t.playoutData.responsiveSizing?"true"===t.playoutData.responsiveSizing:"true"===(null===(o=this._playoutData)||void 0===o?void 0:o.responsiveSizing);(d||void 0===l)&&(this._autoHeight=!0),this._percentagePlayer=(null==r?void 0:r.indexOf("%"))>-1&&(null==l?void 0:l.indexOf("%"))>-1&&!this._autoHeight&&!d,this._autoHeight||(null==r?void 0:r.indexOf("%"))>-1||(null==l?void 0:l.indexOf("%"))>-1?this._watchElementSize():this._unwatchElementSize()}},o.prototype._onVolumeChange=function(){this.api&&(this._muted=this.api.getMuted()),this._muteFromIA||this._noIAvolumeChange||this._muted==this._previousMutedValue||(this._userChangedVolume=!0),this._noIAvolumeChange||(this._muteFromIA=!1),this.api&&(this._previousMutedValue=this._muted)},o.prototype._onFlagChange=function(e,t){var a;"true"!==(null===(a=this._playoutData)||void 0===a?void 0:a.waitForApproval)||!t||!0!==t.approval&&"true"!=t.approval||(this._onPlayerReady(),$parcel$interopDefault(i)(window).scroll(),this._logInviewEvent("fap")),t&&void 0!==t.canPlayInline&&(t.canPlayInline?this._allowInviewActions=!0:this._allowInviewActions=!1)},o.prototype._onPlayerReady=function(){var e,t=this,s=t.opts;if(t.api=a.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),t._executer=a.default.getService(this._opts.playerAliasOrId).getInstance("Executer"),this.api&&this.api.getFlag&&this.api.getFlag("canPlayInline")&&(this._allowInviewActions=!0),s&&s.playoutData&&s.playoutData.stickyMode&&(this._stickyMode=s.playoutData.stickyMode),this._alwaysFloat=s&&s.playoutData&&"true"===s.playoutData.alwaysFloat&&this._stickyMode&&"none"!==this._stickyMode,this._autoPlay=s&&s.playoutData&&"true"===s.playoutData.autoPlay,this._showFloatingCloseButton=s&&s.playoutData&&"true"===s.playoutData.showFloatingCloseButton,this._debugMode=void 0!==n.debugMode&&n.debugMode&&void 0!==this._playout_inView&&"none"!=this._playout_inView,"true"===(null===(e=this._playoutData)||void 0===e?void 0:e.waitForApproval)&&!0!==this.$element.data().flags.approval&&"true"!=this.$element.data().flags.approval);else if(!this._ready){var r,l,d,u,h,c,p=this;if(this._ready=!0,this.$element&&this.$element.css({margin:"0 auto"}),this._debugMode){(this._$playerLog=$parcel$interopDefault(i)('<div id="bb-debug-log" style="font-family:monospace;font-size:12px;padding:20px 10px;border:1px solid #fff;display:block;position:fixed;bottom:0;right:0;width:500px;height:300px;overflow:auto;background:rgba(0,0,0,0.7);color:#8f8;"><div style="position:absolute;top:0;left:0;font-weight:bold;cursor:pointer;padding:3px;">Blue Billywig outstream debug</div><div style="position:absolute;top:0;right:0;font-weight:bold;cursor:pointer;" class="bb-close-debug-infopanel">[ X ]</div><div class="bb-debug-msg"></div></div>')).find(".bb-close-debug-infopanel").click((function(){$parcel$interopDefault(i)("#bb-debug-log").hide()}));var _=this._$playerDebugInfo=$parcel$interopDefault(i)('<div id="bb-debug-infopanel" style="font-family:monospace;font-size:12px;padding:20px 10px;border:1px solid #fff;display:block;position:fixed;bottom:0;right:0;width:500px;height:300px;overflow:auto;background:rgba(0,0,0,0.7);color:#8f8;margin-top:5px;"><div style="position:absolute;top:0;left:0;font-weight:bold;cursor:pointer;padding:3px;">Blue Billywig outstream debug</div><div style="position:absolute;top:0;right:0;font-weight:bold;cursor:pointer;" class="bb-close-debug-infopanel">[ X ]</div><div class="bb-debug-msg"></div></div>');if(_.find(".bb-close-debug-infopanel").click((function(){$parcel$interopDefault(i)("#bb-debug-infopanel").hide()})),s&&s.adServicesData&&s.adServicesData.length&&s.adServicesData[0]){var m=s.adServicesData[0];_.append('<div style="border:1px solid #8f8;padding:5px;color:#7be"><strong>ad unit: </strong>: '+m.title+"</div>");if($parcel$interopDefault(i).each(["code","positionType"],(function(e,t){_.append("<div><strong>"+t+"</strong>: "+m[t]+"</div>")})),m.lineitems&&m.lineitems.length){var f=$parcel$interopDefault(i)('<div style="border:1px solid #8f8;padding:5px;font-weight:bold;color:#7be">Line items</div>'),y=["title","code","timeout","vast_url"];$parcel$interopDefault(i).each(m.lineitems,(function(e,t){var a=$parcel$interopDefault(i)('<div style="border:1px solid #8f8;color:#8f8;margin-top:5px;"></div>');$parcel$interopDefault(i).each(y,(function(e,i){"vast_url"==i?a.append("<div><strong>"+i+'</strong>: <a style="color:#fff" href="https://support.bluebillywig.com/vast-inspector#!/vast_type=vast_url/position=preroll/rendering=html5/vast_url='+encodeURIComponent(t[i])+'" title="Click to open in VAST inspector" target="_blank" rel="noopener">'+t[i]+"</a></div>"):a.append("<div><strong>"+i+"</strong>: "+t[i]+"</div>")})),f.append(a)})),_.append(f)}}if(this._playoutData){var v=this._playoutData;_.append('<div style="border:1px solid #8f8;padding:5px;color:#7be;margin-top:5px;"><strong>playout: </strong>: '+v.label+"</div>");if($parcel$interopDefault(i).each(["allowBBIma","placementOption","placementDOMSelector","preloadMainroll","publication","hasAdunits","iframeBreakout","inviewMargin","commercials","enableHtml5VPAID"],(function(e,t){_.append("<div><strong>"+t+"</strong>: "+v[t]+"</div>")})),"default"!=v.placementOption){var g=$parcel$interopDefault(i)(v.placementDOMSelector);g.length?g.css({border:"1px dashed #00f"}):_.find(".bb-debug-msg").append('<span style="color:#f77;">Outstream ad unit did not get placed, placementDOMSelector "pd["placementDOMSelector"]" did not match anything</span>')}}if(s){_.append('<div style="border:1px solid #8f8;padding:5px;color:#8f8;margin-top:5px;"><strong>opts props </strong>'),$parcel$interopDefault(i).each(["contentId","userDeviceType","scriptLink"],(function(e,t){_.append("<div><strong>"+t+"</strong>: "+s[t]+"</div>")}))}this._$playerSizeDebug=$parcel$interopDefault(i)('<div style="border:1px dashed #f00;display:block;position:fixed;pointer-events:none !important;"></div>'),this._$playerInviewDebug=$parcel$interopDefault(i)('<div style="border:1px dashed #0f0;display:block;position:fixed;pointer-events:none !important;"></div>'),$parcel$interopDefault(i)("body").append(this._$playerDebugInfo),$parcel$interopDefault(i)("body").append(this._$playerSizeDebug),$parcel$interopDefault(i)("body").append(this._$playerInviewDebug)}$parcel$interopDefault(i)(window).on("resize."+this._eventNS,$parcel$interopDefault(i).proxy(o.prototype._onWindowResize,this)),void 0!==window.onorientationchange&&this._detections.isiOS?window.onorientationchange=$parcel$interopDefault(i).proxy(o.prototype._onOrientationChange,this):$parcel$interopDefault(i)(window).on("orientationchange."+this._eventNS,$parcel$interopDefault(i).proxy(o.prototype._onOrientationChange,this)),this.$element.on("bb_inview.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onInView,this)),this.$element.on("bb_outview.interactivity",$parcel$interopDefault(i).proxy(o.prototype._onOutView,this)),this._isTouchDevice||(this.$element.mouseenter($parcel$interopDefault(i).proxy(o.prototype._onMouseIn,this)),this.$element.mouseleave($parcel$interopDefault(i).proxy(o.prototype._onMouseOut,this))),$parcel$interopDefault(i)(window).on("blur."+this._eventNS,$parcel$interopDefault(i).proxy(this._onWindowBlur,this)),this.$element.click($parcel$interopDefault(i).proxy(o.prototype._onClick,this)),(null===(r=this._playoutData)||void 0===r||null===(l=r.interactivity_onClick)||void 0===l?void 0:l.indexOf("open link"))>-1&&this.$element.css("cursor","pointer"),$parcel$interopDefault(i)(window).on("scroll."+this._eventNS,$parcel$interopDefault(i).proxy(o.prototype._onScroll,this)),$parcel$interopDefault(i)(window).on("touchstart."+this._eventNS+" touchend."+this._eventNS,$parcel$interopDefault(i).proxy(o.prototype._onTouchEnd,this)),document.addEventListener("visibilitychange",(function(){p._documentVisible="hidden"!==document.visibilityState,p._setInView(null)})),this._isAMP&&($parcel$interopDefault(i)(window).on("message."+this._eventNS,$parcel$interopDefault(i).proxy(this._onMessage,this)),window.parent.postMessage({sentinel:"amp",type:"send-intersections"},"*")),this._updateWindowSize(),this._updatePlayerSize();var b=null===(d=this._playoutData)||void 0===d?void 0:d.width,w=null===(u=this._playoutData)||void 0===u?void 0:u.height;this._autoHeight="true"===(null===(h=this._playoutData)||void 0===h?void 0:h.autoHeight),("true"===(null===(c=this._playoutData)||void 0===c?void 0:c.responsiveSizing)||void 0===w)&&(this._autoHeight=!0),(this._autoHeight||(null==b?void 0:b.indexOf("%"))>-1||(null==w?void 0:w.indexOf("%"))>-1)&&this._watchElementSize(),this._setInviewMargin(),(void 0!==this._playoutData.textAbovePlayer&&""!=this._playoutData.textAbovePlayer||void 0!==this._playoutData.textCommercialSkip&&""!=this._playoutData.textCommercialSkip)&&(this.$wrapperAbovePlayer=$parcel$interopDefault(i)('<span class="bb-above" style="color:#000;font-size:10px;font-family:arial;text-align:center;z-index:99999;width:100%;display:block;height:14px;line-height:14px;"></span>'),this.$interactivityWrapper.prepend(this.$wrapperAbovePlayer)),void 0!==this._playoutData.textAbovePlayer&&""!=this._playoutData.textAbovePlayer&&(this.$wrapperAbovePlayer.bb_appendSanitized(this._playoutData.textAbovePlayer),this._extraHeight=this.$wrapperAbovePlayer.height()),void 0!==this._playoutData.textCommercialSkip&&""!=this._playoutData.textCommercialSkip&&(this.$closeButton=$parcel$interopDefault(i)('<span class="bb-above-closebutton" style="cursor:pointer;position:relative;text-decoration:underline;right:3px;float:right;">'+this._playoutData.textCommercialSkip+"</span>").click((function(){t._pause(),t._closeOverlay(),t._collapseInteractivityWrapper()})).bb_sanitize(),this.$wrapperAbovePlayer.prepend(this.$closeButton)),this._startCollapsed?this._showState="collapsed":(this._extraHeight&&this.$interactivityWrapper.height(this.$element.height()+this._extraHeight),this._showState="expanded"),$parcel$interopDefault(i)(window).trigger("resize"),this._onScroll({type:"fake"}),this._alwaysFloat&&this._onInView(),setTimeout((function(){t.intendedResume&&t._play()}),1),this.$element.find(".fluid-width-video-wrapper").css({padding:0,width:"100%",height:"100%"}).removeClass("fluid-width-video-wrapper")}},o.prototype._onAutoPlayCheckReady=function(e,t){"stickTop"!=this._stickyMode||this._autoPlay||(n.default("[Interactivity] _onAutoPlayCheckReady stickTop & not autoPlay"),(t&&t.canAutoPlay||t&&t.canAutoPlayMuted&&this._muted||t&&t.canAutoPlayMuted&&this._playoutData&&"true"===this._playoutData.autoMute)&&this._play())},o.prototype._onAutoPause=function(e,t){this._autoPaused=!0},o.prototype._onResized=function(e){this._checkFullScreenMismatch()},o.prototype.exit=function(){return this._exited=!0,this.$element.off("ready.interactivity"),this.$element.off("bb_inview.interactivity"),this.$element.off("bb_outview.interactivity"),this.$element.off("bb_playout_changed.interactivity"),this.$element.off("bb_mediaclip_loaded.interactivity"),this.$element.off("bb_adsystem_loaded.interactivity"),this.$element.off("bb_media_finished.interactivity"),this.$element.off("bb_msas_main_finished.interactivity"),this.$element.off("bb_flagchange.interactivity"),this.$element.off("bb_assets_changed.interactivity"),this.$element.off("bb_autoplay_check_ready.interactivity"),this.$element.off("bb_program_autopause.interactivity"),this.$element.off("bb_resized.interactivity"),this.$element.off("bb_adsystem_clicked bb_as_ad_clicked",this._onAdClickedBound),this.$element.off("pause.interactivity"),this.$element.off("play.interactivity"),this.$element.off("playing.interactivity"),this.$element.off("loadedmetadata.interactivity"),this.$element.off("phasechange.interactivity"),$parcel$interopDefault(i)(window).off("resize."+this._eventNS),void 0!==window.onorientationchange&&this._detections.isiOS&&(window.onorientationchange=null),$parcel$interopDefault(i)(window).off("onorientationchange."+this._eventNS),$parcel$interopDefault(i)(window).off("scroll."+this._eventNS),$parcel$interopDefault(i)(window).off("touchstart."+this._eventNS),$parcel$interopDefault(i)(window).off("touchend."+this._eventNS),$parcel$interopDefault(i)(window).off("message."+this._eventNS),$parcel$interopDefault(i)(window).off("blur."+this._eventNS),a.default.getService(this._opts.playerAliasOrId).setInstance("Interactivity",null),null},o.prototype.getShowState=function(){return this._showState},o.prototype._onFullScreenChange=function(e,t){t&&void 0!==t.fullscreen&&(this._fullscreen=!!t.fullscreen),this._checkFullScreenMismatch(),this._deltaHeight_0=null,this._deltaHeight_1=null,this._autoHeight&&this._updateHeight(),this._animatingPosition=!0,this._recentFullscreenChange=!0;var i=this;setTimeout((function(){var e;i._animatingPosition=!1,!(null===(e=i.api)||void 0===e?void 0:e.isFullscreen())&&i._isSticky&&i._forceClose(!1),i._recentFullscreenChange=!1}),1)},o.prototype._checkResizedElement=function(){if(this._expanding||"collapsed"!=this._showState&&(this.$element.width()!=this._width||this.$element.height()!=this._height||this.$interactivityWrapper.width()!=this._iaWidth||this.$interactivityWrapper.height()!=this._iaHeight)){var e=this.$element.width()!=this._width||this.$interactivityWrapper.width()!=this._iaWidth||this._percentagePlayer&&this.$interactivityWrapper.height()!=this._iaHeight;this._width=this.$element.width(),this._height=this.$element.height(),(e||this._expanding)&&(this._onPlayerResize(),this._autoHeight?this._updateHeight():this.$element.triggerHandler("bb_resized"))}this._width=this.$element.width(),this._height=this.$element.height()},o.prototype.increaseWatchRate=function(e){return!0},o.prototype.decreaseWatchRate=function(){return!0},o.prototype._watchElementSize=function(){this._checkResizedElement(),this._watchingElementSize||(this._watchingElementSize=!0,s.listenTo(this.$element.get(0),this._resizeCallback))},o.prototype._unwatchElementSize=function(){this._watchingElementSize&&(this._watchingElementSize=!1,s.removeListener(this.$element.get(0),this._resizeCallback))},o.prototype._startCollapsedInit=function(){this._showState="collapsed",this.$interactivityWrapper.css({height:"0",opacity:"0.01"}),this.$wrapperAbovePlayer&&this.$wrapperAbovePlayer.hide()},o.prototype._onPlayerPaused=function(){this._actionFromIA||(this._userChangedPlayState=!0),this._actionFromIA=!1,this._playing=!1},o.prototype._onPlayerPlay=function(){this._actionFromIA||"collapsed"==this._showState||(this._userChangedPlayState=!0),this._actionFromIA=!1},o.prototype._onAdLoaded=function(){this._showOnlyWhenPrerollAvailable&&"collapsed"===this._showState&&(this.$element.triggerHandler("bb_resized"),this._startCollapsed&&("true"===this._playoutData.playInOverlay?this._playInOverlay():this._expandInteractivityWrapper(!0)))},o.prototype._onPlayerPlaying=function(){this._ended=!1,this._$playerSizeDebug&&(this._$playerSizeDebug.hide(),this._$playerInviewDebug.hide()),this._playoutData&&"whilePlaying"==this._playoutData.clearBothOption&&this.$interactivityWrapper.css({clear:"both"}),this.opts&&this.opts.clipData&&"mainroll"==this.opts.clipData.mediatype&&this.$interactivityWrapper.css("marginBottom","10px"),this._playing=!0,this._started=!0,this._autoPaused=!1,"collapsed"==this._showState&&(this.$element.triggerHandler("bb_resized"),this._startCollapsed&&("true"==this._playoutData.playInOverlay?this._playInOverlay():this._expandInteractivityWrapper())),this._firstPlay&&(this._firstPlay=!1,this._initStickyness()),this._alwaysFloat&&this._checkStickyness()},o.prototype._onAdSkipped=function(){this._userChangedPlayState=!0,!this._outstreamRefresh&&this._isSticky&&this._forceClose()},o.prototype._onAdClicked=function(){this._userChangedPlayState=!1,this._actionFromIA=!0},o.prototype._onMsasFinished=function(){var e,t;this.opts&&this.opts.clipData&&"mainroll"==this.opts.clipData.mediatype&&(this._ended=!0),this.$element.css("cursor","auto"),this._outstreamRefresh||"true"!=this._playoutData.hidePlayerOnEnd||"mainroll"!==(null===(e=this.opts)||void 0===e||null===(t=e.clipData)||void 0===t?void 0:t.mediatype)||this._collapseInteractivityWrapper()},o.prototype._onPlayerEnded=function(){var e,t;this._ended=!0,this.$element.css("cursor","auto"),this._outstreamRefresh||"true"!==this._playoutData.hidePlayerOnEnd||"mainroll"!==(null===(e=this.opts)||void 0===e||null===(t=e.clipData)||void 0===t?void 0:t.mediatype)||this._collapseInteractivityWrapper()},o.prototype._onPlayerError=function(){"true"==this._playoutData.hidePlayerOnEnd&&this._collapseInteractivityWrapper()},o.prototype._playInOverlay=function(){var e=this;this._expandInteractivityWrapper(!0),this.$modalWindow.click((function(t){t.target!=e.$modalWindow[0]&&t.target!=e.$interactivityWrapper[0]||e._closeOverlay()})),this._oldBodyHeight=$parcel$interopDefault(i)("body")[0].style.height,$parcel$interopDefault(i)("body")[0].style.height="100%",this.$interactivityWrapper.css({opacity:"1",color:"#ffffff",top:"50%","-webkit-transform":"translateY(-50%)","-ms-transform":"translateY(-50%)",transform:"translateY(-50%)",margin:"0 auto"}),this.$wrapperAbovePlayer&&this.$wrapperAbovePlayer.css({color:"#ffffff",width:this.$element[0].style.width,position:"relative",margin:"0 auto"}),this.$element&&this.$element.css({margin:"0 auto"}),this.$modalWindow.css({backgroundColor:"rgba(0, 0, 0, 0.6)",color:"#ffffff",opacity:"1",position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:"999999",cursor:"pointer"}),this._showState="expanded"},o.prototype._closeOverlay=function(){this._pause(),this._oldBodyHeight?$parcel$interopDefault(i)("body")[0].style.height=this._oldBodyHeight:$parcel$interopDefault(i)("body")[0].style.height="",this.$modalWindow&&this.$modalWindow.hide(),this.exit()},o.prototype._expandInteractivityWrapper=function(e){this.$wrapperAbovePlayer&&(this.$wrapperAbovePlayer.show(),this._extraHeight=this.$wrapperAbovePlayer.outerHeight()),$parcel$interopDefault(i)(window).scroll();var t=this;this._expanding=!0,this._updatePlayerSize();var a=this._autoHeight?Math.round(this._playerWidth/this._getAspectRatio()):t.$element.height(),n=this._extraHeight+a;this.$element.height(a),this.$element&&this.$element.css({margin:"0 auto"}),this.$interactivityWrapper.css({opacity:"1"}),e||this._alwaysFloat?t._animationSpeed=0:(this._animationSpeedS=this._animationSpeed/1e3,this.$interactivityWrapper.css({"-webkit-transition":"height "+this._animationSpeedS+"s","-moz-transition":"height "+this._animationSpeedS+"s",transition:"height "+this._animationSpeedS+"s"})),this.$interactivityWrapper.css({height:n+"px"}),setTimeout((function(){t._expanding=!1,t._showState="expanded",t.$element.triggerHandler("bb_resized"),t.$element.triggerHandler("bb_expanded"),$parcel$interopDefault(i)(window).triggerHandler("resize."+t._eventNS),t.$interactivityWrapper.css({"-webkit-transition":"","-moz-transition":"",transition:""}),t._useStickyMode&&t._checkStickyness()}),this._animationSpeed+1),t._useStickyMode&&t._checkStickyness()},o.prototype._collapseInteractivityWrapper=function(){var e=this;e.opts;this.$modalWindow&&this.$modalWindow.hide(),this.$element.find(".bb-placeholder-layer").css("visibility","hidden"),this._$playerSizeDebug&&(this._$playerSizeDebug.hide(),this._$playerInviewDebug.hide()),e.exit(),this._animationSpeedS=this._animationSpeed/1e3,this.$interactivityWrapper.css({"-webkit-transition":"height "+this._animationSpeedS+"s","-moz-transition":"height "+this._animationSpeedS+"s",transition:"height "+this._animationSpeedS+"s"}),this.$interactivityWrapper.css({height:"0px"}),this._isSticky&&(this.$element.css({"-webkit-transition":"height "+this._animationSpeedS+"s","-moz-transition":"height "+this._animationSpeedS+"s",transition:"height "+this._animationSpeedS+"s"}),this.$element.css({height:"0px"}),"stickTop"==this._stickyMode&&($parcel$interopDefault(i)("body").css({"-webkit-transition":"padding-top "+this._animationSpeedS+"s","-moz-transition":"padding-top "+this._animationSpeedS+"s",transition:"padding-top "+this._animationSpeedS+"s"}),$parcel$interopDefault(i)("body").css({"padding-top":"0px"}))),setTimeout((function(){e.$interactivityWrapper.hide(),e._showState="collapsed",e.$element.triggerHandler("bb_resized"),e.$element.triggerHandler("bb_collapsed"),e._playoutData&&"whilePlaying"==e._playoutData.clearBothOption&&e.$interactivityWrapper.css({clear:"none"}),e.$interactivityWrapper.css({"-webkit-transition":"","-moz-transition":"",transition:""})}),this._animationSpeed)},o.prototype._removePlayer=function(){var e=this,t=e.opts;t.resizingParent&&t.resizingParent.off("resize.core"),e.$interactivityWrapper.hide(),e.$interactivityWrapper.remove(),e._showState="collapsed",e.$element.triggerHandler("bb_resized")},o.prototype._setInviewMargin=function(){var e=0,t=0;e=this._autoHeight?this._playerWidth/this._getAspectRatio():this.$element.height(),this._playerWidth&&(t=this._playerWidth),isNaN(parseInt(this._playoutData.inviewMargin))?(this._inviewMargin=Math.round(.25*e),this._inviewMarginWidth=Math.round(.25*t)):-1!=this._playoutData.inviewMargin.indexOf("%")?(this._inviewMargin=Math.round(e*(1-parseInt(this._playoutData.inviewMargin)/100)),this._inviewMarginWidth=Math.round(t*(1-parseInt(this._playoutData.inviewMargin)/100))):(this._inviewMargin=parseInt(this._playoutData.inviewMargin),this._inviewMarginWidth=parseInt(this._playoutData.inviewMargin))},o.prototype._onPhaseChange=function(e){this._userChangedPlayState=!1,this._userChangedVolume=!1},o.prototype._onLoadedMetadata=function(e){this._userChangedPlayState=!1,this._userChangedVolume=!1,$parcel$interopDefault(i)(window).scroll()},o.prototype._onAssetsChanged=function(e,t){t&&(this._assets=t.assets),this._autoHeight&&this._updateHeight()},o.prototype._onLoadedClipData=function(e){var t=this.opts;if(this._userChangedPlayState=!1,this._userChangedVolume=!1,this._aspectRatio_media=null,this._checkFullScreenMismatch(),void 0!==t.clipData&&null!=t.clipData&&void 0!==t.clipData.adTarget&&null!=t.clipData.adTarget&&""!=t.clipData.adTarget){var a=null!=t.click_tag_esc&&void 0!==t.click_tag_esc?t.click_tag_esc+t.clipData.adTarget:t.clipData.adTarget;this._setupClickElement(a)}$parcel$interopDefault(i)(window).scroll(),$parcel$interopDefault(i)(window).mousemove()},o.prototype._onScroll=function(e){var t=this;e&&"fake"!==e.type?setTimeout((function(){t._onScrollNoBlock(e)})):t._onScrollNoBlock(e)},o.prototype._onScrollNoBlock=function(e){if(!this._isAMP){var t=this.opts;this._autoPlay=t&&t.playoutData&&"true"===t.playoutData.autoPlay,(this._useStickyMode&&!this._alwaysFloat&&!this._justForceClosed||this._useStickyMode&&"stickToElement"===this._stickyMode&&this._alwaysFloat&&!this._justForceClosed)&&this._checkStickyness(),void 0!==window.pageXOffset||void 0!==window.pageYOffset?(this._scrollX=window.pageXOffset,this._scrollY=window.pageYOffset):(this._scrollX=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,this._scrollY=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop),this._scrollY>this._lastScrollY&&(this._scrollDirection="down"),this._scrollY<this._lastScrollY&&(this._scrollDirection="up"),this._lastScrollY=this._scrollY,!this._autoPlay&&!this._hasScrolled&&this._scrollY>1&&(this._showOnlyWhenPrerollAvailable&&e&&"fake"!==e.type?(this.api&&this.api.preloadAds(),this._hasScrolled=!0):t&&t.playoutData&&"true"==t.playoutData.preloadMainroll&&(this.api&&this.api.preloadAds("MAIN"),this._hasScrolled=!0)),this._videoOffset=this.$element.offset(),this._setInView(null)}},o.prototype._onTouchEnd=function(e,t){if(!t||!t.ignore){this._onScroll({type:"fake"});!this._playing&&this._inview()&&this.intendedResume&&this._play()}},o.prototype._setupClickElement=function(e){var t=this.$element.find(".bb_interactivity_clickelement");t.length<=0&&((t=$parcel$interopDefault(i)('<a class="bb_interactivity_clickelement" target="_blank" style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; display: block; background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);"></a>').on("click",$parcel$interopDefault(i).proxy(o.prototype._onPlayerClick,this))).css("z-index","12"),this._opts&&"html5"==this._opts.selectedPlaymode?this.$element.find(".bbplayerwrapper").prepend(t):(this.$element.append(t),this.$element.append('<style type="text/css">.bb_wrapper { position: relative; }</style>'))),t.attr("href",e)},o.prototype._onPlayerClick=function(){return this._pause(),!0},o.prototype._onInView=function(){if(n.default("[Interactivity] _onInView"),void 0!==this._playout_inView&&"none"!=this._playout_inView&&n.default("[Interactivity] _onInView"),void 0!==this._playout_inView)switch(this._playout_inView){default:case"none":break;case"play":case"Play":this._play();break;case"Unmute":case"unmute":this._setMuted(!1);break;case"Play and Unmute":case"play and unmute":this._setMuted(!1),this._play()}"true"==this._playoutData.inviewPlayPause&&this._play()},o.prototype._onOutView=function(){if(this._actionFromIA=!0,void 0!==this._playout_outView)switch(this._playout_outView){default:case"None":case"none":break;case"Pause":case"pause":this._alwaysFloat||this._pause();break;case"Mute":case"mute":this._setMuted(!0);break;case"Pause and Mute":case"pause and mute":this._setMuted(!0),this._pause()}"true"==this._playoutData.inviewPlayPause&&this._pause()},o.prototype._onMouseIn=function(e){if(!e||this._mouseIsIn)return!1;this._mouseOverInterval&&clearInterval(this._mouseOverInterval);var t=this,i=1;if(this._mouseOverInterval=setInterval((function(){t.$element&&t.$element.trigger("bb_mouseover_x_s",[{interval:i}]),i++}),1e3),!(e.toElement||e.relatedTarget))return!1;if(this._noIAvolumeChange=!1,void 0!==this._playoutData.interactivity_mouseIn)switch(this._playoutData.interactivity_mouseIn){default:case"none":break;case"Play":case"play":this._play();break;case"Unmute":case"unmute":this._setMuted(!1);break;case"Play and Unmute":case"play and unmute":this._setMuted(!1),this._play()}"true"==this._playoutData.onMouseOutMute&&this._setMuted(!1),this._mouseIsIn=!0},o.prototype._onClick=function(e){var t;if((1!=(null===(t=this.api)||void 0===t?void 0:t._ended)||this._playout_youTubeSkinInMainPhase)&&!$parcel$interopDefault(i)(e.target).parents(".bb-commercial-layer, .bb-timeline-layer").length){var a=this._playoutData.clickUrl;if(a&&-1==a.indexOf("http://")&&-1==a.indexOf("https://")&&(a="http://"+a),this.api)switch(this._playoutData.interactivity_onClick){case"play or pause":this._playing?(this.api.pause(),this._playing=!1):(this.api.play(),this._playing=!0);break;default:case"start once":this._started||(this._started=!0,this.api.play(!0),this._playing=!0);break;case"open link in current window":location.href=a;break;case"open link in new window":window.open(a),this.api.pause(),this._playing=!1}}},o.prototype._onMouseOut=function(e){if(!e||!this._mouseIsIn)return!1;if(this._mouseOverInterval&&clearInterval(this._mouseOverInterval),!(e.toElement||e.relatedTarget))return!1;if(void 0!==this._playoutData.interactivity_mouseOut)switch(this._playoutData.interactivity_mouseOut){default:case"none":break;case"Pause":case"pause":this._pause();break;case"Mute":case"mute":this._setMuted(!0);break;case"Pause and Mute":case"pause and mute":this._setMuted(!0),this._pause()}"true"==this._playoutData.onMouseOutMute&&this._setMuted(!0),this._mouseIsIn=!1},o.prototype._onWindowBlur=function(e){return e&&!e.relatedTarget&&(e.relatedTarget=e.target),this._onMouseOut(e)},o.prototype._convertHex=function(e,t){return e=e.replace("#",""),"rgba("+parseInt(e.substring(0,2),16)+","+parseInt(e.substring(2,4),16)+","+parseInt(e.substring(4,6),16)+","+t/100+")"},o.prototype._initStickyness=function(e){var t=this,a=this.opts.playoutData;if(this._alwaysFloat=a&&"true"===a.alwaysFloat&&this._stickyMode&&"none"!==this._stickyMode,this._disableFloatAnimation=a&&"true"===a.disableFloatAnimation&&this._stickyMode&&"none"!==this._stickyMode,90==Math.abs(window.orientation)||!this._stickyMode||-1==["stickTop","stickBoth","stickBottomRight","stickBottomLeft","stickTopRight","stickTopLeft","stickDownBottomRight","stickDownBottomLeft","stickDownTopCenter","stickToElement"].indexOf(this._stickyMode))return!1;switch(this._stickyMode){case"stickBoth":case"stickBottomRight":case"stickBottomLeft":case"stickTopRight":case"stickTopLeft":case"stickDownBottomRight":case"stickDownBottomLeft":case"stickDownTopCenter":case"stickToElement":var n;this._preMovePlayout=$parcel$interopDefault(i).extend({},a),this._disableFloatAnimation?this._animationSpeedMove=0:this._animationSpeedMove=500,this._animationSpeedMoveS=this._animationSpeedMove/1e3;var s="",r="left top right bottom width height".split(" ");r.forEach((function(e){s+=e+" "+t._animationSpeedMoveS+"s",r.indexOf(e)!==r.length-1&&(s+=", ")})),this._transitionCss={transition:s,"-webkit-transition":s,"-moz-transition":s},this._noTransitionCss={transition:"","-webkit-transition":"","-moz-transition":""},this._$moveBackButton=$parcel$interopDefault(i)('<div class="bb-float-close-button">&times;</div>');$parcel$interopDefault(i)("<div></div>");this._$moveBackButton.css({cursor:"pointer",fontSize:"20px",boxSizing:"border-box",right:"0",top:"-26px",fontWeigth:"bold",borderRadius:"25px",lineHeight:"10px",padding:"5px",fontWeight:"bold",border:"2px solid #"+this.opts.playoutData.skin_foregroundColor,position:"absolute",display:"none",overflow:"hidden",backgroundColor:this._convertHex(this.opts.playoutData.skin_backgroundColor,this.opts.playoutData.alphaControlBar),color:"#"+this.opts.playoutData.skin_foregroundColor}),this._$moveBackButton.on("click",$parcel$interopDefault(i).proxy(o.prototype._forceClose,this,!0)),this._$placeHolder=$parcel$interopDefault(i)('<div class="bb-float-placeholder"></div>');var l={position:"absolute",left:0,top:0,backgroundColor:"#"+this.opts.playoutData.bgColor,width:(null===(n=a.width)||void 0===n?void 0:n.indexOf("%"))>-1?a.width:this.$element.width()+"px",display:"none"};a.maxWidth&&(l.maxWidth=a.maxWidth+"px"),(!this._alwaysFloat||this._alwaysFloat&&this._showFloatingCloseButton)&&(this._$placeHolder.css(l),this.$element.append(this._$moveBackButton),this.$interactivityWrapper.append(this._$placeHolder))}this._useStickyMode=!0,this._inittedStickyness=!0},o.prototype._checkStickyness=function(e){var t=this;if(!this._useStickyMode||"collapsed"==this._showState)return!1;if(!this._inittedStickyness&&!e)return!1;this._executer||(this._executer=a.default.getService(this._opts.playerAliasOrId).getInstance("Executer"));var n=0,s=0,o=400,r=this._aspectRatio;this._executer&&this._executer.execute&&this._playoutData&&(this._playoutData.distanceFromTop&&(n=Number(this._executer.execute(this._playoutData.distanceFromTop))||0),this._playoutData.distanceFromBottom&&(s=Number(this._executer.execute(this._playoutData.distanceFromBottom))||0),this._playoutData.floatingWidth&&(o=Number(this._executer.execute(this._playoutData.floatingWidth))||o));var l=this.$interactivityWrapper||$parcel$interopDefault(i)("<div></div>"),d=this.$element||$parcel$interopDefault(i)("<div></div>"),u=this.$wrapperAbovePlayer||$parcel$interopDefault(i)("<div></div>"),h=l.length&&l[0].getBoundingClientRect?l[0].getBoundingClientRect():{top:0,left:0,width:0,height:0},c=d.length&&d[0].getBoundingClientRect?d[0].getBoundingClientRect():{top:0,left:0,width:0,height:0},p=u.length&&u[0].getBoundingClientRect?u[0].getBoundingClientRect():{top:0,left:0,width:0,height:0};if(void 0!==this._playoutData.domFloatElement){var _=$parcel$interopDefault(i)(this._playoutData.domFloatElement)[0];if(_){var m=_.getBoundingClientRect(),f=m.top+document.documentElement.scrollTop,y=m.bottom-c.height+document.documentElement.scrollTop,v=this._windowHeight-m.bottom,g=m.x+"px",b=m.x+m.width-o+"px";f=document.documentElement.scrollTop<f?f-document.documentElement.scrollTop+"px":document.documentElement.scrollTop>y?y-document.documentElement.scrollTop+"px":n?n+"px":"20px",m.bottom>this._windowHeight&&(v=s?s+"px":"20px")}}var w=window.innerHeight||document.documentElement.clientHeight,k=this._isSticky,$=h.bottom>=w-s,C=h.top<=n,S=this._playoutData,P=this._playoutData&&this._playoutData.inviewMargin?parseInt(this._playoutData.inviewMargin.replace("%","")):75,A=l.height()/100*(100-P),x=h.top<=n-A,D=h.bottom>=w+A-s;switch(this._stickyMode){case"stickTop":null==this._iaOrigZIndex&&(this._iaOrigZIndex=l.css("zIndex")),l.css({position:"fixed",zIndex:9999999,bottom:"auto",width:"100%",top:n+"px",left:0}),$parcel$interopDefault(i)("body").css({paddingTop:l.height()+"px"}),this._isSticky=!0;break;case"stickBoth":this._forceClosed&&(C=!1,$=!1),e||!C&&!$?(d.css({position:"relative",top:"auto",bottom:"auto"}),isNaN(parseFloat(this._elOrigZIndex))||d.css("zIndex",this._elOrigZIndex),this._$moveBackButton&&this._$moveBackButton.hide(),this._isSticky=!1):C&&!this._forceClosed?(null==this._elOrigZIndex&&(this._elOrigZIndex=d.css("zIndex")),d.css({position:"fixed",zIndex:9999999,top:n+30+"px",bottom:"auto",width:l.width()+"px"}),this._$moveBackButton&&this._$moveBackButton.show(),this._isSticky=!0):$&&!this._forceClosed&&(null==this._elOrigZIndex&&(this._elOrigZIndex=d.css("zIndex")),d.css({position:"fixed",zIndex:9999999,bottom:s+"px",top:"auto",width:l.width()+"px"}),this._$moveBackButton&&this._$moveBackButton.show(),this._isSticky=!0);break;case"stickBottomRight":case"stickBottomLeft":case"stickTopRight":case"stickTopLeft":case"stickDownBottomRight":case"stickDownBottomLeft":case"stickDownTopCenter":case"stickToElement":this._$placeHolder&&this._$placeHolder[0].getBoundingClientRect();var I,M,T=0;if(S&&S.minimumFloatWidth&&(T=Number(S.minimumFloatWidth)),!e&&(this._alwaysFloat&&!this._forceClosed||"stickToElement"===this._stickyMode&&this._isSticky&&!this._forceClosed&&(x||D)||!this._ended&&!this._animatingPosition&&(window.innerWidth||window.clientWidth)>T&&!this._forceClosed&&!this._isSticky&&this._playing&&(x||D)&&!(null===(I=this.api)||void 0===I?void 0:I.isFullscreen()))){if(null==this._elOrigZIndex&&(this._elOrigZIndex=d.css("zIndex")),!x&&("stickDownBottomLeft"===this._stickyMode||"stickDownBottomRight"===this._stickyMode||"stickDownTopCenter"===this._stickyMode))return;if("stickToElement"===this._stickyMode&&(""===S.domFloatElement||!m))return;this._$placeHolder&&this._$placeHolder.show(),d.triggerHandler("bb_to_sticky_position"),this._alwaysFloat?this.$interactivityWrapper.height(0):(this.$interactivityWrapper.width((this._$placeHolder?this._$placeHolder.width():0)+"px"),this.$interactivityWrapper.height((this._$placeHolder?this._$placeHolder.height():0)+"px")),this._scrollPositionStatus=x?"below":"above";var E,R=(window.innerHeight||document.documentElement.clientHeight)-c.top-c.height+"px",q=(window.innerHeight||document.documentElement.clientHeight)-p.top-p.height+"px",O=s?s+"px":"20px",H=n?n+"px":"20px",L=(window.innerWidth||document.documentElement.clientWidth)-c.left-c.width+"px";window.innerWidth||document.documentElement.clientWidth,p.left,p.width;S.maxWidth&&""!=S.maxWidth||(u.css("maxWidth",d.width()),d.css("maxWidth",d.width())),d.css({position:"fixed",zIndex:9999999,bottom:R,right:L,width:d.width()+"px",height:d.height()+"px"}),u.css({position:"fixed",zIndex:9999999,bottom:q,right:L,width:d.width()+"px"}),this._alwaysFloat||t._transitionCss&&(d.css(t._transitionCss),u.css(t._transitionCss)),setTimeout((function(){t._animatingPosition=t._disableFloatAnimation,t._disableFloatAnimation||window.bluebillywig._internal.Util.requestAnimFrame($parcel$interopDefault(i).proxy(t._animationFrameCallback,t));var e={position:"fixed",zIndex:9999999,bottom:O,right:"20px",width:o+"px",height:o/r+"px"};"stickBottomLeft"!=t._stickyMode&&"stickTopLeft"!=t._stickyMode&&"stickDownBottomLeft"!=t._stickyMode||(delete e.right,e.left="20px",e.marginLeft=0),"stickTopLeft"!=t._stickyMode&&"stickTopRight"!=t._stickyMode&&"stickDownTopCenter"!=t._stickyMode||(delete e.bottom,e.top=H),"stickDownTopCenter"==t._stickyMode&&(e.right="calc(50% - "+o/2+"px)"),"stickToElement"==t._stickyMode&&S&&""!==S.domFloatElement&&m&&(S.domElementAlignment&&(E=S.domElementAlignment),"stickTopLeft"!=E&&"stickBottomLeft"!=E||(delete e.right,e.left=g,e.marginLeft=0),"stickTopLeft"!=E&&"stickTopRight"!=E||(delete e.toBottom,e.top=f),"stickBottomRight"!=E&&"stickTopRight"!=E||(delete e.right,e.left=b),"stickBottomRight"!=E&&"stickBottomLeft"!=E||(delete e.top,e.bottom=v)),d.css(e),u.css(e),u.css({bottom:parseInt(O)+parseInt(e.height)+"px",height:"auto"})}),1),"stickToElement"==t._stickyMode&&(this._animationSpeedMove=0),setTimeout((function(){t._animatingPosition=!1,t._noTransitionCss&&(d.css(t._noTransitionCss),u.css(t._noTransitionCss)),S.maxWidth&&""!=S.maxWidth||(d.css("maxWidth",""),u.css("maxWidth","")),t.$element.triggerHandler("bb_resized")}),this._animationSpeedMove||1e3/60),this._isSticky=!0,this._alwaysFloat?(this._playoutData&&this._showFloatingCloseButton?this._$moveBackButton&&this._$moveBackButton.show():this._$moveBackButton&&this._$moveBackButton.hide(),this.$interactivityWrapper.css("position","absolute")):(this._$moveBackButton.show(),this.$interactivityWrapper.css("padding-bottom",1/this._getAspectRatio()*100+"%"))}else if(!this._isSticky||this._animatingPosition||(x||D)&&!this._forceClosed&&!e||(null===(M=this.api)||void 0===M?void 0:M.isFullscreen()))"stickToElement"===this._stickyMode&&this._isSticky&&("stickTopLeft"!=E&&"stickTopRight"!=E||d.css({top:f}),"stickBottomLeft"!=E&&"stickBottomRight"!=E||d.css({bottom:v}),"stickTopLeft"!=E&&"stickBottomLeft"!=E||d.css({left:g}),"stickBottomRight"!=E&&"stickTopRight"!=E||d.css({left:b}));else{var B,F;d.triggerHandler("bb_returned_from_sticky_position"),this._playerRemounted=!0,this._$moveBackButton&&this._$moveBackButton.hide(),this._isSticky=!1,l.css({position:"relative",top:"",left:"",right:"",bottom:"",width:"",maxWidth:"",paddingBottom:"",height:(this._$placeHolder?this._$placeHolder.height():0)+"px"}),null!=this._iaOrigZIndex&&l.css("zIndex",this._iaOrigZIndex),d.css({position:"relative",top:"",left:"",right:"",bottom:"",margin:"0px auto",width:(null===(B=S.width)||void 0===B?void 0:B.indexOf("%"))>-1?S.width:S.width+"px",maxWidth:S.maxWidth?S.maxWidth+"px":"",height:(this._$placeHolder?this._$placeHolder.height():0)+"px"}),u.css({position:"relative",top:"",left:"",right:"",bottom:"",margin:"0px auto",width:(null===(F=S.width)||void 0===F?void 0:F.indexOf("%"))>-1?S.width:S.width+"px",maxWidth:""}),null!=this._elOrigZIndex&&(d.css("zIndex",this._elOrigZIndex),u.css("zIndex",this._elOrigZIndex)),setTimeout((function(){t._animatingPosition=!1,d.triggerHandler("bb_resized")}),this._animationSpeedMove),setTimeout((function(){t._$placeHolder&&t._$placeHolder.hide(),$parcel$interopDefault(i)(window).trigger("resize")}),10),this._scrollPositionStatus="inview",this._forceClosed&&(this._forceClosed=!1)}!k&&this._isSticky||k&&this._isSticky}},o.prototype._animationFrameCallback=function(){this._animatingPosition&&(window.bluebillywig._internal.Util.requestAnimFrame($parcel$interopDefault(i).proxy(this._animationFrameCallback,this)),this.$element.triggerHandler("bb_resized"))},o.prototype._forceClose=function(e){this._justForceClosed=!0;var t=this;e&&this._pause(),this._alwaysFloat&&this._showFloatingCloseButton?t._removePlayer():(this._noTransitionCss&&this.$element.css(this._noTransitionCss),this._forceClosed=!0,this._$moveBackButton&&this._$moveBackButton.hide(),setTimeout((function(){t._justForceClosed=!1,t._checkStickyness()}),100))},o.prototype._inview=function(){if(null!==this._inView_forced)return!!this._inView_forced;if(!this.$element.is(":visible"))return!1;if(!this._documentVisible)return!1;if("getBoundingClientRect"in document.createElement("div")&&this.$element[0].getBoundingClientRect){var e=this.$element[0].getBoundingClientRect();if(e&&this._debugMode){this._$playerSizeDebug.css({top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"});var t={};t.top=parseInt(parseInt(e.top)+parseInt(this._inviewMargin)),t.left=parseInt(parseInt(e.left)+this._inviewMarginWidth),t.width=this._playerWidth-2*this._inviewMarginWidth,t.height=this._playerHeight-2*this._inviewMargin,this._$playerInviewDebug.css({top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"})}return e.top+this._inviewMargin>=0&&e.left+this._inviewMarginWidth>=0&&e.bottom-this._inviewMargin<=(window.innerHeight||document.documentElement.clientHeight)&&e.right-this._inviewMarginWidth<=(window.innerWidth||document.documentElement.clientWidth)}return parseInt(this._scrollY+this._windowHeight)>parseInt(this._videoOffset.top+this._inviewMargin)&&parseInt(this._scrollY)<parseInt(this._videoOffset.top+this._playerHeight-this._inviewMargin)&&parseInt(this._scrollX+this._windowWidth)>parseInt(this._videoOffset.left+this._inviewMargin)&&parseInt(this._scrollX)<parseInt(this._videoOffset.left+this._playerWidth-this._inviewMargin)},o.prototype._onOrientationChange=function(e){this._onPlayerResize(),this._onWindowResize(),this._checkFullScreenMismatch()},o.prototype._checkFullScreenMismatch=function(){var e=this.$element&&this.$element.height()>0?this.$element.width()/this.$element.height():1,t=this._getAspectRatio_media()||1,i=null!=(document.fullscreenElement||document.fullScreenElement||document.mozFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.webkitFullScreenElement||document.msFullscreenElement),a=(e<1&&t>1||e>1&&t<1)&&(i||this._fullscreen);this._fullScreenMismatch!=a&&(this._fullScreenMismatch=a,this.$element.triggerHandler("bb_fullscreen_mismatch",[{fullScreenMismatch:this._fullScreenMismatch,displayOrientation:e<1?"portrait":"landscape"}]))},o.prototype._onPlayerResize=function(){this._updatePlayerSize(),this._setInviewMargin(),$parcel$interopDefault(i)(window).scroll()},o.prototype._onWindowResize=function(){this._updateWindowSize(),this._autoHeight&&this._updateHeight(),this.$element.triggerHandler("bb_resized"),this._updatePlayerSize(),$parcel$interopDefault(i)(window).scroll()},o.prototype._updatePlayerSize=function(){this._playerHeight=this.$element.height(),this._playerWidth=this.$element.width(),this._iaHeight=this.$interactivityWrapper.height(),this._iaWidth=this.$interactivityWrapper.width()},o.prototype._updateWindowSize=function(){this._windowWidth=$parcel$interopDefault(i)(window).width(),this._windowHeight=$parcel$interopDefault(i)(window).height()},o.prototype._updateHeight=function(){if((!this._animatingPosition||this._animatingPosition&&this._recentFullscreenChange)&&!this._exited&&this.api&&!this.api.isFullscreen()){var e=Math.round(this._playerWidth/this._getAspectRatio()),t=e-this.$element.height();Math.abs(t)>=.5&&((!this._deltaHeight_0||t/this._deltaHeight_0>0||!this._deltaHeight_1||t/this._deltaHeight_1<0)&&(this.$element.height(e),this.$element.triggerHandler("bb_resized"),void 0===this.$interactivityWrapper||"collapsed"==this._showState||this._isSticky?!this._playoutData.maxWidth||"stickBottomRight"!=this._stickyMode&&"stickBottomLeft"!=this._stickyMode&&"stickTopRight"!=this._stickyMode&&"stickTopLeft"!=this._stickyMode&&"stickDownBottomRight"!=this._stickyMode&&"stickDownBottomLeft"!=this._stickyMode&&"stickDownTopCenter"!=this._stickyMode&&"stickToElement"!=this._stickyMode||this._inittedStickyness||"collapsed"!=!this._showState||this.$interactivityWrapper.height(this.$element.height()+"px"):this.$interactivityWrapper.height(e+this._extraHeight)),this._deltaHeight_1=this._deltaHeight_0,this._deltaHeight_0=t)}},o.prototype._getAspectRatio=function(e){return this._aspectRatio&&!e?this._aspectRatio:(this._aspectRatio=this._getAspectRatio_override()||this._getAspectRatio_media(),this._aspectRatio?this._aspectRatio:16/9)},o.prototype._getAspectRatio_override=function(){if(null==this._aspectRatio_override&&this._playoutData&&this._playoutData.aspectRatio&&-1!==this._playoutData.aspectRatio.indexOf(":")){var e=this._playoutData.aspectRatio.split(":");e[0]>0&&e[1]>0&&(this._aspectRatio_override=Number(e[0])/Number(e[1]))}return this._aspectRatio_override},o.prototype._getAspectRatio_media=function(){if(null==this._aspectRatio_media&&null!=this._assets){var e=null;if(void 0!==this.opts.selectedAsset&&(e=this.opts.selectedAsset.src),e)for(var t=this._assets.length-1;t>=0;){if(this._assets[t].src.substr(this._assets[t].src.length-7)==e.substr(e.length-7)&&this._assets[t].width>0&&this._assets[t].height>0){this._aspectRatio_media=this._assets[t].width/this._assets[t].height;break}t--}}if(null==this._aspectRatio_media&&null!=this._assets)for(t=this._assets.length-1;t>=0;){if(this._assets[t].width>0&&this._assets[t].height>0){this._aspectRatio_media=this._assets[t].width/this._assets[t].height;break}t--}return this._aspectRatio_media},o.prototype._onAdSizeChanged=function(e,t){this.opts&&this.opts.clipData&&"mainroll"===this.opts.clipData.mediatype&&(!t||0==t.adWidth||0==t.adHeight||this._playoutData&&this._playoutData.aspectRatio&&-1!==this._playoutData.aspectRatio.indexOf(":")||(this._aspectRatio=t.adWidth/t.adHeight,this._autoHeight?this._updateHeight():this.$element.triggerHandler("bb_resized")))},o.prototype._logInviewEvent=function(e){var t={},i=new Date;if(void 0!==this.$element.attr("data-sid")){void 0!==this.$element.attr("data-sid")&&(t.sid=this.$element.attr("data-sid")),t.ts=i.getTime();var a=parseFloat(this.$element.attr("data-currenttime"));isNaN(a)&&(a=0),t.to=1e3*a,t.ev=e,this._logEvent(t)}},o.prototype._logEvent=function(e){var t="",i=this._loggerUrl;for(var a in e){0==t.length?t+="?":t+="&";var n=e[a];null==n&&(n=""),t+=a+"="+encodeURIComponent(n)}t=t.replace(/-/g,"%2d");var s=new Image(1,1),o=0;s.onerror=function(){o<3&&(s.src=i+t,o++)},s.onload=function(){},s.src=i+t,"function"==typeof window.bbJsLog&&window.bbJsLog(t)},o.prototype._onMessage=function(e){var t=e&&e.originalEvent||{};if(t.source==window.parent&&t.data&&"amp"==t.data.sentinel&&"intersection"==t.data.type&&t.data.changes){var i=0,a=(i=this._autoHeight?this._playerWidth/this._getAspectRatio():this.$element.height())>0?this._inviewMargin/i:.5,n=!1;t.data.changes.forEach((function(e){e.intersectionRatio>=a&&(n=!0)})),this._setInView(n)}}})),parcelRequire.register("1UzQU",(function(e,t){"use strict";var i=parcelRequire("k26VZ").forEach,a=parcelRequire("39M3N"),n=parcelRequire("3Nk69"),s=parcelRequire("5ycls"),o=parcelRequire("4K4Vb"),r=parcelRequire("cGv1U"),l=parcelRequire("33LBW"),d=parcelRequire("3wXYq"),u=parcelRequire("4NBEG"),h=parcelRequire("1keCU"),c=parcelRequire("cNsKO");function p(e){return Array.isArray(e)||void 0!==e.length}function _(e){if(Array.isArray(e))return e;var t=[];return i(e,(function(e){t.push(e)})),t}function m(e){return e&&1===e.nodeType}function f(e,t,i){var a=e[t];return null==a&&void 0!==i?i:a}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var y=s(),v=o({idGenerator:y,stateHandler:u});t=v}var g=e.reporter;g||(g=r(!1===g));var b=f(e,"batchProcessor",d({reporter:g})),w={};w.callOnAdd=!!f(e,"callOnAdd",!0),w.debug=!!f(e,"debug",!1);var k,$=n(t),C=a({stateHandler:u}),S=f(e,"strategy","object"),P=f(e,"important",!1),A={reporter:g,batchProcessor:b,stateHandler:u,idHandler:t,important:P};if("scroll"===S&&(l.isLegacyOpera()?(g.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),S="object"):l.isIE(9)&&(g.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),S="object")),"scroll"===S)k=c(A);else{if("object"!==S)throw new Error("Invalid strategy name: "+S);k=h(A)}var x={};return{listenTo:function(e,a,n){function s(e){var t=$.get(e);i(t,(function(t){t(e)}))}function o(e,t,i){$.add(t,i),e&&i(t)}if(n||(n=a,a=e,e={}),!a)throw new Error("At least one element required.");if(!n)throw new Error("Listener required.");if(m(a))a=[a];else{if(!p(a))return g.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");a=_(a)}var r=0,l=f(e,"callOnAdd",w.callOnAdd),d=f(e,"onReady",(function(){})),h=f(e,"debug",w.debug);i(a,(function(e){u.getState(e)||(u.initState(e),t.set(e));var c=t.get(e);if(h&&g.log("Attaching listener to element",c,e),!C.isDetectable(e))return h&&g.log(c,"Not detectable."),C.isBusy(e)?(h&&g.log(c,"System busy making it detectable"),o(l,e,n),x[c]=x[c]||[],void x[c].push((function(){++r===a.length&&d()}))):(h&&g.log(c,"Making detectable..."),C.markBusy(e,!0),k.makeDetectable({debug:h,important:P},e,(function(e){if(h&&g.log(c,"onElementDetectable"),u.getState(e)){C.markAsDetectable(e),C.markBusy(e,!1),k.addListener(e,s),o(l,e,n);var t=u.getState(e);if(t&&t.startSize){var p=e.offsetWidth,_=e.offsetHeight;t.startSize.width===p&&t.startSize.height===_||s(e)}x[c]&&i(x[c],(function(e){e()}))}else h&&g.log(c,"Element uninstalled before being detectable.");delete x[c],++r===a.length&&d()})));h&&g.log(c,"Already detecable, adding listener."),o(l,e,n),r++})),r===a.length&&d()},removeListener:$.removeListener,removeAllListeners:$.removeAllListeners,uninstall:function(e){if(!e)return g.error("At least one element is required.");if(m(e))e=[e];else{if(!p(e))return g.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=_(e)}i(e,(function(e){$.removeAllListeners(e),k.uninstall(e),u.cleanState(e)}))},initDocument:function(e){k.initDocument&&k.initDocument(e)}}}})),parcelRequire.register("k26VZ",(function(e,t){"use strict";(e.exports={}).forEach=function(e,t){for(var i=0;i<e.length;i++){var a=t(e[i]);if(a)return a}}})),parcelRequire.register("39M3N",(function(e,t){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var i=t(e);return i&&!!i.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,i){t(e).busy=!!i}}}})),parcelRequire.register("3Nk69",(function(e,t){"use strict";e.exports=function(e){var t=function(t){var a=e.get(t);return void 0===a?[]:i[a]||[]},i={};return{get:t,add:function(t,a){var n=e.get(t);i[n]||(i[n]=[]),i[n].push(a)},removeListener:function(e,i){for(var a=t(e),n=0,s=a.length;n<s;++n)if(a[n]===i){a.splice(n,1);break}},removeAllListeners:function(e){var i=t(e);i&&(i.length=0)}}}})),parcelRequire.register("5ycls",(function(e,t){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}})),parcelRequire.register("4K4Vb",(function(e,t){"use strict";e.exports=function(e){var t=e.idGenerator,i=e.stateHandler.getState;return{get:function(e){var t=i(e);return t&&void 0!==t.id?t.id:null},set:function(e){var a=i(e);if(!a)throw new Error("setId required the element to have a resize detection state.");var n=t.generate();return a.id=n,n}}}})),parcelRequire.register("cGv1U",(function(e,t){"use strict";e.exports=function(e){var t=function(){},i={log:t,warn:t,error:t};if(!e&&window.console){var a=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var i=0;i<arguments.length;i++)e(arguments[i])}};a(i,"log"),a(i,"warn"),a(i,"error")}return i}})),parcelRequire.register("33LBW",(function(e,t){"use strict";var i=e.exports={};i.isIE=function(e){var t;return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),i=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(i[0]);return e>4?e:undefined}())},i.isLegacyOpera=function(){return!!window.opera}})),parcelRequire.register("3wXYq",(function(e,t){"use strict";var i=parcelRequire("83xI9");function a(){var e={},t=0,i=0,a=0;return{add:function(n,s){s||(s=n,n=0),n>i?i=n:n<a&&(a=n),e[n]||(e[n]=[]),e[n].push(s),t++},process:function(){for(var t=a;t<=i;t++)for(var n=e[t],s=0;s<n.length;s++){(0,n[s])()}},size:function(){return t}}}e.exports=function(e){var t=function(){for(c=!0;h.size();){var e=h;h=a(),e.process()}c=!1},n=function(){u=o(t)},s=function(e){return clearTimeout(e)},o=function(e){return setTimeout(e,0)},r=(e=e||{}).reporter,l=i.getOption(e,"async",!0),d=i.getOption(e,"auto",!0);d&&!l&&(r&&r.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),l=!0);var u,h=a(),c=!1;return{add:function(e,t){!c&&d&&l&&0===h.size()&&n(),h.add(e,t)},force:function(e){c||(void 0===e&&(e=l),u&&(s(u),u=null),e?n():t())}}}})),parcelRequire.register("83xI9",(function(e,t){"use strict";(e.exports={}).getOption=function(e,t,i){var a=e[t];return null==a&&void 0!==i?i:a}})),parcelRequire.register("4NBEG",(function(e,t){"use strict";function i(e){return e._erd}e.exports={initState:function(e){return e._erd={},i(e)},getState:i,cleanState:function(e){delete e._erd}}})),parcelRequire.register("1keCU",(function(e,t){"use strict";var i=parcelRequire("33LBW");e.exports=function(e){var t=function(e){return s(e).object},a=(e=e||{}).reporter,n=e.batchProcessor,s=e.stateHandler.getState;if(!a)throw new Error("Missing required dependency: reporter.");return{makeDetectable:function(t,o,r){r||(r=o,o=t,t=null);(t=t||{}).debug;i.isIE(8)?r(o):function(o,r){var l,d,u=(l=["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"],d=e.important?" !important; ":"; ",(l.join(d)+d).trim()),h=!1,c=window.getComputedStyle(o),p=o.offsetWidth,_=o.offsetHeight;function m(){function e(){if("static"===c.position){o.style.setProperty("position","relative",t.important?"important":"");var e=function(e,i,a,n){var s=a[n];"auto"!==s&&"0"!==s.replace(/[^-\d\.]/g,"")&&(e.warn("An element that is positioned static has style."+n+"="+s+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",i),i.style.setProperty(n,"0",t.important?"important":""))};e(a,o,c,"top"),e(a,o,c,"right"),e(a,o,c,"bottom"),e(a,o,c,"left")}}""!==c.position&&(e(),h=!0);var n=document.createElement("object");n.style.cssText=u,n.tabIndex=-1,n.type="text/html",n.setAttribute("aria-hidden","true"),n.onload=function(){h||e(),function e(t,i){if(!t.contentDocument){var a=s(t);return a.checkForObjectDocumentTimeoutId&&window.clearTimeout(a.checkForObjectDocumentTimeoutId),void(a.checkForObjectDocumentTimeoutId=setTimeout((function(){a.checkForObjectDocumentTimeoutId=0,e(t,i)}),100))}i(t.contentDocument)}(this,(function(e){r(o)}))},i.isIE()||(n.data="about:blank"),s(o)&&(o.appendChild(n),s(o).object=n,i.isIE()&&(n.data="about:blank"))}s(o).startSize={width:p,height:_},n?n.add(m):m()}(o,r)},addListener:function(e,a){function n(){a(e)}if(i.isIE(8))s(e).object={proxy:n},e.attachEvent("onresize",n);else{var o=t(e);if(!o)throw new Error("Element is not detectable by this strategy.");o.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(s(e)){var a=t(e);a&&(i.isIE(8)?e.detachEvent("onresize",a.proxy):e.removeChild(a),s(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(s(e).checkForObjectDocumentTimeoutId),delete s(e).object)}}}}})),parcelRequire.register("cNsKO",(function(e,t){"use strict";var i=parcelRequire("k26VZ").forEach;e.exports=function(e){var t=function(e){n(e,_,m)},a=function(t){var i=e.important?" !important; ":"; ";return(t.join(i)+i).trim()},n=function(e,t,i){if(!e.getElementById(t)){var n=i+"_animation",s=i+"_animation_active",o="/* Created by the element-resize-detector library. */\n";o+="."+i+" > div::-webkit-scrollbar { "+a(["display: none"])+" }\n\n",o+="."+s+" { "+a(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+n,"animation-name: "+n])+" }\n",o+="@-webkit-keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(i,a){a=a||function(t){e.head.appendChild(t)};var n=e.createElement("style");n.innerHTML=i,n.id=t,a(n)}(o+="@keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}},s=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i);else{if(!e.attachEvent)return d.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+t,i)}},o=function(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i);else{if(!e.detachEvent)return d.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+t,i)}},r=function(e){return h(e).container.childNodes[0].childNodes[0].childNodes[0]},l=function(e){return h(e).container.childNodes[0].childNodes[0].childNodes[1]},d=(e=e||{}).reporter,u=e.batchProcessor,h=e.stateHandler.getState,c=(e.stateHandler.hasState,e.idHandler);if(!u)throw new Error("Missing required dependency: batchProcessor");if(!d)throw new Error("Missing required dependency: reporter.");var p=function(){var e=500,t=500,i=document.createElement("div");i.style.cssText=a(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var n=document.createElement("div");n.style.cssText=a(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),n.appendChild(i),document.body.insertBefore(n,document.body.firstChild);var s=e-n.clientWidth,o=t-n.clientHeight;return document.body.removeChild(n),{width:s,height:o}}(),_="erd_scroll_detection_scrollbar_style",m="erd_scroll_detection_container";return t(window.document),{makeDetectable:function(e,t,n){function o(){if(e.debug){var i=Array.prototype.slice.call(arguments);if(i.unshift(c.get(t),"Scroll: "),d.log.apply)d.log.apply(null,i);else for(var a=0;a<i.length;a++)d.log(i[a])}}function _(e){var t=h(e).container.childNodes[0],i=window.getComputedStyle(t);return!i.width||-1===i.width.indexOf("px")}function f(){var e=window.getComputedStyle(t),i={};return i.position=e.position,i.width=t.offsetWidth,i.height=t.offsetHeight,i.top=e.top,i.right=e.right,i.bottom=e.bottom,i.left=e.left,i.widthCSS=e.width,i.heightCSS=e.height,i}function y(){if(o("storeStyle invoked."),h(t)){var e=f();h(t).style=e}else o("Aborting because element has been uninstalled")}function v(e,t,i){h(e).lastWidth=t,h(e).lastHeight=i}function g(){return 2*p.width+1}function b(){return 2*p.height+1}function w(e){return e+10+g()}function k(e){return e+10+b()}function $(e,t,i){var a=r(e),n=l(e),s=w(t),o=k(i),d=function(e){return 2*e+g()}(t),u=function(e){return 2*e+b()}(i);a.scrollLeft=s,a.scrollTop=o,n.scrollLeft=d,n.scrollTop=u}function C(){var e=h(t).container;if(!e){(e=document.createElement("div")).className=m,e.style.cssText=a(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),h(t).container=e,e.className+=" "+m+"_animation_active",t.appendChild(e);var i=function(){h(t).onRendered&&h(t).onRendered()};s(e,"animationstart",i),h(t).onAnimationStart=i}return e}function S(){if(o("Injecting elements"),h(t)){!function(){var i=h(t).style;if("static"===i.position){t.style.setProperty("position","relative",e.important?"important":"");var a=function(e,t,i,a){var n=i[a];"auto"!==n&&"0"!==n.replace(/[^-\d\.]/g,"")&&(e.warn("An element that is positioned static has style."+a+"="+n+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+a+" will be set to 0. Element: ",t),t.style[a]=0)};a(d,t,i,"top"),a(d,t,i,"right"),a(d,t,i,"bottom"),a(d,t,i,"left")}}();var i=h(t).container;i||(i=C());var n,r,l,u,c=p.width,_=p.height,f=a(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),y=a(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(n=(n=-(1+c))?n+"px":"0"),"top: "+(r=(r=-(1+_))?r+"px":"0"),"right: "+(u=(u=-c)?u+"px":"0"),"bottom: "+(l=(l=-_)?l+"px":"0")])),v=a(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),g=a(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),b=a(["position: absolute","left: 0","top: 0"]),w=a(["position: absolute","width: 200%","height: 200%"]),k=document.createElement("div"),$=document.createElement("div"),S=document.createElement("div"),P=document.createElement("div"),A=document.createElement("div"),x=document.createElement("div");k.dir="ltr",k.style.cssText=f,k.className=m,$.className=m,$.style.cssText=y,S.style.cssText=v,P.style.cssText=b,A.style.cssText=g,x.style.cssText=w,S.appendChild(P),A.appendChild(x),$.appendChild(S),$.appendChild(A),k.appendChild($),i.appendChild(k),s(S,"scroll",D),s(A,"scroll",I),h(t).onExpandScroll=D,h(t).onShrinkScroll=I}else o("Aborting because element has been uninstalled");function D(){var e=h(t);e&&e.onExpand?e.onExpand():o("Aborting expand scroll handler: element has been uninstalled")}function I(){var e=h(t);e&&e.onShrink?e.onShrink():o("Aborting shrink scroll handler: element has been uninstalled")}}function P(){function a(t,i,a){var n=function(e){return r(e).childNodes[0]}(t),s=w(i),o=k(a);n.style.setProperty("width",s+"px",e.important?"important":""),n.style.setProperty("height",o+"px",e.important?"important":"")}function n(i){var n=t.offsetWidth,r=t.offsetHeight,l=n!==h(t).lastWidth||r!==h(t).lastHeight;o("Storing current size",n,r),v(t,n,r),u.add(0,(function(){if(l)if(h(t))if(s()){if(e.debug){var i=t.offsetWidth,u=t.offsetHeight;i===n&&u===r||d.warn(c.get(t),"Scroll: Size changed before updating detector elements.")}a(t,n,r)}else o("Aborting because element container has not been initialized");else o("Aborting because element has been uninstalled")})),u.add(1,(function(){h(t)?s()?$(t,n,r):o("Aborting because element container has not been initialized"):o("Aborting because element has been uninstalled")})),l&&i&&u.add(2,(function(){h(t)?s()?i():o("Aborting because element container has not been initialized"):o("Aborting because element has been uninstalled")}))}function s(){return!!h(t).container}function p(){o("notifyListenersIfNeeded invoked");var e=h(t);return void 0===h(t).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?o("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?o("Not notifying: Size already notified"):(o("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void i(h(t).listeners,(function(e){e(t)})))}function m(){o("Scroll detected."),_(t)?o("Scroll event fired while unrendered. Ignoring..."):n(p)}if(o("registerListenersAndPositionElements invoked."),h(t)){h(t).onRendered=function(){if(o("startanimation triggered."),_(t))o("Ignoring since element is still unrendered...");else{o("Element rendered.");var e=r(t),i=l(t);0!==e.scrollLeft&&0!==e.scrollTop&&0!==i.scrollLeft&&0!==i.scrollTop||(o("Scrollbars out of sync. Updating detector elements..."),n(p))}},h(t).onExpand=m,h(t).onShrink=m;var f=h(t).style;a(t,f.width,f.height)}else o("Aborting because element has been uninstalled")}function A(){if(o("finalizeDomMutation invoked."),h(t)){var e=h(t).style;v(t,e.width,e.height),$(t,e.width,e.height)}else o("Aborting because element has been uninstalled")}function x(){n(t)}function D(){var e;o("Installing..."),h(t).listeners=[],e=f(),h(t).startSize={width:e.width,height:e.height},o("Element start size",h(t).startSize),u.add(0,y),u.add(1,S),u.add(2,P),u.add(3,A),u.add(4,x)}var I,M,T;n||(n=t,t=e,e=null),e=e||{},o("Making detectable..."),T=(M=I=t).getRootNode&&M.getRootNode().contains(M),M!==M.ownerDocument.body&&!M.ownerDocument.body.contains(M)&&!T||null===window.getComputedStyle(I)?(o("Element is detached"),C(),o("Waiting until element is attached..."),h(t).onRendered=function(){o("Element is now attached"),D()}):D()},addListener:function(e,t){if(!h(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");h(e).listeners.push(t)},uninstall:function(e){var t=h(e);t&&(t.onExpandScroll&&o(r(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&o(l(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&o(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:t}}})),parcelRequire.register("i7nZI",(function(e,t){$parcel$export(e.exports,"default",(function(){return l})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG"),n=parcelRequire("8aMPH"),s=null,o={_data:{},getItem:function(e){return void 0!==e&&this._data.hasOwnProperty(String(e))?this._data[String(e)]:null},key:function(e){if(Object&&Object.keys&&void 0!==e&&e>=0){var t=Object.keys(this._data);return t&&t.length-1>e?t[e]:null}return null},setItem:function(e,t){void 0!==e&&(this._data.hasOwnProperty(e)||this.length++,this._data[String(e)]=String(t))},length:0,removeItem:function(e){void 0!==e&&this.hasOwnProperty(e)&&(delete this._data[e],this.length--)},hasOwnProperty:function(e){return this._data.hasOwnProperty(e)}};try{s=window.localStorage||null}catch(e){n.default("[LocalStorage] Not allowed to access window.localStorage (Cookies are probably disabled entirely)")}if(!s){var r=navigator&&navigator.cookieEnabled&&!0===navigator.cookieEnabled;r||(document.cookie="bb_test_cookies=1",-1!==document.cookie.indexOf("bb_test_cookies=")&&(r=!0,document.cookie="bb_test_cookies=1; expires=Thu, 01-Jan-1970 00:00:01 GMT")),r?(s={getItem:function(e){return void 0!==e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){void 0!==e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){void 0!==e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}}).length=(document.cookie.match(/\=/g)||s).length:(window.bluebillywig=window.bluebillywig||{},window.bluebillywig._localStoragePolyfill=window.bluebillywig._localStoragePolyfill||o,s=window.bluebillywig._localStoragePolyfill)}var l=function(e,t){this._opts=null,this.$element=null,this._disableCookies="false",this._inMemoryBackup=!1,this._store=null;try{this._store=s}catch(e){n.default("[LocalStorage] Could not load LocalStorage (third party cookies are probably disabled and we are running in an iFrame.")}void 0!==t&&null!=t&&(this._opts=t,void 0!==this._opts.playoutData&&this._opts.playoutData&&void 0!==this._opts.playoutData.disableCookies&&(this._disableCookies=this._opts.playoutData.disableCookies,"true"===this._disableCookies&&(this._store=o,this._inMemoryBackup=!0))),void 0!==e&&null!=e&&(this.$element=e,a.default.getService(this._opts.playerAliasOrId).setInstance("LocalStorage",this),this.$element.on("bb_playout_changed.localstorage",$parcel$interopDefault(i).proxy(this._onPlayoutChanged,this)))};l.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_playout_changed.localstorage"),a.default.getService(this._opts.playerAliasOrId).setInstance("LocalStorage",null)),this._opts=null,this.$element=null,null},l.prototype.set=function(e,t){var i=this._store;if(("true"!=this._disableCookies||"true"===this._disableCookies&&this._inMemoryBackup)&&void 0!==e&&null!=e&&""!=e&&void 0!==i&&null!=i&&JSON&&void 0!==JSON.stringify)try{e.match(/^bbtl_/)?i.setItem(e,t):i.setItem(e,JSON.stringify(t)),this.$element&&this.$element.trigger("bb_localstorage_updated",[{name:e,value:t}])}catch(e){}},l.prototype.get=function(e){var t=this._store;if(void 0!==e&&null!=e&&""!=e&&void 0!==t&&null!=t&&JSON&&void 0!==JSON.parse){var i=t.getItem(e);if(void 0!==i&&null!=i)try{return e.match(/^bbtl_/)?i:JSON.parse(i)}catch(e){}}return null},l.prototype.remove=function(e){var t=this._store;if(void 0!==e&&null!=e&&""!=e&&void 0!==t&&null!=t)for(var i in t)i==e&&(t.removeItem(i),this.$element&&this.$element.trigger("bb_localstorage_updated",[{name:e,value:null}]))},l.prototype._onPlayoutChanged=function(e,t){if(t&&void 0!==t.playoutData&&void 0!==t.playoutData.disableCookies)if(this._disableCookies=t.playoutData.disableCookies,"true"===this._disableCookies)this._store=o,this._inMemoryBackup=!0;else try{this._store=s,this._inMemoryBackup=!1}catch(e){n.default("[LocalStorage] Could not load LocalStorage (third party cookies are probably disabled and we are running in an iFrame.")}}})),parcelRequire.register("6dsac",(function(e,t){$parcel$export(e.exports,"default",(function(){return n})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG");parcelRequire("3di0y");var n=function(e,t){this.$element=null,this._opts=t,void 0!==e&&null!=e&&(this.$element=e,a.default.getService(this._opts.playerAliasOrId).setInstance("Sizer",this),this._init())};n.prototype._setupIframeComs=function(){var e=this;"function"==typeof window.postMessage?window.addEventListener("message",(function(t){e._onComsMessage(t.data)})):(this._windowProxy=new window.Porthole.WindowProxy(window.location.href),this._windowProxy.addEventListener((function(t){e._onComsMessage(t.data)}))),this._sendComsMessage("handshake")},n.prototype._onComsMessage=function(e){"handshakeSucceeded"!=e&&"handshake"!=e||(this._haveWindowProxy=!0),"parentCancelFullscreen"==e&&this._retractFullBrowser()},n.prototype._sendComsMessage=function(e){var t;if(null===(t=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections"))||void 0===t?void 0:t.inIframe){var i=window.location.href,n=(i="*").match(/#!.*referrer=([^&]+)/);null!=n&&n.length>1&&(i=decodeURIComponent(n[1])),this._topWindowAccess||("function"==typeof window.postMessage?window.parent.postMessage(e,i):this._windowProxy.post("handshake",i))}},n.prototype._iFrameSetup=function(){try{this._addIframeProps(window)&&window.parent!=window.top&&this._addIframeProps(window.parent)&&window.parent.parent!=window.top&&this._addIframeProps(window.parent.parent)&&window.parent.parent.parent!=window.top&&this._addIframeProps(window.parent.parent.parent)&&window.parent.parent.parent.parent!=window.top&&this._addIframeProps(window.parent.parent.parent.parent)}catch(e){this._setupIframeComs()}},n.prototype._addIframeProps=function(e){var t=!1,i=e.parent.document.getElementsByTagName("iframe"),a=null;if(void 0!==i&&null!=i)for(var n in i)parseInt(n)>=0&&i[n]&&i[n].contentWindow==e&&(a=i[n]);return a&&(a.setAttribute("webkitallowfullscreen",""),a.setAttribute("mozallowFullscreen",""),a.setAttribute("oallowFullscreen",""),a.setAttribute("msallowFullscreen",""),a.setAttribute("allowfullscreen",""),e.parent==window.top&&(this._topWindowAccess=!0),this._parentIframes.push({iframe:a,oldStyle:null}),t=!0),t},n.prototype._init=function(){var e,t,s,o,r;this._parentIframes=[],this._topWindowAccess=!1;this._opts;this.$initialViewport=$parcel$interopDefault(i)('head meta[name="viewport"]'),this._haveWindowProxy=!1,(null===(e=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections"))||void 0===e?void 0:e.inIframe)&&this._iFrameSetup(),this._watcher,this._highWatchRate=!0,this._width,this._height,this._originalViewport=null,this._oldStyle=null,this._oldIframeStyle=null,this._playoutWidth=this._opts.playerWidth,this._playoutHeight=this._opts.playerHeight,this._avoidNativeFullscreen=!1,this._forceNativeFullscreen=!1,this._forceIOSNativeVideo=!1,this._forceAndroidNativeVideo=!1,this.fullscreen=!1,this._opts&&this._opts.embedData&&(this._adUnitEmbed="a"===this._opts.embedData.appIndicator||"a"===this._opts.embedData.contentIndicator),this._playout=this._opts&&this._opts.playoutData?this._opts.playoutData:null,null!=this._playout&&(this._playoutWidth=this._playout.width,this._playoutHeight=this._playout.height,this._avoidNativeFullscreen="true"===this._playout.avoidNativeFullscreen,this._forceNativeFullscreen="true"===this._playout.forceNativeFullscreen,this._forceIOSNativeVideo="true"===this._playout.forceIOSNativeVideo,this._forceAndroidNativeVideo="true"===this._playout.forceAndroidNativeVideo),this._showState="expanded",null!=this._playout&&"true"==this._playout.startCollapsed&&(this._showState="collapsed");var l=null===(t=this._playout)||void 0===t?void 0:t.width,d=null===(s=this._playout)||void 0===s?void 0:s.height,u="true"===(null===(o=this._playout)||void 0===o?void 0:o.autoHeight),h="true"===(null===(r=this._playout)||void 0===r?void 0:r.responsiveSizing);(h||void 0===d)&&(u=!0),this._percentagePlayer=(null==l?void 0:l.indexOf("%"))>-1&&(null==d?void 0:d.indexOf("%"))>-1&&!u&&!h;var c=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections");c&&(this._isiOS=c.isiOS,this._isAndroid=c.isAndroid,this._useiOS13Sizing=c.isiPhone&&c.iOSVersion>=13),this._opts&&(this._playInline=this._determinePlayInline(this._opts.clipData)),this.setWrapperSize(this._playoutWidth,this._playoutHeight),null!=this.$element&&(this._api=a.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this.$element.on("bb_playout_changed.Sizer",$parcel$interopDefault(i).proxy(this._onPlayoutChanged,this)),this.$element.on("bb_subtitle_changed.Sizer",$parcel$interopDefault(i).proxy(this._onSubtitleChanged,this)),this.$element.on("fullscreenchange.Sizer",$parcel$interopDefault(i).proxy(n.prototype._onFullscreenChange,this)),this.$element.on("fullscreenchanged.Sizer",$parcel$interopDefault(i).proxy(n.prototype._onFullscreenChange,this)),this.$element.on("webkitfullscreenchange.Sizer",$parcel$interopDefault(i).proxy(n.prototype._onFullscreenChange,this)),$parcel$interopDefault(i)(document).on("MSFullscreenChange.Sizer",$parcel$interopDefault(i).proxy(n.prototype._onFullscreenChange,this)),$parcel$interopDefault(i)(document).on("mozfullscreenchange.Sizer",$parcel$interopDefault(i).proxy(n.prototype._onFullscreenChange,this)),this.$element.on("loadedclipdata.Sizer",$parcel$interopDefault(i).proxy(n.prototype._onLoadedClipData,this)),this.$element.on("ready.Sizer",$parcel$interopDefault(i).proxy(n.prototype._onReady,this)),this._useiOS13Sizing&&$parcel$interopDefault(i)(window).on("resize.Sizer",$parcel$interopDefault(i).proxy(n.prototype._onResizeiOS13,this)))},n.prototype._determinePlayInline=function(e){var t=!1;return e&&(t="true"===e.shouldPlayInline||!0===e.shouldPlayInline,e.timelines&&e.timelines.length>=1&&(t=!0),"true"!==e.cubemapVideo&&!0!==e.cubemapVideo&&"360video"!==e.subtype&&!0!==e.isThreeSixtyVideo&&"true"!==e.isThreeSixtyVideo||(t=!0),e.subtitles&&e.subtitles.length>0&&this._hasSubtitlesOn&&(this._isiOS||this._isAndroid)&&(t=!0)),this._avoidNativeFullscreen&&(this._isiOS||this._isAndroid)&&(t=!0),t},n.prototype._onLoadedClipData=function(e,t){t&&(this._playInline=this._determinePlayInline(t.clipData)),this._adUnitEmbed||this.$element.triggerHandler("bb_resized")},n.prototype._onReady=function(e){this._adUnitEmbed||this.$element.triggerHandler("bb_resized"),this._api||(this._api=a.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"))},n.prototype._onFullscreenChange=function(e){this._isRealFullscreen=!!(document.fullscreenElement||document.fullScreenElement||document.mozFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.webkitFullScreenElement||document.msFullscreenElement),!this._isRealFullscreen&&this.fullscreen&&this.retractFullscreen(),this.$element.triggerHandler("bb_resized")},n.prototype._onFullscreenBegan=function(e){this.$element.triggerHandler("bb_resized")},n.prototype._onFullscreenEnded=function(e){this._isRealFullscreen=!1,!this._isRealFullscreen&&this.fullscreen&&this.retractFullscreen(),this.$element.triggerHandler("bb_resized")},n.prototype._onResizeiOS13=function(e){if(this.fullscreen)if(this._useiOS13Sizing){var t;try{t=window.top.innerHeight}catch(e){t=window.innerHeight}this.setWrapperSize("100vw",(t||window.innerHeight)+"px",!0)}else this.setWrapperSize("100%","100%",!0)},n.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_playout_changed.Sizer"),this.$element.off("bb_subtitle_changed.Sizer"),this.$element.off("fullscreenchange.Sizer"),this.$element.off("fullscreenchanged.Sizer"),this.$element.off("webkitfullscreenchange.Sizer"),$parcel$interopDefault(i)(document).off("MSFullscreenChange.Sizer"),$parcel$interopDefault(i)(document).off("mozfullscreenchange.Sizer"),this._useiOS13Sizing&&$parcel$interopDefault(i)(window).off("resize.Sizer"),a.default.getService(this._opts.playerAliasOrId).setInstance("Sizer",null)),this._watcher&&cancelAnimationFrame(this._watcher),null},n.prototype._onPlayoutDataLoaded=function(){this.fullscreen||this.setWrapperSize(this._playoutWidth,this._playoutHeight)},n.prototype.setWrapperSize=function(e,t,i){(e||0==e)&&e.toString().match(/^[\d.+-\s]+$/)&&(e=parseFloat(e).toString()+"px"),(t||0==t)&&t.toString().match(/^[\d.+-\s]+$/)&&(t=parseFloat(t).toString()+"px"),a.default.getService(this._opts.playerAliasOrId).getInstance("Interactivity")&&(this._showState=a.default.getService(this._opts.playerAliasOrId).getInstance("Interactivity").getShowState());var n=this.$element.parent();if(n.hasClass("bb_iawr")){if("collapsed"!=this._showState){var s=n.find(".bb-above");s.length>0&&!i?n.css({height:"calc("+t+" + "+s.height()+"px)"}):n.css({height:t}),this._percentagePlayer&&(n[0].style.minHeight=t);var o=t&&-1!==t.indexOf("%")?"100%":t;this.$element.css({height:o})}n.css({width:e});var r=e&&-1!==e.indexOf("%")?"100%":e;this.$element.css({width:r})}else this.$element.css({height:t,width:e});this.$element.trigger("bb_resized")},n.prototype.increaseWatchRate=function(){this._highWatchRate=!0},n.prototype.decreaseWatchRate=function(){cancelAnimationFrame(this._watcher),this._highWatchRate=!1},n.prototype.expandFullscreen=function(){this.fullscreen=!0,this._html5Fullscreen(),this.$element.triggerHandler("bb_fullscreen_change",[{fullscreen:this.fullscreen}])},n.prototype.retractFullscreen=function(){this.fullscreen=!1,this._retractHtml5Fullscreen(),this.$element.triggerHandler("bb_fullscreen_change",[{fullscreen:this.fullscreen}])},n.prototype.isFullscreen=function(){return this.fullscreen},n.prototype._html5Fullscreen=function(){if(this._requestFullScreen(this.$element[0]),this._useiOS13Sizing){var e;try{e=window.top.innerHeight}catch(t){e=window.innerHeight}this.setWrapperSize("100vw",(e||window.innerHeight)+"px",!0)}else this.setWrapperSize("100%","100%",!0)},n.prototype._retractHtml5Fullscreen=function(){this._cancelFullScreen(this.$element[0]),this.setWrapperSize(this._playoutWidth,this._playoutHeight)},n.prototype._iframesFullBrowser=function(){for(var e=0;e<this._parentIframes.length;e++){var t,a=this._parentIframes[e].iframe;if(null==this._parentIframes[e].oldStyle){var n={};n.position=a.style.position,n.width=a.style.width,n.height=a.style.height,n.top=a.style.top,n.left=a.style.left,n.zIndex=a.style.zIndex,n.element_width=a.width,n.element_height=a.height,this._parentIframes[e].oldStyle=n}try{t=window.top.innerHeight}catch(e){t=window.innerHeight}$parcel$interopDefault(i)(a).css({position:"fixed",top:"0",left:"0",bottom:"0",right:"0",zIndex:"2147483646",width:this._useiOS13Sizing?"100vw":"100%",height:this._useiOS13Sizing?(t||window.innerHeight)+"px":"100%"})}},n.prototype._retractIframesFullBrowser=function(){for(var e=0;e<this._parentIframes.length;e++){var t=this._parentIframes[e].iframe;if(null!=this._parentIframes[e].oldStyle){var i=this._parentIframes[e].oldStyle;t.style.position=i.position,t.style.width=i.width,t.style.height=i.height,t.style.top=i.top,t.style.left=i.left,t.style.zIndex=i.zIndex,t.width=i.element_width,t.height=i.element_height,this._parentIframes[e].oldStyle=null}}},n.prototype._fullBrowser=function(e){var t=this.$element[0];if(this._topWindowAccess?this._iframesFullBrowser():this._sendComsMessage("fullbrowser"),null==this._oldStyle&&(this._oldStyle={},this._oldStyle.position=t.style.position,this._oldStyle.width=t.style.width,this._oldStyle.height=t.style.height,this._oldStyle.top=t.style.top,this._oldStyle.left=t.style.left,this._oldStyle.bottom=t.style.bottom,this._oldStyle.right=t.style.right,this._oldStyle.zIndex=t.style.zIndex,this._oldStyle.element_width=t.width,this._oldStyle.element_height=t.height),$parcel$interopDefault(i)(document).on("keydown.Sizer",$parcel$interopDefault(i).proxy(n.prototype._onKeyDown,this)),$parcel$interopDefault(i)(t).css({position:"fixed",top:"0",left:"0",bottom:"0",right:"0",zIndex:"999999"}),this._lockZoom(!0),this._useiOS13Sizing){var a;try{a=window.top.innerHeight}catch(e){a=window.innerHeight}this.setWrapperSize("100vw",(a||window.innerHeight)+"px",!0)}else this.setWrapperSize("100%","100%",!0);this.fullscreen=!0,e||this.$element.triggerHandler("bb_fullscreen_change",[{fullscreen:this.fullscreen}])},n.prototype._retractFullBrowser=function(e){var t=this.$element[0];this._topWindowAccess&&this._retractIframesFullBrowser(),this._sendComsMessage("fullbrowser-off"),null!=this._oldStyle&&(t.style.position=this._oldStyle.position,t.style.width=this._oldStyle.width,t.style.height=this._oldStyle.height,t.style.top=this._oldStyle.top,t.style.left=this._oldStyle.left,t.style.bottom=this._oldStyle.bottom,t.style.right=this._oldStyle.right,t.style.zIndex=this._oldStyle.zIndex,t.width=this._oldStyle.element_width,t.height=this._oldStyle.element_height,this._oldStyle=null),this._lockZoom(!1),this.setWrapperSize(this._playoutWidth,this._playoutHeight),this.fullscreen=!1,e||this.$element.triggerHandler("bb_fullscreen_change",[{fullscreen:this.fullscreen}])},n.prototype._vendorPrefixes=["o","ms","moz","webkit","khtml"],n.prototype._requestFullScreen=function(e){if(this._haveWindowProxy)return this._fullBrowser();if((this._forceNativeFullscreen||this._forceIOSNativeVideo&&this._isiOS&&!this._playInline||this._forceAndroidNativeVideo&&this._isAndroid&&!this._playInline)&&this._api&&this._api.nativeFullscreen())return!0;this._fullBrowser(!0),this._sendComsMessage("fullscr");var t=!1;if(e){var i=null;if("function"==typeof e.requestFullscreen)i="requestFullscreen";else if("function"==typeof e.requestFullScreen)i="requestFullScreen";else if("function"==typeof e.enterFullscreen)i="enterFullscreen";else if("function"==typeof e.enterFullScreen)i="enterFullScreen";else for(var a=["o","ms","moz","webkit","khtml"],n=0;n<a.length&&!i;n++){var s=a[n];"function"==typeof e[s+"RequestFullscreen"]?i=s+"RequestFullscreen":"function"==typeof e[s+"RequestFullScreen"]?i=s+"RequestFullScreen":"function"==typeof e[s+"EnterFullscreen"]?i=s+"EnterFullscreen":"function"==typeof e[s+"EnterFullScreen"]&&(i=s+"EnterFullScreen")}if(i)try{var o=e[i]();void 0!==o&&o.then&&o.then((function(){})).catch((function(e){})),t=!0}catch(e){}}return t||this._haveWindowProxy||this._playInline||!this._api||(t=this._api.nativeFullscreen()),t||(t=this._fullBrowser()),t},n.prototype._cancelFullScreen=function(){if(this._haveWindowProxy)return this._retractFullBrowser();if(this._forceNativeFullscreen||this._forceIOSNativeVideo&&this._isiOS&&!this._playInline||this._forceAndroidNativeVideo&&this._isAndroid&&!this._playInline)return!0;if(this._retractFullBrowser(!0),this._sendComsMessage("cancelfullscr"),this._isRealFullscreen)if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullscreen)document.cancelFullscreen();else{if(!document.cancelFullScreen){for(var e=0;e<this._vendorPrefixes.length;e++){var t=this._vendorPrefixes[e];if(void 0!==document[t+"ExitFullscreen"])return document[t+"ExitFullscreen"]();if(void 0!==document[t+"CancelFullscreen"])return document[t+"CancelFullscreen"]();if(void 0!==document[t+"CancelFullScreen"])return document[t+"CancelFullScreen"]()}return this._retractFullBrowser()}document.cancelFullScreen()}},n.prototype._lockZoom=function(e){e?(this._locked=!0,this.$initialViewport.length>0&&(this._originalViewport=$parcel$interopDefault(i)(this.$initialViewport[0]).attr("content"),this.$initialViewport.remove()),this.$metaViewport=$parcel$interopDefault(i)('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=1" />'),$parcel$interopDefault(i)("head").bb_prependSanitized(this.$metaViewport)):this._locked&&(void 0!==this.$metaViewport&&this.$metaViewport.length>0&&this.$metaViewport.remove(),this._originalViewport||(this._originalViewport=""),$parcel$interopDefault(i)("head").bb_prependSanitized('<meta name="viewport" content="'+this._originalViewport+'" />'))},n.prototype._onPlayoutChanged=function(e,t){if(t&&void 0!==t.playoutData&&(void 0!==t.playoutData.width&&(this._playoutWidth=t.playoutData.width),void 0!==t.playoutData.height&&(this._playoutHeight=t.playoutData.height),void 0!==t.playoutData.startCollapsed&&(this._showState="true"==t.playoutData.startCollapsed?"collapsed":"expanded"),void 0!==t.playoutData.width||void 0!==t.playoutData.height||void 0!==t.playoutData.autoHeight||void 0!==t.playoutData.responsiveSizing)){var i,a,n=void 0!==t.playoutData.width?t.playoutData.width:this._playoutWidth,s=void 0!==t.playoutData.height?t.playoutData.height:this._playoutHeight,o=void 0!==t.playoutData.autoHeight?"true"===t.playoutData.autoHeight:"true"===(null===(i=this._playout)||void 0===i?void 0:i.autoHeight),r=void 0!==t.playoutData.responsiveSizing?"true"===t.playoutData.responsiveSizing:"true"===(null===(a=this._playout)||void 0===a?void 0:a.responsiveSizing);(r||void 0===s)&&(o=!0),this._percentagePlayer=(null==n?void 0:n.indexOf("%"))>-1&&(null==s?void 0:s.indexOf("%"))>-1&&!o&&!r}},n.prototype._onSubtitleChanged=function(e,t){t&&t.subtitle&&(this._hasSubtitlesOn=t.subtitle.id&&"-1"!=t.subtitle.id)},n.prototype._onKeyDown=function(e){if(27===e.keyCode)this.retractFullscreen();$parcel$interopDefault(i)(document).off("keydown.Sizer")}})),parcelRequire.register("3di0y",(function(e,t){!function(t){var i=!1,a=/xyz/.test((function(){}))?/\b_super\b/:/.*/,n=function(){};n.extend=function(e){var t=function(){!i&&this.init&&this.init.apply(this,arguments)},s=this.prototype;i=!0;var o=new this;for(var r in i=!1,e)o[r]="function"==typeof e[r]&&"function"==typeof s[r]&&a.test(e[r])?function(e,t){return function(){var i=this._super;this._super=s[e];var a=t.apply(this,arguments);return this._super=i,a}}(r,e[r]):e[r];return(t.prototype=o).constructor=t,t.extend=n.extend,t};var s={debug:!1,trace:function(e){this.debug&&void 0!==t.console&&t.console.log("Porthole: "+e)},error:function(e){t.console,"function"==typeof t.console.error&&t.console.error("Porthole: "+e)},WindowProxy:function(){}};s.WindowProxy.prototype={post:function(e,t){},addEventListener:function(e){},removeEventListener:function(e){}},s.WindowProxyBase=n.extend({init:function(e){void 0===e&&(e=""),this.targetWindowName=e,this.origin=t.location.protocol+"//"+t.location.host,this.eventListeners=[]},getTargetWindowName:function(){return this.targetWindowName},getOrigin:function(){return this.origin},getTargetWindow:function(){return s.WindowProxy.getTargetWindow(this.targetWindowName)},post:function(e,i){void 0===i&&(i="*"),this.dispatchMessage({data:e,sourceOrigin:this.getOrigin(),targetOrigin:i,sourceWindowName:t.name,targetWindowName:this.getTargetWindowName()})},addEventListener:function(e){return this.eventListeners.push(e),e},removeEventListener:function(e){var t;try{t=this.eventListeners.indexOf(e),this.eventListeners.splice(t,1)}catch(e){this.eventListeners=[]}},dispatchEvent:function(e){var t;for(t=0;t<this.eventListeners.length;t++)try{this.eventListeners[t](e)}catch(e){s.error(e)}}}),s.WindowProxyLegacy=s.WindowProxyBase.extend({init:function(e,t){this._super(t),null!==e?(this.proxyIFrameName=this.targetWindowName+"ProxyIFrame",this.proxyIFrameLocation=e,this.proxyIFrameElement=this.createIFrameProxy()):(this.proxyIFrameElement=null,s.trace("proxyIFrameUrl is null, window will be a receiver only"),this.post=function(){throw new Error("Receiver only window")})},createIFrameProxy:function(){var e=document.createElement("iframe");return e.setAttribute("id",this.proxyIFrameName),e.setAttribute("name",this.proxyIFrameName),e.setAttribute("src",this.proxyIFrameLocation),e.setAttribute("frameBorder","1"),e.setAttribute("scrolling","auto"),e.setAttribute("width",30),e.setAttribute("height",30),e.setAttribute("style","position: absolute; left: -100px; top:0px;"),e.style.setAttribute&&e.style.setAttribute("cssText","position: absolute; left: -100px; top:0px;"),document.body.appendChild(e),e},dispatchMessage:function(e){var i=t.encodeURIComponent;if(this.proxyIFrameElement){var a=this.proxyIFrameLocation+"#"+i(s.WindowProxy.serialize(e));this.proxyIFrameElement.setAttribute("src",a),this.proxyIFrameElement.height=this.proxyIFrameElement.height>50?50:100}}}),s.WindowProxyHTML5=s.WindowProxyBase.extend({init:function(e,t){this._super(t),this.eventListenerCallback=null},dispatchMessage:function(e){this.getTargetWindow().postMessage(s.WindowProxy.serialize(e),e.targetOrigin)},addEventListener:function(e){if(0===this.eventListeners.length){var i=this;t.addEventListener?(this.eventListenerCallback=function(e){i.eventListener(i,e)},t.addEventListener("message",this.eventListenerCallback,!1)):t.attachEvent&&(this.eventListenerCallback=function(e){i.eventListener(i,t.event)},t.attachEvent("onmessage",this.eventListenerCallback))}return this._super(e)},removeEventListener:function(e){this._super(e),0===this.eventListeners.length&&(t.removeEventListener?t.removeEventListener("message",this.eventListenerCallback):t.detachEvent&&(void 0===t.onmessage&&(t.onmessage=null),t.detachEvent("onmessage",this.eventListenerCallback)),this.eventListenerCallback=null)},eventListener:function(e,t){var i=s.WindowProxy.unserialize(t.data);!i||""!==e.targetWindowName&&i.sourceWindowName!=e.targetWindowName||e.dispatchEvent(new s.MessageEvent(i.data,t.origin,e))}}),t.postMessage?(s.trace("Using built-in browser support"),s.WindowProxy=s.WindowProxyHTML5.extend({})):(s.trace("Using legacy browser support"),s.WindowProxy=s.WindowProxyLegacy.extend({})),s.WindowProxy.serialize=function(e){if("undefined"==typeof JSON)throw new Error("Porthole serialization depends on JSON!");return JSON.stringify(e)},s.WindowProxy.unserialize=function(e){if("undefined"==typeof JSON)throw new Error("Porthole unserialization dependens on JSON!");try{var t=JSON.parse(e)}catch(e){return!1}return t},s.WindowProxy.getTargetWindow=function(e){return""===e?parent:"top"===e||"parent"===e?t[e]:t.frames[e]},s.MessageEvent=function(e,t,i){this.data=e,this.origin=t,this.source=i},s.WindowProxyDispatcher={forwardMessageEvent:function(e){var i,a,n,o=t.decodeURIComponent;document.location.hash.length>0&&(i=s.WindowProxy.unserialize(o(document.location.hash.substr(1))),a=s.WindowProxy.getTargetWindow(i.targetWindowName),(n=s.WindowProxyDispatcher.findWindowProxyObjectInWindow(a,i.sourceWindowName))?n.origin===i.targetOrigin||"*"===i.targetOrigin?n.dispatchEvent(new s.MessageEvent(i.data,i.sourceOrigin,n)):s.error("Target origin "+n.origin+" does not match desired target of "+i.targetOrigin):s.error("Could not find window proxy object on the target window"))},findWindowProxyObjectInWindow:function(e,t){var i;if(e)for(i in e)if(Object.prototype.hasOwnProperty.call(e,i))try{if(null!==e[i]&&"object"==typeof e[i]&&e[i]instanceof e.Porthole.WindowProxy&&e[i].getTargetWindowName()===t)return e[i]}catch(e){}return null},start:function(){t.addEventListener?t.addEventListener("resize",s.WindowProxyDispatcher.forwardMessageEvent,!1):t.attachEvent&&"undefined"!==t.postMessage||document.body.attachEvent?t.attachEvent("onresize",s.WindowProxyDispatcher.forwardMessageEvent):s.error("Cannot attach resize event")}},e.exports=s}("undefined"!=typeof window?window:e.exports)})),parcelRequire.register("gVOTG",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG"),n=parcelRequire("8aMPH"),s=function(e,t){var n,o,r,l,d,u;if(this.$element=null,this._playerId="",this._playerAlias="",this._plc=null,this._pc=null,this._headController=null,this._sc=null,this._ls=null,this._browserLanguage=window.navigator.userLanguage||window.navigator.language,this._opts=void 0!==t?t:null,(null===(n=this._opts)||void 0===n?void 0:n.publicationData)&&(this._opts.publicationData.server=this._opts.publicationData.baseurl),(null===(o=this._opts)||void 0===o?void 0:o.playoutData)&&(null===(r=this._opts)||void 0===r?void 0:r.embedData)&&(this._playerId="/p/"+this._opts.playoutData.label+"/"+this._opts.embedData.contentIndicator+"/"+this._opts.embedData.contentId),(null===(l=this._opts)||void 0===l?void 0:l.alias)&&(this._playerAlias=this._opts.alias),this._autoPlay="true"===(null===(d=this._opts.playoutData)||void 0===d?void 0:d.autoPlay),e.data("flags",e.data("flags")||{}),this._playout=(null===(u=this._opts)||void 0===u?void 0:u.playoutData)?$parcel$interopDefault(i).extend({},this._opts.playoutData):null,this._currentAd=null,this._clip=null,this._headType=null,this._commercialHeadType=null,this._canPlay=!1,this._phase=null,this._mode=null,this._state=null,this._commercialDuration=null,this._detections=null,this._msasController=null,this._fullscreen=!1,this._beforeUnload=!1,this._timeEqual=0,this._haveplayed=!1,this._adLogs=[],this._pendingNonUserPlay=this._autoPlay,this._phases=["bb-phase-init","bb-phase-pre","bb-phase-main","bb-phase-post","bb-phase-exit"],this._modes=["bb-mode-commercial","bb-mode-audio","bb-mode-video"],this._states=["bb-state-idle","bb-state-paused","bb-state-error","bb-state-playing","bb-state-loading"],this._adPodInfo=null,this._ready=!1,this._started=!1,this._state="idle",this._playing=!1,this._ended=!1,this._areBoundToTouchstart=!1,this._playing_med=!1,this._playing_com=!1,this._paused_com=!1,this._loadedplayoutdata=!1,this._loadedclipdata=!1,e){this.$element=e;var h=a.default.getService(this._opts.playerAliasOrId);null==h||h.setInstance("PublicAPI",this),this._$skinLayer=null;var c=this.getSkinLayer();for(var p in c&&(this._$skinLayer=$parcel$interopDefault(i)(c)),h&&(void 0!==h.getInstance("PlayoutController")&&(this._plc=h.getInstance("PlayoutController")),void 0!==h.getInstance("ProgramController")&&(this._pc=h.getInstance("ProgramController")),void 0!==h.getInstance("HeadController")&&(this._headController=h.getInstance("HeadController")),void 0!==h.getInstance("SoundController")&&(this._sc=h.getInstance("SoundController")),void 0!==h.getInstance("LocalStorage")&&(this._ls=h.getInstance("LocalStorage")),void 0!==h.getInstance("Detections")&&(this._detections=h.getInstance("Detections")),void 0!==h.getInstance("MSASController")&&(this._msasController=h.getInstance("MSASController")),void 0!==h.getInstance("Sizer")&&(this._sizer=h.getInstance("Sizer")),void 0!==h.getInstance("Interactivity")&&(this._interactivity=h.getInstance("Interactivity"))),this.$element.get(0).call=$parcel$interopDefault(i).proxy(s.prototype._call,this),this._eventBindings={bb_ad_loaded:this._onAdLoaded.bind(this),bb_playout_loaded:this._onPlayoutLoaded.bind(this),bb_playout_changed:this._onPlayoutChanged.bind(this),bb_mediaclip_loaded:this._onClipLoaded.bind(this),bb_phase_change:this._onPhaseChange.bind(this),bb_head_selected:this._onHeadSelected.bind(this),bb_commercial_head_selected:this._onCommercialHeadSelected.bind(this),bb_program_play:this._onPlay.bind(this),bb_program_autopause:this._onAutoPause.bind(this),bb_master_volume_change:this._onVolumeChange.bind(this),bb_commercial_loadstart:this._onCommercialLoadStart.bind(this),bb_commercial_playing:this._onCommercialPlaying.bind(this),bb_commercial_paused:this._onCommercialPaused.bind(this),bb_commercial_ended:this._onCommercialEnded.bind(this),bb_commercial_stalled:this._onStalled.bind(this),bb_commercial_timeupdate:this._onTimeUpdate.bind(this),bb_commercial_duration_change:this._onCommercialDurationChange.bind(this),bb_error:this._onError.bind(this),bb_resized:this._onResized.bind(this),bb_inview:this._onInview.bind(this),bb_outview:this._onOutview.bind(this),bb_flagchange:this._onFlagChange.bind(this),bb_fullscreen_change:this._onFullscreenChange.bind(this),bb_fullscreen_mismatch:this._onFullScreenMismatch.bind(this),bb_ad_log:this._onAdLog.bind(this),bb_adsystem_quartile:this._onAdQuartile.bind(this),bb_to_sticky_position:this._onFloatStart.bind(this),bb_returned_from_sticky_position:this._onFloatEnd.bind(this),bb_autoplay_check_ready:this._onAutoPlayCheckReady.bind(this),bb_adsystem_noad:this._onAdError.bind(this),bb_adsystem_failed:this._onAdError.bind(this),bb_adsystem_loaded:this._onAdSystemLoaded.bind(this),bb_collapsed:this._onCollapsed.bind(this),bb_expanded:this._onExpanded.bind(this),bb_mouseover_x_s:this._onMouseOverXS.bind(this)},this._eventBindings)this.$element.on(p,this._eventBindings[p]);this._onBeforeUnloadBound=this._onBeforeUnload.bind(this),window.addEventListener("beforeunload",this._onBeforeUnloadBound),this._ready=!0,this._sc&&(this._sc.getMuted()?(this.$element.addClass("bb-muted"),this._$skinLayer&&this._$skinLayer.addClass("bb-muted")):(this.$element.removeClass("bb-muted"),this._$skinLayer&&this._$skinLayer.removeClass("bb-muted")),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"volumechange"))}};s.prototype.exit=function(){if(this.$element){for(var e in this._eventBindings)this.$element.off(e,this._eventBindings[e]);window.off("beforeunload",this._onBeforeUnloadBound),a.default.getService(this._opts.playerAliasOrId).setInstance("PublicAPI",null)}return null},s.prototype.reset=function(){this._clip=null,this._canPlay=!1,this._phase=null,this._mode=null,this._state=null,this._commercialDuration=0,this._timeEqual=0,this._haveplayed=!1,this._adPodInfo=null,this._state="idle",this._playing=!1,this._playing_med=!1,this._playing_com=!1},s.prototype.on=function(e,t){if(!e||"function"!=typeof t)return!1;for(var i=e.split(" "),a=0;a<i.length;a++){if(null!=i[a].match(/^bb_/))return!1;i[a].indexOf(".")<0&&(i[a]+=".external"+this._eventNS)}var n=i.join(" ");this.$element.on(n,t);for(var s=0;s<i.length;s++)switch(i[s].split(".")[0]){case"ready":this._ready&&t();break;case"loadedplayoutdata":this._loadedplayoutdata&&t();break;case"loadedclipdata":this._loadedclipdata&&t();break;case"error":"error"===this._state&&t()}},s.prototype.off=function(e){for(var t=e.split(" "),i=0;i<t.length;i++){if(null!=t[i].match(/^bb_/))return!1;t[i].indexOf(".")<0&&(t[i]+=".external"+this._eventNS)}var a=t.join(" ");this.$element.off(a)},s.prototype.load=function(e){var t=!1;if(this.reset(),this._pc)if(void 0!==e&&null!=e){this._pc.pause();var i=null,n="c";void 0!==e.clipId&&(i=e.clipId,n="c"),void 0===e.initiator&&(e.initiator="external"),void 0===e.autoPlay&&(e.autoPlay=!0),i?(!0!==e.autoPlay&&"true"!==e.autoPlay||(this.$element.addClass("bb-pendingplay"),this._$skinLayer&&this._$skinLayer.addClass("bb-pendingplay")),t=this._pc.load(i,n,e)):"object"==typeof e.clipData?t=this._pc.loadData(e.clipData,e):"object"==typeof e.adServicesData&&(t=this._pc.loadData(e.adServicesData,e))}else{var s;t=this._pc.unload(),null===(s=a.default.getService(this._opts.playerAliasOrId).getInstance("BlueBillywigStatisticsLogger"))||void 0===s||s.reset()}return window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"timeupdate"),t},s.prototype.preloadAds=function(e,t){var i;return(null===(i=this._pc)||void 0===i?void 0:i.preloadAds(e,t))||!1},s.prototype.play=function(e){var t;return e||(n.default("[PublicAPI] play non-user action"),(this._autoPlayAdvancedCheckCanAutoPlay||this.getMuted())&&this._autoPlayAdvancedCheckCanAutoPlayMuted?(this._autoPlayAdvancedCheckCanAutoPlay=!1,this._autoPlayAdvancedCheckCanAutoPlayMuted=!1,this._pendingNonUserPlay=!1):this._pendingNonUserPlay=!0),(null===(t=this._pc)||void 0===t?void 0:t.play(e))||!1},s.prototype.pause=function(){var e;return this._pendingNonUserPlay=!1,this._bindString&&(this._areBoundToTouchstart=!1,$parcel$interopDefault(i)(window).off(this._bindString),this._bindString=null),(null===(e=this._pc)||void 0===e?void 0:e.pause())||!1},s.prototype.seek=function(e){var t;return"EXIT"===this._phase&&this.play(),(null===(t=this._pc)||void 0===t?void 0:t.seek(e))||!1},s.prototype.setFlag=function(e,t){var i=!1;if("string"==typeof e){var a={};a[e]=t,this.$element&&(this.$element.triggerHandler("bb_flagchange",[a]),i=!0)}return i},s.prototype.setVolume=function(e){var t;return e=e>1?Math.min(e/100,1):e,(null===(t=this._sc)||void 0===t?void 0:t.setVolume(e))||!1},s.prototype.setMuted=function(e,t,i){var a;return this.$element.trigger("bb_api_called",[{method:"setMuted",muted:e,userAction:i}]),(null===(a=this._sc)||void 0===a?void 0:a.setMuted(e,t,i))||!1},s.prototype.setProgramVolume=function(e){var t;return e=e>1?Math.min(e/100,1):e,(null===(t=this._pc)||void 0===t?void 0:t.setVolume(e))||!1},s.prototype.setProgramMuted=function(e){var t;return(null===(t=this._pc)||void 0===t?void 0:t.setMuted(e))||!1},s.prototype.setLocalStorageItem=function(e,t){var i;return(null===(i=this._ls)||void 0===i?void 0:i.set(e,t))||!1},s.prototype.getLocalStorageItem=function(e){var t;return(null===(t=this._ls)||void 0===t?void 0:t.get(e))||!1},s.prototype.fullscreen=function(){return this._sizer.expandFullscreen()},s.prototype.retractFullscreen=function(){return this._sizer.retractFullscreen()},s.prototype.toggleFullscreen=function(){return this._fullscreen?this._sizer.retractFullscreen():this._sizer.expandFullscreen()},s.prototype.nativeFullscreen=function(){var e;return(null===(e=this._pc)||void 0===e?void 0:e.nativeFullscreen())||!1},s.prototype.increaseSizerRate=function(e){return this._interactivity.increaseWatchRate(e)},s.prototype.decreaseSizerRate=function(){return this._interactivity.decreaseWatchRate()},s.prototype.isReady=function(){return this._ready},s.prototype.getWrapper=function(){return this.$element[0]},s.prototype.getDetections=function(){return this._detections},s.prototype.getContentLayer=function(){var e=!1,t=this.$element.find(".bb-content-layer");return(null==t?void 0:t.length)&&(e=t[0]),e},s.prototype.getSkinLayer=function(){var e=this.$element.get(0),t=this.$element.find(".bb-skin-layer-host");return(null==t?void 0:t.length)&&(e=t[0].shadowRoot),e.querySelector(".bb-skin-layer")||!1},s.prototype.getSkinContainer=function(){var e=!1,t=this.getSkinLayer(),a=$parcel$interopDefault(i)(t).find(".bb-container");return(null==a?void 0:a.length)&&(e=a[0]),e},s.prototype.getPhase=function(){return this._phase},s.prototype.getMode=function(){return this._mode},s.prototype.getState=function(){return this._state},s.prototype.getCurrentTime=function(){var e=this.getPropertyValue("currentTime");return isNaN(e)||!e?0:e},s.prototype.getBuffered=function(){return this.getPropertyValue("buffered")},s.prototype.getDuration=function(){var e=this._commercialDuration;return isNaN(e)||e<=0?0:e},s.prototype.getVolume=function(){return this.getPropertyValue("volume")},s.prototype.getMuted=function(){return this.getPropertyValue("muted")},s.prototype.getProgramVolume=function(){return!!this._pc&&this._pc.get("volume")},s.prototype.getProgramMuted=function(){return!!this._pc&&this._pc.get("muted")},s.prototype.getFlag=function(e){var t=null,i=this.$element.data("flags");if(i)for(var a in i)a===e&&(t=i[a]);return t},s.prototype.isPlaying=function(){return this.getPropertyValue("playing")},s.prototype.isFullscreen=function(){return this._sizer.isFullscreen()},s.prototype.getCurrentHeadType=function(){return"commercial"===this._mode?this._commercialHeadType:this._headType},s.prototype.doOpenUrl=function(e,t,i){if(i=i||!1,e){var a,n,s;if(e.match(/^\/\//)&&(e="https:"+e),"_blank"===(t=t||"_self")&&!i)((null===(a=this._detections)||void 0===a?void 0:a.isSafari)||(null===(n=this._detections)||void 0===n?void 0:n.iOSVersion)>=9)&&!(null===(s=this._detections)||void 0===s?void 0:s.isSDKPlayer)&&(t="_top");var o=!1;if("_top"===t)try{window.top.location.href=e}catch(e){o=!0}else if("_parent"===t)try{window.parent.location.href=e}catch(e){o=!0}else if("_self"===t)try{window.location.href=e}catch(e){o=!0}else{var r=t;if("_blank"===r&&(r=this._generateRandomTarget()),0!==e.indexOf(window.location.origin)&&e.match(/^(\w+:|)\/\//))try{window.open(e,r,"noopener")}catch(e){o=!0}else try{o=!window.open(e,r)}catch(e){o=!0}}o&&(this._openUrlParameters={url:e,target:t},window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"requestOpenUrl"))}},s.prototype.getOpenUrlParameters=function(){return this._openUrlParameters},s.prototype.getCurrentAd=function(){return this._currentAd},s.prototype.getAdPodInfo=function(){return this._adPodInfo},s.prototype.getPlayoutData=function(){return this._playout},s.prototype.getClipData=function(){return this._clip},s.prototype.getPropertyValue=function(e){if(!e)return!1;var t=e.toString().split(".");if(null==t?void 0:t.length)switch(t[0]){case"id":return this._playerId;case"alias":return this._playerAlias;case"playing":return!!this._playing;case"progress":return this._pc.get("currentTime");case"volume":return this._sc.getVolume();case"muted":return this._sc.getMuted();case"isPlaying":return this._playing?"true":"false";case"isMuted":return this._sc.getMuted()?"true":"false";case"isFullscreen":return this.isFullscreen()?"true":"false";case"browserLanguage":return this._browserLanguage;case"device_isMobileDevice":case"device_measuredBandwidth":case"device_objectFit":case"device_hasWebGL":case"device_inIframe":case"device_isUIWebView":case"device_isWindowsPhone":case"device_isiPad":case"device_iPadVersion":case"device_iPadVersionCheck":case"device_isiPhone":case"device_iOSVersion":case"device_isiOS":case"device_isAndroid":case"device_isAndroidNative":case"device_androidVersion":case"device_canControlVolume":case"device_canPlayInline":case"device_devicePixelRatio":case"device_deviceResolution":case"device_deviceResolutionString":case"device_deviceOrientation":case"device_isIE":case"device_ieVersion":case"device_isEdge":case"device_isSafari":case"device_edgeVersion":case"device_supportsHTML5IMA":case"device_isChrome":case"device_isFirefox":case"device_isWebkit":case"device_isGecko":case"device_isOpera":case"device_hasTouch":case"device_isTouchDevice":case"device_canAutoPlayAdvanced":case"device_svg":var i=String(t[0]).substring(7,t[0].length);return this._detections[i];default:if(t.length>1){var n=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController");if("visible"===t[1]){if(n)return n.isVisible(t[0])?"true":"false"}else if("enabled"===t[1]&&n)return n.isEnabled(t[0])?"true":"false"}else if(this._pc)return this._pc.get(t[0])}return null},s.prototype.showInterfaceElement=function(e){var t;null===(t=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController"))||void 0===t||t.show(e)},s.prototype.hideInterfaceElement=function(e){var t;null===(t=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController"))||void 0===t||t.hide(e)},s.prototype.enableInterfaceElement=function(e){var t;null===(t=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController"))||void 0===t||t.enable(e)},s.prototype.disableInterfaceElement=function(e){var t;null===(t=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController"))||void 0===t||t.disable(e)},s.prototype.getAdLogs=function(){return this._adLogs},s.prototype.setFitMode=function(e){var t;return(null===(t=this._pc)||void 0===t?void 0:t.setFitMode(e))||!1},s.prototype.updatePlayout=function(e){var t;return(null===(t=this._plc)||void 0===t?void 0:t.updateData(e))||!1},s.prototype.updateLineItemPlayout=function(e){var t;return(null===(t=this._msasController)||void 0===t?void 0:t.updateLineItemPlayout(e))||!1},s.prototype.triggerMessage=function(e){var t;null===(t=this.$element)||void 0===t||t.trigger("bb_on_message",[{name:e}])},s.prototype.appendSanitizedHtmlTo=function(e,t){"function"===(null==t?void 0:t.appendChild)&&$parcel$interopDefault(i)(t).bb_appendSanitized(e)},s.prototype.setSanitizedHtmlTo=function(e,t){"function"===(null==t?void 0:t.appendChild)&&$parcel$interopDefault(i)(t).bb_htmlSanitized(e)},s.prototype.sanitizeHtml=function(e){var t=document.createElement("div");return this.setSanitizedHtmlTo(e,t),$parcel$interopDefault(i)(t).html()},s.prototype.setInView=function(e){var t;return(null===(t=this._interactivity)||void 0===t?void 0:t.setInView(e))||!1},s.prototype._generateRandomTarget=function(){var e=new Date;return(Math.random().toString()+"_"+e.getTime()).replace(/[-.\s]/g,"")},s.prototype._onLoadedData=function(e){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadeddata")},s.prototype._onAdLog=function(e,t){this._adLogs&&this._adLogs.push||(this._adLogs=[]),this._adLogs.push(t)},s.prototype._onAdQuartile=function(e,t){if(t&&(0===t.quartile||t.quartile>0)){var i=0===t.quartile?"adstarted":4===t.quartile?"adfinished":"adquartile"+t.quartile;window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,i)}},s.prototype._onLoadedMetaData=function(e){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadedmetadata")},s.prototype._fakeMode=function(e){if(null==e?void 0:e.mediatype)switch(e.mediatype){case"mainroll":return"commercial";case"audio":case"video":return e.mediatype}return"video"},s.prototype._call=function(e,t){switch(void 0===t&&(t=null),isNaN(t)||(t="boolean"==typeof t?{value:t}:{value:parseFloat(t)}),e){case"load":return this.load(t);case"unload":return this.load(null);case"resume":case"play":return this.play(t);case"pause":return this.pause();case"seek":return this.seek(t.value);case"setVolume":return this.setVolume(t.value);case"setMuted":return this.setMuted(t.value);case"updatePlayout":return this.updatePlayout(t)}},s.prototype._onAdLoaded=function(e,t){e.stopPropagation(),(null==t?void 0:t.ad)&&(this._currentAd=$parcel$interopDefault(i).extend({},t.ad),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"ad_loaded"))},s.prototype._onPlayoutLoaded=function(e,t){e.stopPropagation(),(null==t?void 0:t.playoutData)&&(this._playout=$parcel$interopDefault(i).extend({},t.playoutData),"true"!==this._playout.autoPlay||this._started||(this.$element.addClass("bb-pendingplay"),this._$skinLayer&&this._$skinLayer.addClass("bb-pendingplay")),this._loadedplayoutdata=!0,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadedplayoutdata"))},s.prototype._onPlayoutChanged=function(e,t){if(e.stopPropagation(),null==t?void 0:t.playoutData){if(this._playout||(this._playout={}),t.playoutData!==this._playout)for(var i in t.playoutData)this._playout[i]=t.playoutData[i];window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"changedplayoutdata")}},s.prototype._onClipLoaded=function(e,t){if(e.stopPropagation(),this._canPlay=!1,this.$element.attr("data-currentTime","0"),t.clipData){this._clip=t.clipData,this._loadedclipdata=!0,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadedclipdata");var i=this._mode;this._mode=this._fakeMode(this._clip),this._mode!==i&&(this.$element.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"modechange"))}this.$element.removeClass(this._states.join(" ")).addClass("bb-state-idle"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-idle"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"timeupdate")},s.prototype._onPhaseChange=function(e,t){if(e.stopPropagation(),void 0!==t.phase&&!this._beforeUnload){this._phase=t.phase,n.default("[PublicAPI] _onPhaseChange phase = "+this._phase),this.$element.removeClass(this._phases.join(" ")).addClass("bb-phase-"+this._phase.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._phases.join(" ")).addClass("bb-phase-"+this._phase.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"phasechange");var i=this._mode;"PRE"===this._phase||"POST"===this._phase?(this._mode="commercial",this._mode!==i&&(this.$element.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"modechange"))):(this._mode=this._fakeMode(this._clip),this._mode!==i&&(this.$element.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"modechange"))),"EXIT"===this._phase?this._ended||(this._ended=!0,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"ended"),this._state="idle",this.$element.removeClass(this._states.join(" ")).addClass("bb-state-idle"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-idle"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange")):this._ended=!1,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"durationchange")}},s.prototype._onAutoPlayCheckReady=function(e,t){n.default("[PublicAPI] _onAutoPlayCheckReady canAutoPlay = "+t.canAutoPlay+" canAutoPlayMuted = "+t.canAutoPlayMuted),!this._started&&this._pendingNonUserPlay&&(this._pendingNonUserPlay=!1,t&&t.canAutoPlay?(this._autoPlayAdvancedCheckCanAutoPlay=!0,this.play()):t&&t.canAutoPlayMuted&&this.getMuted()?(this._autoPlayAdvancedCheckCanAutoPlayMuted=!0,this.play()):t&&t.canAutoPlayMuted&&this._playout&&("true"===this._playout.autoMute||"true"!==this._playout.avoidMutedAutoPlay)?(this._autoPlayAdvancedCheckCanAutoPlayMuted=!0,"true"!==this._playout.autoMute&&"true"!==this._playout.avoidMutedAutoPlay&&this.updatePlayout({autoMute:"true"}),this.play()):(this.$element.removeClass("bb-pendingplay"),this._$skinLayer&&this._$skinLayer.removeClass("bb-pendingplay")))},s.prototype._onHeadSelected=function(e,t){e.stopPropagation(),this._headType=(null==t?void 0:t.headType)?t.headType.toLowerCase():"unknown"},s.prototype._onCommercialHeadSelected=function(e,t){e.stopPropagation(),this._commercialHeadType=(null==t?void 0:t.headType)?t.headType.toLowerCase():"unknown"},s.prototype._onMediaLoadStart=function(e){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"load"),"loading"!==this._state&&(this._state="loading",this._playing=!1,this._playing_med=!1,this._playing_com=!1,this._paused_com=!1,this.$element.removeClass(this._states.join(" ")).addClass("bb-state-loading"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-loading"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange"))},s.prototype._onCommercialLoadStart=function(e){"PRE"!==this._phase&&"POST"!==this._phase||this._onMediaLoadStart(e)},s.prototype._onPlay=function(e){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"play"),this.isPlaying()||(this.$element.addClass("bb-pendingplay"),this._$skinLayer&&this._$skinLayer.addClass("bb-pendingplay"))},s.prototype._onAutoPause=function(e,t){e.stopPropagation(),this.$element.removeClass("bb-pendingplay"),this.$element.removeClass("bb-loading"),this._$skinLayer&&(this._$skinLayer.removeClass("bb-pendingplay"),this._$skinLayer.removeClass("bb-loading")),this._pendingNonUserPlay=!1,"loading"===this._state&&(this._playing||(this._state="paused",this.$element.removeClass(this._states.join(" ")).addClass("bb-state-paused"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-paused"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange"))),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"autopause")},s.prototype._onFloatEnd=function(e){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"floatend")},s.prototype._onFloatStart=function(e){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"floatstart")},s.prototype._onPlaying=function(e){e.stopPropagation(),this.$element.removeClass("bb-pendingplay"),this.$element.removeClass("bb-loading"),this._$skinLayer&&(this._$skinLayer.removeClass("bb-pendingplay"),this._$skinLayer.removeClass("bb-loading")),this._pendingNonUserPlay=!1;var t=this._mode;this._mode=this._playing_com||this._paused_com?"commercial":this._fakeMode(this._clip),this._mode!==t&&(this.$element.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"modechange"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"durationchange"));var i=this._playing;if(this._playing=this._playing_med||this._playing_com,!i&&this._playing&&(this.$element.removeClass(this._states.join(" ")).addClass("bb-state-playing"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-playing"),this._state="playing",window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"playing"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange")),!this._started){if(this._started=!0,n.debugMode)try{performance.mark("playingStarted"),performance.measure("from PLAYER_INIT to playingStarted","PLAYER_INIT","playingStarted"),performance.measure("from objectPlacement to playingStarted","objectPlacement","playingStarted");var a=performance.getEntriesByType("mark"),s={};a.forEach((function(e){if(e.name.startsWith("end_")){var t=e.name.substring(4);if(s[t]){var i="end_"+t;performance.measure(t,t,i)}}else s[e.name]=e}));var o=performance.getEntriesByType("measure");console.table(o,["startTime","name","duration"]),performance.clearMarks(),performance.clearMeasures()}catch(e){}window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"started")}this._isStalled&&(this._isStalled=!1,this.$element.removeClass("bb-stalled"),this._$skinLayer&&this._$skinLayer.removeClass("bb-stalled"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"unstalled"))},s.prototype._onCommercialPlaying=function(e){this._playing_com=!0,this._paused_com=!1,this._onPlaying(e)},s.prototype._onPaused=function(e){if(e.stopPropagation(),"MAIN"===this._phase){var t=this._mode;this._mode=this._playing_com||this._paused_com?"commercial":this._fakeMode(this._clip),this._mode!==t&&(this.$element.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"modechange"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"durationchange"))}var i=this._playing;this._playing=this._playing_med||this._playing_com,i&&!this._playing&&(this._playing=!1,this.$element.removeClass("bb-pendingplay"),this.$element.removeClass(this._states.join(" ")).addClass("bb-state-paused"),this._$skinLayer&&(this._$skinLayer.removeClass("bb-pendingplay"),this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-paused")),this._state="paused",window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"pause"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange")),this._isStalled&&(this._isStalled=!1,this.$element.removeClass("bb-stalled"),this._$skinLayer&&this._$skinLayer.removeClass("bb-stalled"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"unstalled"))},s.prototype._onCommercialPaused=function(e){this._playing_com=!1,this._paused_com=!0,this._onPaused(e)},s.prototype._onCommercialEnded=function(e){this._playing_com=!1,this._paused_com=!1,this._onPaused(e)},s.prototype._onStalled=function(e){e.stopPropagation(),!this._isStalled&&this.isPlaying()&&(this._isStalled=!0,this.$element.addClass("bb-stalled"),this._$skinLayer&&this._$skinLayer.addClass("bb-stalled"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"stalled"))},s.prototype._onProgress=function(e,t){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"progress")},s.prototype._onTimeUpdate=function(e,t){e.stopPropagation(),(null==t?void 0:t.currentTime)&&(this._ctDelta=t.currentTime-this._lastCurrentTime,this._lastCurrentTime=t.currentTime,0===this._ctDelta?this._timeEqual++:this._timeEqual=0,this._timeEqual>30?!this._isStalled&&this.isPlaying()&&(this._isStalled=!0,this.$element.addClass("bb-stalled"),this._$skinLayer&&this._$skinLayer.addClass("bb-stalled"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"stalled")):this._isStalled&&(this._isStalled=!1,this.$element.removeClass("bb-stalled"),this._$skinLayer&&this._$skinLayer.removeClass("bb-stalled"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"unstalled")),this.$element.attr("data-currentTime",t.currentTime),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"timeupdate"))},s.prototype._onSeeking=function(e){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"seeking")},s.prototype._onSeeked=function(e,t){e.stopPropagation(),t&&(this.$element.attr("data-currentTime",t.seekedPosition),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"seeked"))},s.prototype._onCommercialDurationChange=function(e,t){e.stopPropagation(),t&&(this._commercialDuration=t.duration,this.$element.attr("data-duration",this._commercialDuration),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"durationchange"))},s.prototype._onError=function(e,t){e.stopPropagation(),t&&!this._beforeUnload&&(Array.isArray(this.$element.data("errors"))&&this.$element.data("errors",[]),this._playing=!1,this._playing_med=!1,this._playing_com=!1,this._paused_com=!1,this.$element.data("errors").push(t),this.$element.removeClass("bb-pendingplay"),this.$element.removeClass(this._states.join(" ")).addClass("bb-state-error"),this._$skinLayer&&(this._$skinLayer.removeClass("bb-pendingplay"),this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-error")),this._state="error",window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"error"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange"))},s.prototype._onResized=function(e,t){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"resized")},s.prototype._onVolumeChange=function(e,t){e.stopPropagation(),t&&(this.$element.attr("data-volume",t.volume),t.muted?(this.$element.addClass("bb-muted"),this._$skinLayer&&this._$skinLayer.addClass("bb-muted")):(this.$element.removeClass("bb-muted"),this._$skinLayer&&this._$skinLayer.removeClass("bb-muted")),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"volumechange"))},s.prototype._onInview=function(e,t){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"inview")},s.prototype._onOutview=function(e,t){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"outview")},s.prototype._onFlagChange=function(e,t){if(e.stopPropagation(),void 0!==t&&null!=t&&null!=this.$element){var i=this.$element.data("flags");for(var a in i||(i={},this.$element.data("flags",i)),t)i[a]=t[a]}window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"flagchange")},s.prototype._onFullscreenChange=function(e,t){e.stopPropagation(),t&&(this._fullscreen=t.fullscreen,this._fullscreen?(this.$element.addClass("bb-fullscreen"),this._$skinLayer&&this._$skinLayer.addClass("bb-fullscreen"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"fullscreen")):(this.$element.removeClass("bb-fullscreen"),this._$skinLayer&&this._$skinLayer.removeClass("bb-fullscreen"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"retractfullscreen")))},s.prototype._onFullScreenMismatch=function(e,t){e.stopPropagation(),"undefined"!==(null==t?void 0:t.fullScreenMismatch)&&window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,(null==t?void 0:t.fullScreenMismatch)?"fullscreenmismatch":"fullscreenmismatchresolved")},s.prototype._onBeforeUnload=function(e){this._beforeUnload=!0},s.prototype._onAdError=function(e,t){if(e.stopPropagation(),"bb_adsystem_noad"===e.type)window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"adnotfound");else window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"aderror")},s.prototype._onAdSystemLoaded=function(e,t){var i=(null==t?void 0:t.adProperties)||null;this._updateAdPodInfo(i),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"adloaded")},s.prototype._updateAdPodInfo=function(e){var t;this._adPodInfo=null,e&&(null===(t=e.adPodInfo)||void 0===t?void 0:t.adPosition)&&e.adPodInfo.totalAds&&parseInt(e.adPodInfo.totalAds)>1&&(this._adPodInfo={adPosition:e.adPodInfo.adPosition,totalAds:e.adPodInfo.totalAds})},s.prototype._onMouseOverXS=function(e,t){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"mouseover"+t.interval+"s")},s.prototype._onCollapsed=function(e){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"collapsed")},s.prototype._onExpanded=function(e){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"expanded")},s.prototype.getDeeplink=function(){return""}})),parcelRequire.register("bZsEz",(function(e,t){$parcel$export(e.exports,"default",(function(){return r})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG"),n=parcelRequire("8aMPH"),s=parcelRequire("4TIAZ"),o=parcelRequire("hG03s"),r=function(e,t){var r,l,d,u,h,c,p,_,m,f;if(this.$element=null,this._opts=void 0!==t?t:null,this._data=this._opts?$parcel$interopDefault(i).extend({},this._opts):null,this._clip=null,this._contentList=null,this._contentListIndex=0,this._prev=null,this._clipId=null,this._headController=null,this._msasController=null,this._session_started=!1,this._view_started=!1,this._phase="INIT",this._phase_started=!1,this._headController_preloaded=!1,this._mediaMainFinished=!1,this._commercialMainFinished=!1,this._expectingPlayEvent=!1,this._pendingPlay=!1,this._userAction=!1,this._contentId=(null===(r=this._opts)||void 0===r||null===(l=r.embedData)||void 0===l?void 0:l.contentId)||null,this._contentIndicator=(null===(d=this._opts)||void 0===d||null===(u=d.embedData)||void 0===u?void 0:u.contentIndicator)||"a",this._autoPlay="true"===(null===(h=this._opts)||void 0===h||null===(c=h.playoutData)||void 0===c?void 0:c.autoPlay),this._autoPlayAdvancedNotChecked="true"===(null===(p=this._opts)||void 0===p||null===(_=p.playoutData)||void 0===_?void 0:_.autoPlayAdvancedNotChecked),this._initiator=null,this._outstreamRefresh="true"===(null===(m=this._opts)||void 0===m||null===(f=m.playoutData)||void 0===f?void 0:f.outstreamRefresh),this._outstreamRefreshFinished=!1,this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onErrorBound=this._onError.bind(this),this._onCommercialPreFinishedBound=this._onCommercialPreFinished.bind(this),this._onCommercialMainFinishedBound=this._onCommercialMainFinished.bind(this),this._onCommercialPostFinishedBound=this._onCommercialPostFinished.bind(this),this._onAdSystemRequestBound=this._onAdSystemRequest.bind(this),e){var y,v,g,b=this;this.$element=e,a.default.getService(this._opts.playerAliasOrId).setInstance("ProgramController",this);var w=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections");w&&(this._isiOS=w.isiOS,this._isAndroid=w.isAndroid),this._headController=new s.default(this.$element,this._opts),a.default.getService(this._opts.playerAliasOrId).setInstance("HeadController",this._headController),"true"!==(null===(y=this._opts)||void 0===y||null===(v=y.publicationData)||void 0===v?void 0:v.disablePositions)&&(n.debugMode&&performance.mark("MSASController"),this._msasController=new o.default(this.$element,this._opts),n.debugMode&&performance.mark("end_MSASController"),a.default.getService(this._opts.playerAliasOrId).setInstance("MSASController",this._msasController)),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_error",this._onErrorBound),this.$element.on("bb_msas_pre_finished",this._onCommercialPreFinishedBound),this.$element.on("bb_msas_main_finished",this._onCommercialMainFinishedBound),this.$element.on("bb_msas_post_finished",this._onCommercialPostFinishedBound),this.$element.on("bb_adsystem_request",this._onAdSystemRequestBound),this.$element.on("bb_as_request",this._onAdSystemRequestBound),this._outstreamRefresh&&(null===(g=this.$element)||void 0===g||g.on("bb_msas_outstream_refresh_finished",(function(){b.$element.off("bb_msas_outstream_refresh_finished"),b._outstreamRefreshFinished=!0})))}};r.prototype.exit=function(){return this.$element&&(this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_error",this._onErrorBound),this.$element.off("bb_msas_pre_finished",this._onCommercialPreFinishedBound),this.$element.off("bb_msas_main_finished",this._onCommercialMainFinishedBound),this.$element.off("bb_msas_post_finished",this._onCommercialPostFinishedBound),this.$element.off("bb_adsystem_request",this._onAdSystemRequestBound),this.$element.off("bb_as_request",this._onAdSystemRequestBound),this.$element.off("bb_msas_outstream_refresh_finished"),this._headController&&(this._headController=this._headController.exit(),a.default.getService(this._opts.playerAliasOrId).setInstance("HeadController",this._headController)),this._msasController&&(this._msasController=this._msasController.exit(),a.default.getService(this._opts.playerAliasOrId).setInstance("MSASController",this._msasController)),a.default.getService(this._opts.playerAliasOrId).setInstance("ProgramController",null)),null},r.prototype.loadData=function(e,t,i){var a;if(this._reset(),this._data=e||null,"object"==typeof t){var n=t||{};t=n.initiator,i=n.autoPlay}if(this._initiator=void 0!==t?t:this._initiator,this._pendingPlay=void 0!==i&&i,null===(a=this._msasController)||void 0===a||a.resetAdCounter_load(),"object"==typeof this._data&&this._data.length&&this._data[0]&&this._data[0].lineitems){if(this._msasController&&this._msasController.loadAdServicesData(this._data),!(this._data&&this._data.some&&this._data.some((function(e){return e&&"inarticle"===e.positionType&&"published"===e.status}))))return;this._data={type:"MediaClip",id:"0",usetype:"commercial",mediatype:"mainroll"}}return this._getData(this._dataCallback.bind(this))},r.prototype.load=function(e,t,i,a){var n;if(this._reset(),this._data=null,this._contentId=e,this._contentIndicator=void 0!==t?t:"c","object"==typeof i){var s=i||{};i=s.initiator,a=s.autoPlay}return this._initiator=void 0!==i?i:this._initiator,this._pendingPlay=void 0!==a&&a,null===(n=this._msasController)||void 0===n||n.resetAdCounter_load(),this._contentId&&"c"===this._contentIndicator&&this._dataMediaClipsById&&this._dataMediaClipsById["#"+this._contentId]&&(this._data=this._dataMediaClipsById["#"+this._contentId]),this._getData(this._dataCallback.bind(this))},r.prototype.unload=function(){return this._reset(),this._headController&&this._headController.reset(),this._msasController&&this._msasController.reset(),!0},r.prototype.preloadAds=function(e,t){switch(this.$element.trigger("bb_program_preload_ads"),void 0===e&&("INIT"===this._phase?e="PRE":"PRE"===this._phase?e="MAIN":"MAIN"===this._phase?e="POST":"POST"===this._phase?e="EXIT":"EXIT"===this._phase&&(e="MAIN")),void 0!==t&&(this._userAction=!!t),e){case"PRE":e!==this._phase&&(this._phase=e,this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}])),this._phase_started||(this._phase_started=!0,this._msasController&&this._msasController.load(this._phase)||this._onCommercialPreFinished(null));break;case"MAIN":var i;if(e!==this._phase&&(this._phase=e,this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}])),!this._phase_started)this._phase_started=!0,this._headController&&(this._headController_preloaded||(this._expectingPlayEvent=!1,this._headController.load(this._clip))),(null===(i=this._msasController)||void 0===i?void 0:i.load(this._phase))||this._onCommercialMainFinished(null);break;case"POST":case"EXIT":var a;null===(a=this._msasController)||void 0===a||a.load(e)}},r.prototype.nativeFullscreen=function(){var e;return(null===(e=this._headController)||void 0===e?void 0:e.nativeFullscreen())||!1},r.prototype.play=function(e){var t,i;if(this.$element.trigger("bb_program_play"),void 0!==e&&(this._userAction=!!e),this._clip){if(this._pendingPlay=!1,this._play(),"true"===(null===(t=this._opts)||void 0===t||null===(i=t.playoutData)||void 0===i?void 0:i.autoFullscreen)&&!this._autoPlay){var n=a.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI");n&&(n.fullscreen(),this._opts.playoutData.autoFullscreen="false")}}else this._pendingPlay=!0},r.prototype._play=function(){switch(this._view_started||(this._view_started=!0,this.$element.trigger("bb_view_started",[{initiator:this._initiator}])),this._phase){case"INIT":var e;null===(e=this._headController)||void 0===e||e.enableResizing(),this._phase="PRE",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),this._play();break;case"PRE":var t,i,a;if(null===(t=this._headController)||void 0===t||t.disableResizing(),this._phase_started)null===(i=this._msasController)||void 0===i||i.resume(this._userAction);else this._phase_started=!0,(null===(a=this._msasController)||void 0===a?void 0:a.play(this._phase,null,this._userAction))||this._onCommercialPreFinished(null);break;case"MAIN":var n,s,o;if(null===(n=this._headController)||void 0===n||n.enableResizing(),this._phase_started)this._headController&&!this._pauseRequested&&(this._expectingPlayEvent=!0,this._headController.play(this._userAction)),null===(s=this._msasController)||void 0===s||s.resume();else this._phase_started=!0,this._headController&&(this._headController_preloaded||(this._expectingPlayEvent=!1,this._headController.load(this._clip)),this._pauseRequested||(this._expectingPlayEvent=!0,this._headController.play(this._userAction))),(null===(o=this._msasController)||void 0===o?void 0:o.play(this._phase,null,this._userAction))||this._onCommercialMainFinished(null);break;case"POST":var r,l,d,u;if(null===(r=this._headController)||void 0===r||r.disableResizing(),null===(l=this._headController)||void 0===l||l.reset(),this._phase_started)null===(d=this._msasController)||void 0===d||d.resume();else this._phase_started=!0,(null===(u=this._msasController)||void 0===u?void 0:u.play(this._phase,null,this._userAction))||this._onCommercialPostFinished(null);break;case"EXIT":var h;null===(h=this._headController)||void 0===h||h.enableResizing(),this._mediaMainFinished=!1,this._commercialMainFinished=!1,this._phase="MAIN",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),this._headController_preloaded=!1,this._play()}},r.prototype.pause=function(){switch(this._phase){case"INIT":case"EXIT":break;case"PRE":var e;null===(e=this._msasController)||void 0===e||e.pause();break;case"MAIN":var t,i;this._pauseRequested||null===(t=this._headController)||void 0===t||t.pause(),null===(i=this._msasController)||void 0===i||i.pause();break;case"POST":var a;null===(a=this._msasController)||void 0===a||a.pause()}},r.prototype.seek=function(e){switch(this._phase){case"INIT":case"PRE":case"POST":case"EXIT":break;case"MAIN":var t;null===(t=this._headController)||void 0===t||t.set("currentTime",e)}},r.prototype.setVolume=function(e){switch(this._phase){case"INIT":case"EXIT":break;case"PRE":case"POST":this._msasController&&this._msasController.set("volume",e);break;case"MAIN":this._headController&&this._headController.set("volume",e),this._msasController&&this._msasController.set("volume",e)}},r.prototype.setMuted=function(e){switch(this._phase){case"INIT":case"EXIT":break;case"PRE":var t;null===(t=this._msasController)||void 0===t||t.set("muted",e);break;case"MAIN":var i,a;null===(i=this._headController)||void 0===i||i.set("muted",e),null===(a=this._msasController)||void 0===a||a.set("muted",e);break;case"POST":var n;null===(n=this._msasController)||void 0===n||n.set("muted",e)}},r.prototype.setFitMode=function(e){var t;return(null===(t=this._headController)||void 0===t?void 0:t.setFitMode(e))||!1},r.prototype.get=function(e){switch(e){case"phase":return this._phase;case"title":if(this._clip)return this._clip.title;break;case"currentTime":var t,i;return"PRE"===this._phase||"POST"===this._phase||"MAIN"===this._phase&&this._pauseRequested?null===(t=this._msasController)||void 0===t?void 0:t.get("currentTime"):null===(i=this._headController)||void 0===i?void 0:i.get("currentTime");default:var a;return null===(a=this._headController)||void 0===a?void 0:a.get(e)}return null},r.prototype._reset=function(){this._view_started=!1,this._phase="INIT",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}])},r.prototype._getClipUrl=function(e){return this._opts.publicationData.server+"/json/mediaclip/"+e},r.prototype._getData=function(e){var t,a=!1;if(null==this._data)if(null===(t=this._opts)||void 0===t?void 0:t.publicationData){var n=this._getClipUrl(this._contentId);$parcel$interopDefault(i).ajax({url:n,dataType:"json",cache:!0,context:this,success:function(t,i){this._data=t,"function"==typeof e&&e(!0)},error:function(){this._logError("json request failed"),"function"==typeof e&&e(!1)}}),a=!0}else this._logError("no publicationData"),"function"==typeof e&&e(!1),a=!1;else"function"==typeof e&&e(!0),a=!0;return a},r.prototype._dataCallback=function(e){if(e){if(this._data&&(this._data.isPrefetch=!0,parseInt(this._data.id,10)>0||!this._data.sourceid||this._data.title||(this._data.isPrefetch=!1),this._headController.setMediaData(null),this._contentList=[this._data],this._contentListIndex=0),this._playlist=[],this._contentList){this._contentListIndex<=0&&(this._contentListIndex=0);for(var t=this._contentListIndex;t<this._contentList.length;t++)this._playlist.push(this._contentList[t])}this._playlistNextItem()||(this._clip=null)}else this._clip=null},r.prototype._playlistNextItem=function(){var e,t=!1;if(null===(e=this._playlist)||void 0===e?void 0:e.length){this._prev=this._clip,this._clip=null;var i=this._playlist.shift();this._contentListIndex++,this._contentList_prefetchItem(this._playlist,0),i?(this._clipId=i.id,i.isPrefetch&&(this._clip=this._sanitizeClip(i)),this._getClip(this._clipCallback.bind(this)),t=!0):this.$element.trigger("bb_mediaclip_failed")}return t},r.prototype._inContentList=function(){return this._contentList&&this._contentListIndex>=0&&this._contentListIndex<this._contentList.length},r.prototype._getClip=function(e){var t,a=!1;if(this._clip)"function"==typeof e&&e(!0),a=!0;else if(this._dataMediaClipsById&&this._dataMediaClipsById["#"+this._clipId])this._clip=this._sanitizeClip(this._dataMediaClipsById["#"+this._clipId]),"function"==typeof e&&e(!0),a=!0;else if(null===(t=this._opts)||void 0===t?void 0:t.publicationData)if(parseInt(this._clipId,10)>0){var n=this._getClipUrl(this._clipId);$parcel$interopDefault(i).ajax({url:n,dataType:"json",cache:!0,context:this,success:function(t){this._clip=this._sanitizeClip(t),this._clip.isPrefetch=!0,"function"==typeof e&&e(!0)},error:function(){this._logError("json request failed"),"function"==typeof e&&e(!1)}}),a=!0}else this._logError("no valid clip id or source id"),"function"==typeof e&&e(!1),a=!1;else this._logError("no publicationData"),"function"==typeof e&&e(!1),a=!1;return a},r.prototype._clipCallback=function(e){var t={clipData:this._clip,autoPlay:this._pendingPlay,contextEntityType:this._contextEntityType,contextEntityId:this._contextEntityId};e?this._clip?this.$element.trigger("bb_mediaclip_loaded",[t]):this.$element.trigger("bb_mediaclip_failed",[t]):(t.clipData=this._clip=null,this.$element.trigger("bb_mediaclip_failed",[t])),this._headController_preloaded=!1,"INIT"!==this._phase&&this._session_started||(this._session_started=!0,this._headController&&(this._expectingPlayEvent=!1,this._headController.load(this._clip),this._headController_preloaded=!0)),(this._pendingPlay||this._autoPlayAdvancedNotChecked&&this._autoPlay)&&this.play()},r.prototype._sanitizeClip=function(e){return this._sanitizeGeneric(e)},r.prototype._sanitizeGeneric=function(e){if(e){for(var t in void 0===e.publisheddate&&(e.publisheddate=e.published_date),void 0===e.date&&(e.date={created:e.createddate,published:e.publisheddate,modified:e.modifieddate}),e){var i=t.replace(/_string$/,"");i!==t&&(e[i]=e[t])}for(var a in e){var n=a.replace(/_int$/,"");n!==a&&(e[n]=e[a])}for(var s in e){var o=s.replace(/_boolean$/,"");o!==s&&(e[o]=e[s])}}return e},r.prototype._onPlayoutChanged=function(e,t){var i;(null==t||null===(i=t.playoutData)||void 0===i?void 0:i.autoPlay)&&(this._autoPlay="true"===t.playoutData.autoPlay)},r.prototype._contentList_prefetchItem=function(e,t){var a=!1;if(e&&e[t]){var n,s=e[t].id;if(this._dataMediaClipsById&&this._dataMediaClipsById["#"+s])e[t]=this._sanitizeClip(this._dataMediaClipsById["#"+s]),a=!0;else if(null===(n=this._opts)||void 0===n?void 0:n.publicationData)if(parseInt(s,10)>0){var o=this._getClipUrl(s);$parcel$interopDefault(i).ajax({url:o,dataType:"json",cache:!0,context:this,success:function(i){i&&(e[t]=this._sanitizeClip(i),e[t].isPrefetch=!0)},error:function(){e[t]=null,this._logWarning("json request failed")}}),a=!0}else e[t]=null,this._logWarning("no valid clip id or source id"),a=!1;else this._logWarning("no publicationData"),a=!1}return a},r.prototype._onError=function(e,t){switch(e.stopPropagation(),n.default("[ProgramController] _onError phase = "+this._phase),this._phase){case"INIT":case"EXIT":break;case"PRE":this._onCommercialPreFinished(null);break;case"MAIN":this._onCommercialMainFinished(null);break;case"POST":this._onCommercialPostFinished(null)}},r.prototype._onCommercialPreFinished=function(e){var t;n.default("[ProgramController] _onCommercialPreFinished"),e&&e.stopPropagation();var i=this._phase_started;this._mediaMainFinished=!1,this._commercialMainFinished=!1,this._phase="MAIN",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]);var a=(null===(t=this._msasController)||void 0===t?void 0:t.get("adCounterClip"))||0;this._userAction?i&&(this._play(),this.$element.trigger("bb_program_autopauseplay",[{why:"userAction"}])):this._autoPlayOnlyWithPrerollAd&&a<=0?this.$element.trigger("bb_program_autopause",[{why:"autoPlayOnlyWithPrerollAd"}]):i&&(this._play(),this.$element.trigger("bb_program_autopauseplay",[{why:"autoPlayOnlyWithPrerollAd"}]))},r.prototype._onCommercialMainFinished=function(e){var t;n.default("[ProgramController] _onCommercialMainFinished"),e&&e.stopPropagation();var i=this._phase_started;this._commercialMainFinished=!0,"mainroll"===(null===(t=this._clip)||void 0===t?void 0:t.mediatype)&&(this._phase="POST",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),i&&this._play())},r.prototype._onCommercialPostFinished=function(e){e&&e.stopPropagation(),this._view_started&&(this._view_started=!1,this.$element.trigger("bb_view_finished")),this._outstreamRefresh&&!this._outstreamRefreshFinished?(this.pause(),this.loadData(this._opts.adServicesData,{autoPlay:!0,initiator:"OutstreamRefresh"})):(this._phase="EXIT",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),this._headController&&this._headController.enableResizing())},r.prototype._onAdSystemRequest=function(e,t){switch(e&&e.stopPropagation(),null==t?void 0:t.action){case"content_pause":"MAIN"===this._phase&&this._phase_started&&(this._pauseRequested=!0,this._headController&&this._headController.pause());break;case"content_resume":this._pauseRequested&&(this._pauseRequested=!1,this._headController&&!this._mediaMainFinished&&this._headController.play())}},r.prototype._logError=function(e){this.$element.trigger("bb_error",[{msg:e}])},r.prototype._logWarning=function(e){this.$element.trigger("bb_warning",[{msg:e}])}})),parcelRequire.register("4TIAZ",(function(e,t){$parcel$export(e.exports,"default",(function(){return d})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),a=parcelRequire("56Oox"),n=parcelRequire("87rX1"),s=parcelRequire("WI3YU"),o=parcelRequire("b3HW6"),r=parcelRequire("2PjQe"),l=parcelRequire("8DKpv");parcelRequire("boCbw");var d=function(e){"use strict";i.default(d,e);var t=a.default(d);function d(e,i){var a;return n.default(this,d),(a=t.call(this,e,i))._mediaData=null,a._reset_smr(),a._isIE=!!a._detections&&a._detections.isIE,a._isSafari=!!a._detections&&a._detections.isSafari,a._onAssetSelectedBound=a._onAssetSelected.bind(s.default(a)),a.$element&&a.$element.on("bb_asset_selected",a._onAssetSelectedBound),a}return o.default(d,[{key:"exit",value:function(){return this.$element&&this.$element.off("bb_asset_selected",this._onAssetSelectedBound),this._reset_smr(),this._mediaData=null,r.default(l.default(d.prototype),"exit",this).call(this,this)}},{key:"_reset_smr",value:function(){this._clipIds=[],this._clipDurationsTotal=0,this._clipOffsets={},this._clipDurations={},this._clipOffsetsPerAsset={},this._clipDurationsPerAsset={},this._origClip=null,this._origSeekPosition=0,this._origClipOffset=0,this._origClipDuration=0}},{key:"load",value:function(e,t){var i=!1;if(this._mediaData){this._origClip=e||{},this._origSeekPosition=t||0,this._origClipOffset=0,this._origClipDuration=parseFloat(this._origClip.length)||0;var a=this._origClip?this._origClip.id:0;this._clipOffsets&&this._clipOffsets["#"+a]>0&&(this._origClipOffset=this._clipOffsets["#"+a]),this._clipDurations&&this._clipDurations["#"+a]>0&&(this._origClipDuration=this._clipDurations["#"+a]),e=this._getClip(e),t=this._getSeekPosition(t),this._clip&&this._clip.id===e.id?(this._head&&this._head.pause(),this.$element&&(this.$element.triggerHandler("bb_media_loadstart"),this.$element.triggerHandler("bb_media_loadedmetadata"),this.$element.triggerHandler("bb_media_duration_change",[{duration:this._getDuration()}]),this.$element.triggerHandler("bb_media_loadeddata")),t!==r.default(l.default(d.prototype),"get",this).call(this,"currentTime")?(this._lastCurrentTime=0,this._started=!1,this._expectArtificialSeek=this._origSeekPosition<=0,i=r.default(l.default(d.prototype),"set",this).call(this,"currentTime",t)):i=!0,this.$element&&this.$element.triggerHandler("bb_media_canplay")):(i=r.default(l.default(d.prototype),"load",this).call(this,e,t),this._clip||(this._clip=e))}else i=r.default(l.default(d.prototype),"load",this).call(this,e,t);return i}},{key:"setMediaData",value:function(e){if(this._reset_smr(),e&&e.items&&e.assets&&!this._isIE&&!this._isSafari){var t=this,i=function(e,i){var a=t._mediaData.items[e],n=t._mediaData.assets.filter((function(e){return e.jobdefid==a.jobdefid})).map((function(e){return e.id}));t._clipOffsetsPerAsset[n]={},t._clipDurationsPerAsset[n]={};for(var s=0,o=a.items.length;s<o;s++){var r=a.items[s],l=r.mediaclipid;t._clipIds.indexOf(l)<0&&(t._clipIds.push(l),t._clipOffsets["#"+l]=parseFloat(r.offset)/1e3,t._clipDurations["#"+l]=parseFloat(r.exactlength)/1e3,t._clipDurationsTotal+=parseFloat(r.exactlength)/1e3),t._clipOffsetsPerAsset[n]["#"+l]=parseFloat(r.offset)/1e3,t._clipDurationsPerAsset[n]["#"+l]=parseFloat(r.exactlength)/1e3}};this._mediaData=e;for(var a=0,n=this._mediaData.items.length;a<n;a++)i(a)}else this._mediaData=null}},{key:"set",value:function(e,t){if(this._mediaData&&"currentTime"===e)t=this._getSeekPosition(t);return r.default(l.default(d.prototype),"set",this).call(this,e,t)}},{key:"get",value:function(e){if(this._mediaData)switch(e){case"currentTime":return this._lastCurrentTime;case"duration":return this._getDuration();case"buffered":return this._getBuffered()}return r.default(l.default(d.prototype),"get",this).call(this,e)}},{key:"_onAssetSelected",value:function(e,t){if(t&&t.asset&&t.asset.id){var i=t.asset.id;this._clipOffsetsPerAsset[i]&&(this._clipOffsets=this._clipOffsetsPerAsset[i]),this._clipDurationsPerAsset[i]&&(this._clipDurations=this._clipDurationsPerAsset[i]);var a=this._origClip?this._origClip.id:0;this._clipOffsets&&this._clipOffsets["#"+a]>0&&(this._origClipOffset=this._clipOffsets["#"+a]),this._clipDurations&&this._clipDurations["#"+a]>0&&(this._origClipDuration=this._clipDurations["#"+a])}}},{key:"_getClip",value:function(e){var t=e;if(this._clipIds&&this._clipIds.indexOf(e.id)>=0)if(this._clip)t=this._clip;else{var i=this._mediaData.projectId,a=this._mediaData.assets;t={type:"MediaClip",id:i,mediatype:e.mediatype,usetype:e.usetype,assets:a,length:this._clipDurationsTotal,width:e.width,height:e.height}}else this._reset_smr();return t}},{key:"_getSeekPosition",value:function(e){return this._origClipOffset+Math.max(0,Math.min(e,this._origClipDuration))}},{key:"_getCurrentTime",value:function(e){return e-this._origClipOffset}},{key:"_getDuration",value:function(){return this._origClipDuration}},{key:"_getBuffered",value:function(){var e=0,t=r.default(l.default(d.prototype),"get",this).call(this,"buffered");if(t&&t.start&&t.end){e={start:[],end:[],length:0};for(var i=0,a=t.start.length;i<a;i++){var n=Math.max(0,Math.min(t.start[i]-this._origClipOffset,this._origClipDuration)),s=Math.max(0,Math.min(t.end[i]-this._origClipOffset,this._origClipDuration));s>n&&(e.start.push(n),e.end.push(s),e.length++)}}return e}},{key:"_onHeadEvent",value:function(e){if(this._mediaData&&e)switch(e.stopPropagation(),e.type){case"timeupdate":var t=null;return this._head&&(t=this._getCurrentTime(this._head.get("currentTime")),this._lastCurrentTime=t),void(t>=this._origClipDuration-.16?(this._head&&(this._expectArtificialPause=!0,this._head.pause()),this.$element&&(this.$element.triggerHandler("bb_media_paused"),this._started&&(this._started=!1,this.$element.triggerHandler("bb_media_finished")))):null==this._savedSeekPosition&&this.$element&&this.$element.triggerHandler("bb_media_timeupdate",[{currentTime:t}]));case"durationchange":return void(this.$element&&this.$element.triggerHandler("bb_media_duration_change",[{duration:this._getDuration()}]));case"seeking":if(this._expectArtificialSeek)return void(this._savedSeekPosition=null);break;case"seeked":if(this._expectArtificialSeek)this._expectArtificialSeek=!1,this._savedSeekPosition=null,this._dispatchEvent("bb_assets_changed",{assets:this._shortlist}),this._dispatchEvent("bb_asset_selected",{asset:this._asset});else{var i=null;null!=this._savedSeekPosition?(i=this._savedSeekPosition,this._savedSeekPosition=null):this._head&&(i=this._head.get("currentTime")),i=this._getCurrentTime(i),this.$element.triggerHandler("bb_media_seeked",[{seekedPosition:i}])}return;case"pause":if(this._expectArtificialPause)return this._expectArtificialPause=!1,void(this._playing=!1)}r.default(l.default(d.prototype),"_onHeadEvent",this).call(this,e)}}]),d}(parcelRequire("fZYiY").default)})),parcelRequire.register("fZYiY",(function(e,t){$parcel$export(e.exports,"default",(function(){return f})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),a=parcelRequire("56Oox"),n=parcelRequire("87rX1"),s=parcelRequire("WI3YU"),o=parcelRequire("b3HW6"),r=parcelRequire("2PjQe"),l=parcelRequire("8DKpv"),d=parcelRequire("dwEjG");parcelRequire("boCbw");var u=parcelRequire("6gF5a"),h=parcelRequire("k0pvG"),c=parcelRequire("8aMPH"),p=parcelRequire("8ZRQJ"),_=parcelRequire("bPptZ"),m=parcelRequire("fLnr5"),f=function(e){"use strict";i.default(p,e);var t=a.default(p);function p(e,i){var a;if(n.default(this,p),(a=t.call(this,e,i))._opts=i,a._localStorage=null,a._started=!1,a._fullscreen=!1,a._couldPlay=!1,a._isiPhone=!1,a._shouldSelectAsset=!1,a._lastCurrentTime=0,a._headLockForMainroll=!1,a._posterWidth=0,a._posterHeight=0,a._defaultAudioTrackPlayoutVal=null,a._mobileRotateOnFullScreenMismatch=!1,a._useChromeCast=!1,a._castSession=null,a._onBandwidthMeasuredBound=a._onBandwidthMeasured.bind(s.default(a)),a._onPosterChangedBound=a._onPosterChanged.bind(s.default(a)),a._onFullScreenMismatchBound=a._onFullScreenMismatch.bind(s.default(a)),a._onCommercialHeadSelectedBound=a._onCommercialHeadSelected.bind(s.default(a)),null!=a.$element){var o=h.default.getService(a._opts.playerAliasOrId).getInstance("LocalStorage");void 0!==o&&null!=o&&(a._localStorage=o);var r=h.default.getService(a._opts.playerAliasOrId).getInstance("Detections");void 0!==r&&null!=r&&(a._isiPhone=r.isiPhone,a._isMobileDevice=r.isMobileDevice),a._mediaManager=_.default?new _.default(e,i):null,a.$element.on("bb_bandwidth_measured",a._onBandwidthMeasuredBound),a.$element.on("bb_poster_changed",a._onPosterChangedBound),a.$element.on("bb_fullscreen_mismatch",a._onFullScreenMismatchBound)}return a._autoPlay=null!=a._opts&&void 0!==a._opts.playoutData&&"true"==a._opts.playoutData.autoPlay,null!=a._opts&&void 0!==a._opts.playoutData&&"undefined"!=a._opts.playoutData.defaultAudioTrack&&(a._defaultAudioTrackPlayoutVal=a._opts.playoutData.defaultAudioTrack),a._opts&&a._opts.playoutData&&void 0!==a._opts.playoutData.mobileRotateOnFullScreenMismatch&&(a._mobileRotateOnFullScreenMismatch="true"===a._opts.playoutData.mobileRotateOnFullScreenMismatch),a._castContext=null,a._opts&&a._opts.playoutData&&"Show"===a._opts.playoutData.castButton&&a._initCastButton(),a}return o.default(p,[{key:"_initCastButton",value:function(){var e=h.default.getService(this._opts.playerAliasOrId).getInstance("Detections");e&&e.canChromeCast?this._initChromeCast():(this.__onGCastApiAvailable=window.__onGCastApiAvailable||null,window.__onGCastApiAvailable=this._handleGCastApiAvailable.bind(this),this._broker&&this._broker.load("//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1:ChromeCastFramework",15))}},{key:"exit",value:function(){var e;(this._mediaManager&&(this._mediaManager=this._mediaManager.exit()),null!=this.$element)&&(this.$element.off("bb_bandwidth_measured",this._onBandwidthMeasuredBound),this.$element.off("bb_poster_changed",this._onPosterChangedBound),this.$element.off("bb_fullscreen_mismatch",this._onFullScreenMismatchBound),this.$element.off("bb_commercial_head_selected",this._onCommercialHeadSelectedBound),null===(e=this.$wrapper)||void 0===e||e.off("bb_component_loaded bb_component_failed",this._onComponentBound),this._localStorage=null);return r.default(l.default(p.prototype),"exit",this).call(this)}},{key:"reset",value:function(e){r.default(l.default(p.prototype),"reset",this).call(this),this._castSession&&(this._castSession.endSession(!0),this._castSession=null),this._castContext&&(this._castContext.removeEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,this._onCastSessionChanged.bind(this)),this._castContext=null),this._lastCurrentTime=0,this._started=!1}},{key:"load",value:function(e,t){var i=!1;return this.reset(),t&&(this._seekPosition=t),void 0!==e&&null!=e?(this._clip=e,void 0!==this._clip.length&&this._dispatchEvent("bb_media_duration_change",[{duration:this._clip.length}]),this._clip.fitmode&&"FIT_NONE"!=this._clip.fitmode&&(this._fitMode=this._clip.fitmode),"mainroll"==this._clip.mediatype?(this._headLockForMainroll=!0,this.$element.on("bb_commercial_head_selected",this._onCommercialHeadSelectedBound),i=!0):(this.$element.off("bb_commercial_head_selected",this._onCommercialHeadSelectedBound),this._headLockForMainroll=!1,this._selectAsset(),i=this._switchAsset("loadClip",this._seekPosition))):i=!0,i}},{key:"get",value:function(e){switch(e){case"bitrate":if(null!=this._asset)return this._asset.bandwidth;break;case"volume":return null!=this._head&&this._masterVolume>0?this._head.get("volume")/this._masterVolume:this._headVolume;case"muted":return null!=this._head?this._masterMute?this._headMute:this._head.get("muted"):this._headMute;case"duration":if(null!=this._head){if(0!=this._head.get("duration"))return this._head.get("duration");if(null!=this._clip&&void 0!==this._clip.length)return Number(this._clip.length)}else if(null!=this._clip&&void 0!==this._clip.length)return Number(this._clip.length);break;case"currentTime":return this._lastCurrentTime}return r.default(l.default(p.prototype),"get",this).call(this,e)}},{key:"play",value:function(e){if(c.default("[MainHeadController] play user action: "+e),this._playPending=!0,null!=this._head){if(this._head.toFront(),this._couldPlay||this._canPlay||e)return this._head.play(e);this._head.load(e)}else this._clip&&"mainroll"==this._clip.mediatype&&this._isiPhone&&(void 0!==this._heads.html5_audio&&null!=this._heads.html5_audio||(this._heads.html5_audio=this._createHead("html5","audio")),this.loadHtml5Media(e));return!1}},{key:"switchAsset",value:function(e){var t=null;if(null!=this._shortlist)for(var i=0;i<this._shortlist.length;i++){var a=this._shortlist[i];if(null!=a&&a.id==e){t=a;break}}t&&!t.faked&&(this._savedAsset=null);var n=r.default(l.default(p.prototype),"switchAsset",this).call(this,e);return 1==n&&null!=this._localStorage&&this._localStorage.set("userSelectedAsset",this._asset),n}},{key:"loadHtml5Media",value:function(e){var t=null;void 0!==this._heads.sprite_video&&null!=this._heads.sprite_video?t=this._heads.sprite_video:void 0!==this._heads.html5_audio&&null!=this._heads.html5_audio?t=this._heads.html5_audio:void 0!==this._heads.html5_video&&null!=this._heads.html5_video&&(t=this._heads.html5_video),void 0===this._heads.youtube_video||null==this._heads.youtube_video||this._detections&&this._detections.isiOS&&this._detections.isiPhone&&this._detections.iOSVersion<10||this._heads.youtube_video.preload(),t&&t.load(e)}},{key:"getHtml5Video",value:function(){var e=null;return void 0!==this._heads.html5_video&&null!=this._heads.html5_video?e=this._heads.html5_video:void 0!==this._heads.Html5HLS_video&&null!=this._heads.Html5HLS_video?e=this._heads.Html5HLS_video:void 0!==this._heads.Html5VideoGL360_video&&null!==this._heads.Html5VideoGL360_video?e=this._heads.Html5VideoGL360_video:void 0!==this._heads.Html5HLSVideoGL360_video&&null!==this._heads.Html5HLSVideoGL360_video?e=this._heads.Html5HLSVideoGL360_video:(this._heads.html5_video=this._createHead("html5","video"),e=this._heads.html5_video),e&&(e.set("volume",this._headVolume*this._masterVolume),e.set("muted",this._headMute||this._masterMute)),e.$media}},{key:"borrowHtml5Video",value:function(){var e=this.getHtml5Video();return this._headBound&&!this._headLockForMainroll&&(this._headWasBound=!0,this._unbindFromHead()),this._headType,this._headIsBorrowed=!0,e}},{key:"returnHtml5Video",value:function(){this.returnHtml5Media()}},{key:"getHtml5Media",value:function(){var e=null;return void 0!==this._heads.sprite_video&&null!=this._heads.sprite_video?e=this._heads.sprite_video:void 0!==this._heads.html5_audio&&null!=this._heads.html5_audio?e=this._heads.html5_audio:void 0!==this._heads.Html5HLS_audio&&null!==this._heads.Html5HLS_audio?e=this._heads.Html5HLS_audio:void 0!==this._heads.html5_video&&null!=this._heads.html5_video?e=this._heads.html5_video:void 0!==this._heads.Html5HLS_video&&null!==this._heads.Html5HLS_video?e=this._heads.Html5HLS_video:void 0!==this._heads.Html5VideoGL360_video&&null!==this._heads.Html5VideoGL360_video?e=this._heads.Html5VideoGL360_video:void 0!==this._heads.Html5HLSVideoGL360_video&&null!==this._heads.Html5HLSVideoGL360_video?e=this._heads.Html5HLSVideoGL360_video:(this._heads.html5_audio=this._createHead("html5","audio"),e=this._heads.html5_audio),e&&(e.set("volume",this._headVolume*this._masterVolume),e.set("muted",this._headMute||this._masterMute)),e.$media}},{key:"borrowHtml5Media",value:function(){var e=this.getHtml5Media();return this._headBound&&!this._headLockForMainroll&&(this._headWasBound=!0,this._unbindFromHead()),"html5"==this._headType&&(this._canPlay=!1),this._headIsBorrowed=!0,e}},{key:"returnHtml5Media",value:function(){if(this._headIsBorrowed=!1,this._shouldSelectAsset&&(this._shouldSelectAsset=!1,!(this._autoPlay||this._started||this._asset&&this._needsHLSSupport(this._asset)))){var e=null!=this._asset?this._asset.id:null;this._selectAsset(),null!=this._asset&&this._asset.id!=e&&this._switchAsset()}this._headWasBound&&(this._headWasBound=!1,this._bindToHead()),this.fitVideo()}},{key:"getHtml5Audio",value:function(){var e=null;return void 0!==this._heads.sprite_video&&null!=this._heads.sprite_video?e=this._heads.sprite_video:(void 0!==this._heads.html5_audio&&null!=this._heads.html5_audio||(this._heads.html5_audio=this._createHead("html5","audio")),e=this._heads.html5_audio),e.$media}},{key:"borrowHtml5Audio",value:function(){var e=this.getHtml5Audio();return this._headBound&&!this._headLockForMainroll&&(this._headWasBound=!0,this._unbindFromHead()),"html5"==this._headType&&(this._canPlay=!1),this._headIsBorrowed=!0,e}},{key:"returnHtml5Audio",value:function(){this.returnHtml5Media()}},{key:"setFitMode",value:function(e){return(!this._opts||!0!==this._opts.noSkinMode)&&(this._fitMode=e,this.fitVideo(),!0)}},{key:"setRotation",value:function(e){return this._rotation=e,this.fitVideo(),!0}},{key:"fitVideo",value:function(e,t){void 0!==e&&null!=e||(e=this._fitMode),void 0!==t&&null!=t||(t=this._rotation),this._detections.isAndroid&&(t="0deg"),null!=this._detections&&this._detections.isAndroidNative&&("FIT_SMART"!=e&&"FIT_STRETCH"!=e||(e="FIT_BOTH")),this._is360Video&&(e="FIT_OVERSCAN"),this._fullscreen&&this._clip&&this._clip.timelines&&this._clip.timelines.length>0&&(e="FIT_BOTH");var i=768,a=432,n=this.$element.find(".bb-content-layer");if(n.length>0&&(i=n.width(),a=n.height()),this._opts&&this._opts.playoutData&&this._opts.playoutData.width&&-1==this._opts.playoutData.width.indexOf("%")&&this._opts.playoutData.height&&-1==this._opts.playoutData.height.indexOf("%")&&"true"!=this._opts.playoutData.autoHeight&&!this.$element.hasClass("bb-fullscreen")&&(i=this._opts.playoutData.width,a=this._opts.playoutData.height),null!=this._detections&&this._detections.inIframe&&this._detections.ieVersion>8&&this._detections.isFullScreen()&&(i=window.innerWidth,a=window.innerHeight),this._headIsBorrowed)this.$element.find(".bb-content-layer .bb-fitme").css({width:Math.ceil(i)+"px",height:Math.ceil(a)+"px",position:"absolute",left:"0px",top:"0px"});else{var s=768,o=432;if(null!=this._head&&this._head.get("mediaWidth")>0?(s=this._head.get("mediaWidth"),o=this._head.get("mediaHeight")):null!=this._asset&&this._asset.width>0?(s=this._asset.width,o=this._asset.height):(this._posterWidth>0||this._posterHeight>0)&&(s=this._posterWidth,o=this._posterHeight),null!=this._detections&&!1!==this._detections.androidVersion&&parseFloat(this._detections.androidVersion)>=3&&null!=this._asset&&this._asset.width>0&&(s=this._asset.width,o=this._asset.height),"90deg"===t||"-90deg"===t||"270deg"===t||"-270deg"===t){var r=s;s=o,o=r}var l,d,u=o>0?s/o:1.778,h=a>0?i/a:1.778,c=u/h,p=h/u,_=1.33,m=1;switch(e){default:case"FIT_SMART":if(u>=h?c<1.67?c<_?(l=Math.ceil(a*(u/Math.sqrt(c))),d=Math.ceil(a)):(m=Math.sqrt(c)/Math.sqrt(_),l=Math.ceil(a/m*(u/Math.sqrt(_))),d=Math.ceil(a/m)):(l=Math.ceil(i),d=Math.ceil(i/u)):p<1.67?p<_?(l=Math.ceil(i),d=Math.ceil(i/(u/Math.sqrt(c)))):(m=Math.sqrt(p)/Math.sqrt(_),l=Math.ceil(i/m),d=Math.ceil(i/m/(u*Math.sqrt(_)))):(l=Math.ceil(a*u),d=Math.ceil(a)),this._clip&&this._clip.timelines&&this._clip.timelines.length>0){var f=l/d;l>Math.ceil(i)?(l=Math.ceil(i),d=Math.ceil(l/f)):d>Math.ceil(a)&&(d=Math.ceil(a),l=Math.ceil(d*f))}break;case"FIT_NATIVE":l=s,d=o;break;case"FIT_VERTICAL":l=Math.ceil(a*u),d=Math.ceil(a);break;case"FIT_HORIZONTAL":l=Math.ceil(i),d=Math.ceil(i/u);break;case"FIT_BOTH":u<=h?(l=Math.ceil(a*u),d=Math.ceil(a)):(l=Math.ceil(i),d=Math.ceil(i/u));break;case"FIT_STRETCH":l=Math.ceil(i),d=Math.ceil(a);break;case"FIT_OVERSCAN":u>=h?(l=Math.ceil(a*u),d=Math.ceil(a)):(l=Math.ceil(i),d=Math.ceil(i/u))}i=Math.ceil(i),a=Math.ceil(a);var y=Math.floor((i-l)/2),v=Math.floor((a-d)/2);if("90deg"===t||"-270deg"===t||"-90deg"===t||"270deg"===t){var g=Math.floor((i-d)/2),b=Math.floor((a-l)/2);this.$element.find(".bb-content-layer .bb-fitme").css({width:d+"px",height:l+"px",position:"absolute",left:"0",top:"0",transformOrigin:"center",transform:"translate("+g+"px, "+b+"px) rotate("+t+")"})}else this.$element.find(".bb-content-layer .bb-fitme").css({width:l+"px",height:d+"px",position:"absolute",left:y+"px",top:v+"px",transform:""});null!=this._head&&this._head.restretch(s,o)}}},{key:"updateCastSession",value:function(e){var t,i,a=e?null:null===(t=this._castContext)||void 0===t?void 0:t.getCurrentSession();a!==this._castSession&&(this._castSession=a,null===(i=this.$element)||void 0===i||i.triggerHandler("bb_castsessionchange",[{castSession:this._castSession}]))}},{key:"_requestCastSession",value:function(){var e=!1;if(this._castContext){var t=this,i=this._castContext.requestSession();i&&i.then&&i.then((function(){c.default("[MainHeadController] showCastTargetPicker success"),t.updateCastSession()})).catch((function(e){c.default("[MainHeadController] showCastTargetPicker error: "+e),t.updateCastSession("cancel"!==e)})),e=!0}return e}},{key:"showCastTargetPicker",value:function(e){var t=!1;switch(e){default:case"AirPlay":this._head&&(t=this._head.showAirPlayTargetPicker());break;case"ChromeCast":t=this._requestCastSession()}return t}},{key:"getCastSession",value:function(){return this._castSession||null}},{key:"getCastSource",value:function(){var e=!1;return this._asset&&this._asset.processedSrc&&(e=this._asset.processedSrc),e}},{key:"_handleGCastApiAvailable",value:function(e){e&&this._initChromeCast(),window.__onGCastApiAvailable=this.__onGCastApiAvailable,this.__onGCastApiAvailable=null,"function"==typeof window.__onGCastApiAvailable&&window.__onGCastApiAvailable(e)}},{key:"_initChromeCast",value:function(){try{this._castContext=window.cast.framework.CastContext.getInstance()}catch(e){c.default("[MainHeadController] _initChromeCast error: "+e)}if(this._castContext){try{this._castContext.setOptions({receiverApplicationId:window.chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID})}catch(e){c.default("[MainHeadController] _initChromeCast error: "+e)}try{this._castContext.addEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,this._onCastSessionChanged.bind(this))}catch(e){c.default("[MainHeadController] _initChromeCast error: "+e)}this.$element&&this.$element.triggerHandler("bb_flagchange",[{canChromeCast:!0}])}}},{key:"_onCastSessionChanged",value:function(e){var t,i=this._useChromeCast;if(null===(t=this.$element)||void 0===t||t.triggerHandler("bb_castsessionstatechange",[]),null!=e&&Object(e)instanceof window.cast.framework.SessionStateEventData)switch(e.sessionState){case window.cast.framework.SessionState.SESSION_STARTED:case window.cast.framework.SessionState.SESSION_RESUMED:this._useChromeCast=!0,this.updateCastSession();break;case window.cast.framework.SessionState.NO_SESSION:case window.cast.framework.SessionState.SESSION_ENDED:this._useChromeCast=!1,this.updateCastSession()}this._useChromeCast!==i&&(this._playPending=this._playPending||this._playing,this._headType&&this._headType.match(/^Html5HLS/)&&this._selectAsset(),this._switchAsset())}},{key:"_masterVolumeHandler",value:function(e){if(null!=e&&null!=e.volume&&e.volume>=0&&e.volume<=1&&(c.default("[MainHeadController:"+this._eventNS+"] _masterVolumeHandler going to set masterVolume to: "+e.volume),this._masterVolume=e.volume,this.$element.triggerHandler("bb_media_volume_change",[{volume:null,masterVolume:this._masterVolume,muted:null,masterMuted:this._masterMute}]),null!=this._head&&!this._headIsBorrowed))this._head.set("volume",this._headVolume*this._masterVolume)}},{key:"_masterMuteHandler",value:function(e){if(null!=e&&null!=e.muted&&(c.default("[MainHeadController:"+this._eventNS+"] _masterMuteHandler going to set masterMute to: "+e.muted),this._masterMute=e.muted,this.$element.triggerHandler("bb_media_volume_change",[{volume:null,masterVolume:this._masterVolume,muted:null,masterMuted:this._masterMute}]),null!=this._head&&!this._headIsBorrowed))this._head.set("muted",this._headMute||this._masterMute)}},{key:"_selectAsset",value:function(e){if(r.default(l.default(p.prototype),"_selectAsset",this).call(this,!0),this._asset&&!this._asset.faked&&(this._savedAsset=null),this._savedShortlist=null,null!=this._localStorage){var t=null,i=this._localStorage.get("userSelectedAudioTrackIsoCode"),a=!1;if((void 0===i||null==i)&&(i="main",null!=this._defaultAudioTrackPlayoutVal))if("Main"==this._defaultAudioTrackPlayoutVal)i="main";else if("First Available Audio Track"==this._defaultAudioTrackPlayoutVal)for(var n=0;n<this._shortlist.length;n++){if(void 0!==(h=this._shortlist[n])["language-isocode"]&&""!=h["language-isocode"]){i=h["language-isocode"];break}}else if("Default Language"==this._defaultAudioTrackPlayoutVal)for(n=0;n<this._shortlist.length;n++){if((h=this._shortlist[n]).isDefaultLanguage,1==h.isDefaultLanguage&&void 0!==h["language-isocode"]&&""!==d.default(h["language-isocode"])){i=h["language-isocode"];break}}t=new Array;for(n=0;n<this._shortlist.length;n++)this._shortlist[n]["language-isocode"]!=i&&("main"!=i||void 0!==this._shortlist[n]["language-isocode"]&&""!==d.default(this._shortlist[n]["language-isocode"]))||t.push(this._shortlist[n]);0==t.length?t=this._shortlist:a=!0;null!=this._asset&&this._asset.id;var s=this._localStorage.get("userSelectedAsset"),o=null;if(void 0!==s&&null!=s?o=s:1==a&&(o=this._asset),null!=o&&t)if(this._clip&&"audio"===this._clip.mediatype){if(!isNaN(parseInt(o.bandwidth))){var u=-1;for(n=0;n<t.length;n++){var h=t[n];Number(h.bandwidth)<=Number(o.bandwidth)&&Number(h.bandwidth)>Number(u)&&(this._asset=h,u=this._asset.bandwidth)}}}else if(!isNaN(parseInt(o.height))){var c=-1;for(n=0;n<t.length;n++){h=t[n];Number(h.height)<=Number(o.height)&&Number(h.height)>Number(c)&&(this._asset=h,c=this._asset.height)}}}this._asset&&this.fitVideo(),e||(this._dispatchEvent("bb_assets_changed",{assets:this._shortlist}),this._dispatchEvent("bb_asset_selected",{asset:this._asset}))}},{key:"_onPlayoutChanged",value:function(e,t){r.default(l.default(p.prototype),"_onPlayoutChanged",this).call(this,e,t),t&&void 0!==t.playoutData&&(void 0!==t.playoutData.autoPlay&&(this._autoPlay="true"==t.playoutData.autoPlay),void 0!==t.playoutData.defaultAudioTrack&&(this._defaultAudioTrackPlayoutVal=t.playoutData.defaultAudioTrack),"Show"!==t.playoutData.castButton||this._castContext||this._initCastButton(),void 0!==t.playoutData.mobileRotateOnFullScreenMismatch&&(this._mobileRotateOnFullScreenMismatch="true"===t.playoutData.mobileRotateOnFullScreenMismatch))}},{key:"_onBandwidthMeasured",value:function(e,t){if(null!=t&&null!=t.measuredBandwidth){var i=this._measuredBandwidth;if(this._measuredBandwidth=t.measuredBandwidth,null==i)if(this._headIsBorrowed)this._shouldSelectAsset=!0;else if(!(this._autoPlay||this._started||this._asset&&this._needsHLSSupport(this._asset))){var a=null!=this._asset?this._asset.id:null;this._selectAsset(),null!=this._asset&&this._asset.id!=a&&this._switchAsset()}}}},{key:"_onPosterChanged",value:function(e,t){null!=t&&(t.width||t.height)&&(this._posterWidth=t.width,this._posterHeight=t.height,this._clip&&"audio"==this._clip.mediatype&&this.fitVideo())}},{key:"_onFullScreenMismatch",value:function(e,t){if(!(!t||void 0===t.fullScreenMismatch)&&t.fullScreenMismatch&&this._mobileRotateOnFullScreenMismatch&&this._isMobileDevice){var i=-window.orientation||90;this.setRotation(i+"deg")}else this.setRotation("0deg")}},{key:"_createHead",value:function(e,t,i){var a=null,n=$parcel$interopDefault(u)('<div class="bb-head" style="position:absolute; width:100%; height:100%; top:0; left:0;"></div>');switch(isNaN(parseInt(i))||n.css({zIndex:parseInt(i)}),this.$element.find(".bb-content-layer .bb-head-layer").append(n),this._avoidMediaManager||n.attr("data-useMediaManager","true"),n.attr("data-retryOnPlayFailed","false"),n.attr("data-shouldPlayInline",this._shouldPlayInline?"true":"false"),e){case"youtube":case"Html5Sprite360":case"Html5SpriteGL360":case"Html5Seek":case"Html5HLSVideoGL360":case"Html5VideoGL360":case"Html5HLS":case"Html5HLSDash":case"ChromeCast":break;case"html5":"image"==t||"interactive"==t||"audio"==t||"function"==typeof m.default&&(a=new m.default(n,this._opts))}return null==a&&n.remove(),a}},{key:"_onCommercialHeadSelected",value:function(e,t){void 0!==t&&null!=t&&(this._unbindFromHead(),void 0!==t.headType&&(this._headType=t.headType),void 0!==t.head&&(this._head=t.head),null!=this.$element&&this.$element.triggerHandler("bb_head_selected",[{head:this._head,headType:this._headType}]),this._bindToHead())}},{key:"_selectHead",value:function(){r.default(l.default(p.prototype),"_selectHead",this).call(this),c.default("[MainHeadController] selectHead "+this._headType),null!=this.$element&&(this.$element.triggerHandler("bb_head_selected",[{head:this._head,headType:this._headType}]),this._head&&this.$element.triggerHandler("bb_flagchange",[{canControlVolume:this._head.get("canControlVolume"),canControlPlaybackRate:this._head.get("canControlPlaybackRate")}]))}},{key:"_dispatchEvent",value:function(e,t){void 0!==t?this.$element.triggerHandler(e,[t]):this.$element.triggerHandler(e)}},{key:"_onHeadEvent",value:function(e,t){if(e.stopPropagation(),null!=this.$element)switch(e.type){case"couldplay":var i;if(!this._couldPlay)if(c.default("[MainHeadController] couldplay event, this._playPending = "+this._playPending),this._couldPlay=!0,this.$element.triggerHandler("bb_media_couldplay"),null!=this._seekPosition&&this._head&&(this._savedSeekPosition=this._seekPosition,this._seekPosition=null,this._head.set("currentTime",this._savedSeekPosition)),this._playPending)null===(i=this._head)||void 0===i||i.set("playbackRate",this._playbackRate),this.play();break;case"loadstart":this._playing=!1,this._couldPlay=!1,this._canPlay=!1,this.$element.triggerHandler("bb_media_loadstart");break;case"loadedmetadata":this.$element.triggerHandler("bb_media_loadedmetadata");break;case"loadeddata":var a;if(this.fitVideo(),this.$element.triggerHandler("bb_media_loadeddata"),!this._canPlay&&"html5"==this._headType&&null!=this._detections&&!this._detections.canAutoPlay)if(this._canPlay=!0,this.$element.triggerHandler("bb_media_canplay"),null!=this._seekPosition&&this._head&&(this._savedSeekPosition=this._seekPosition,this._seekPosition=null,this._head.set("currentTime",this._savedSeekPosition)),!this._couldPlay&&this._playPending)null===(a=this._head)||void 0===a||a.set("playbackRate",this._playbackRate),this.play();break;case"canplay":this._canPlay||(this._canPlay=!0,this.$element.triggerHandler("bb_media_canplay"),null!=this._seekPosition&&this._head&&(this._savedSeekPosition=this._seekPosition,this._seekPosition=null,this._head.set("currentTime",this._savedSeekPosition)),!this._couldPlay&&this._playPending&&this.play());var n=this._head?this._head.get("qualities"):null;if(n&&n.length>0&&this._asset&&!this._asset.faked){this._savedAsset||(this._savedAsset=this._asset),this._savedShortlist||(this._savedShortlist=this._shortlist),this._prevAsset=this._asset,this._asset=null,this._shortlist=[];var s=this;this._savedShortlist&&this._savedShortlist.forEach((function(e,t){e.id!==s._savedAsset.id&&s._shortlist.push(e)})),n.forEach((function(e,t){var i={faked:!0,id:e.level,src:s._savedAsset.src,processedSrc:s._savedAsset.processedSrc+"#q="+e.level,mediatype:s._savedAsset.mediatype,"language-id":s._savedAsset["language-id"],"language-name":s._savedAsset["language-name"],"language-isocode":s._savedAsset["language-isocode"],width:e.width,height:e.height,bandwidth:e.bandwidth};(e.selected||1==n.length)&&(s._asset=i),s._shortlist.push(i)})),this._asset?(this._dispatchEvent("bb_assets_changed",{assets:this._shortlist}),this._prevAsset&&this._asset.id===this._prevAsset.id||this._dispatchEvent("bb_asset_selected",{asset:this._asset})):(this._asset=this._savedAsset,this._shortlist=this._savedShortlist)}break;case"play":this._playPending=!0,this.$element.triggerHandler("bb_media_play");break;case"playing":this._playPending=!1,this._couldPlay=!1,this._started?this.$element.triggerHandler("bb_media_resumed"):(this._started=!0,this.$element.triggerHandler("bb_media_started")),this._playing=!0,this.$element.triggerHandler("bb_media_playing"),this.fitVideo();break;case"pause":this._playing=!1,this.$element.triggerHandler("bb_media_paused");break;case"waiting":this.$element.triggerHandler("bb_media_waiting");break;case"stalled":this.$element.triggerHandler("bb_media_stalled"),this._localStorage;break;case"abort":this._playing=!1;break;case"adSkipped":case"ended":this._couldPlay=!1,this._playing=!1,this._started&&(this._started=!1,this.$element.triggerHandler("bb_media_finished"));break;case"error":this._couldPlay=!1;var o=!1,r="no head, no glory";if(null!=this._head){var l=this._head.get("error");if(null!=l){switch(l.code){case 1:r="MEDIA_ERR_ABORTED";break;case 2:r="MEDIA_ERR_NETWORK";break;case 3:r="MEDIA_ERR_DECODE";break;case 4:r="MEDIA_ERR_SRC_NOT_SUPPORTED",this._headType&&this._headType.match(/^Html5HLS/)&&(o=!0);break;default:r="unknown error code: "+l.code+", msg: "+l.error}r+=", src: "+this._head.get("currentSrc")}else r="no error specified"}if(this._headType.match(/^Html5HLS/)&&null===l)this._switchAsset();else if(!o&&null!=this._clip&&"mainroll"!=this._clip.mediatype){var d=null;this._asset&&(this._assetIdsToAvoid["#"+this._asset.id]=!0,d=this._asset.id),this._selectAsset(),this._asset&&this._asset.id!=d?(this.$element.triggerHandler("bb_warning",[{msg:r}]),this._switchAsset()):this.$element.triggerHandler("bb_error",[{msg:r}])}break;case"timeupdate":var u=null;null!=this._head&&(void 0!==t&&null!=t&&void 0!==t.currentTime&&(u=t.currentTime),null==u&&(u=this._head.get("currentTime")),this._lastCurrentTime=u),null==this._savedSeekPosition&&this.$element.triggerHandler("bb_media_timeupdate",[{currentTime:u}]);break;case"progress":this.$element.triggerHandler("bb_media_progress");break;case"seeking":this.$element.triggerHandler("bb_media_seeking");break;case"seeked":var h=null;null!=this._savedSeekPosition?(h=this._savedSeekPosition,this._savedSeekPosition=null):null!=this._head&&(h=this._head.get("currentTime")),this.$element.triggerHandler("bb_media_seeked",[{seekedPosition:h}]);break;case"volumechange":var p=null,_=null;null!=this._head&&(p=this._masterVolume>0?this._head.get("volume")/this._masterVolume:this._headVolume,_=this._masterMute?this._headMute:this._head.get("muted")),this.$element.triggerHandler("bb_media_volume_change",[{volume:p,masterVolume:this._masterVolume,muted:_,masterMuted:this._masterMute}]);break;case"durationchange":var m=null;null!=this._head&&(m=this._head.get("duration")),this.$element.triggerHandler("bb_media_duration_change",[{duration:m}]);break;case"ratechange":this.$element.triggerHandler("bb_media_playback_rate_change",[{rate:this.get("playbackRate")}]);break;case"webkitplaybacktargetavailabilitychanged":var f=e.availability||e.originalEvent.availability;this.$element&&this.$element.triggerHandler("bb_playbacktargetavailabilitychanged",[{availability:f}])}}}]),p}(p.default)})),parcelRequire.register("8ZRQJ",(function(e,t){$parcel$export(e.exports,"default",(function(){return r})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),a=parcelRequire("b3HW6");parcelRequire("boCbw");var n=parcelRequire("6gF5a"),s=parcelRequire("8aMPH"),o=parcelRequire("k0pvG"),r=function(){"use strict";function e(t,a){if(i.default(this,e),this.$element=null,this.$wrapper=null,this._opts=void 0!==a?a:null,this._eventNS="headcontroller"+String(Math.random()).replace(".",""),this._avoidMediaManager=null!=this._opts&&this._opts.publicationData&&"true"==this._opts.publicationData.avoidMediaManager,this._avoidPreload=!1,this._fitMode=null!=this._opts&&void 0!==this._opts.playoutData&&void 0!==this._opts.playoutData.fitmode?this._opts.playoutData.fitmode:"FIT_SMART",this._masterVolume=.7,this._masterMute=!1,this._headVolume=1,this._headMute=!1,this._playbackRate=1,this._clip=null,this._asset=null,this._asset_ipod=null,this._detections=null,this._broker=null,this._sc=null,this._headType="none",this._heads={},this._head=null,this._headBound=!1,this._headTypesToAvoid={},this._assetIdsToAvoid={},this._measuredBandwidth=null,this._shortlist=[],this._couldPlay=!1,this._canPlay=!1,this._playPending=!1,this._seekPosition=null,this._savedSeekPosition=null,this._playing=!1,this._resizingEnabled=!1,this._isiOS=!1,this._isChrome=!1,this._isChromeDesktop=!1,this._couldPlayVideoGL360=!1,this._shouldPlayInline=!1,this._isVPAID=!1,this._is360Video=!1,this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onContentResizedBound=this._onContentResized.bind(this),this._onComponentBound=this._onComponent.bind(this),this._onHeadEventBound=this._onHeadEvent.bind(this),void 0!==t&&null!=t){this.$element=t,this._isVPAID=!!this.$element.data("isVPAID"),this.$wrapper=this.$element.closest(".bb_wrapper"),void 0!==o.default.getService(this._opts.playerAliasOrId).getInstance("Detections")&&(this._detections=o.default.getService(this._opts.playerAliasOrId).getInstance("Detections")),void 0!==this._detections&&null!=this._detections&&(this._isiOS=this._detections.isiOS,this._isChrome=this._detections.isChrome,this._isChromeDesktop=this._detections.isChrome&&!this._detections.isMobileDevice,this._avoidPreload=this._detections.avoidPreload,this._couldPlayVideoGL360=this._isChromeDesktop||this._detections.isAndroid||this._detections.isFirefox||this._detections.isEdge||this._detections.isSafari||this._detections.isFacebookApp||this._detections.isInstagram),void 0!==o.default.getService(this._opts.playerAliasOrId).getInstance("ComponentBroker")&&(this._broker=o.default.getService(this._opts.playerAliasOrId).getInstance("ComponentBroker")),this._sc=o.default.getService(this._opts.playerAliasOrId).getInstance("SoundController"),void 0!==this._sc&&null!=this._sc&&(this._masterVolume=this._sc.getVolume(),this._masterMute=this._sc.getMuted(),this._sc.registerMasterVolumeHandler(this._eventNS,this._masterVolumeHandler.bind(this)),this._sc.registerMasterMuteHandler(this._eventNS,this._masterMuteHandler.bind(this)));var n=a&&a.playoutData&&"true"==a.playoutData.autoMute||this._headMute||this._masterMute;null==this._opts||n&&this._detections&&this._detections.canAutoPlayMuted||void 0===this._opts.playoutData||null==this._opts.playoutData||!(void 0!==this._opts.playoutData.autoPlay&&"true"==this._opts.playoutData.autoPlay||void 0!==this._opts.playoutData.interactivity_inView&&"none"!=this._opts.playoutData.interactivity_inView)?null!=this._opts&&(this._opts._loadOnTouch=!1):null!=this._opts&&(this._opts._loadOnTouch=!0),this.enableResizing(),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound)}}return a.default(e,[{key:"exit",value:function(){for(var e in this.reset(),this._heads)if(null!=this._heads[e]){var t=this._heads[e].$element;this._heads[e]=this._heads[e].exit(),t.remove()}var i;(this._heads={},null!=this.$element)&&(this.disableResizing(),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),null===(i=this.$wrapper)||void 0===i||i.off("bb_component_loaded bb_component_failed",this._onComponentBound));return this._sc&&(this._sc.unregisterMasterVolumeHandler(this._eventNS),this._sc.unregisterMasterMuteHandler(this._eventNS)),this._localStorage=null,null}},{key:"reset",value:function(){null!=this._head&&(this._head.reset(),this._unbindFromHead(),this._headVolume=1,this._headMute=!1,this._head=null,this._measuredBandwidth=null),this._headTypesToAvoid={},this._assetIdsToAvoid={},this._couldPlay=!1,this._canPlay=!1,this._playing=!1,this._clip=null,this._asset=null,this._asset_ipod=null,this._playPending=!1,this._seekPosition=null,this._fitMode=null!=this._opts&&void 0!==this._opts.playoutData&&this._opts.playoutData.fitmode?this._opts.playoutData.fitmode:"FIT_SMART"}},{key:"enableResizing",value:function(){null==this.$element||this._resizingEnabled||(this._resizingEnabled=!0,this.$element.on("bb_resized",this._onContentResizedBound),this.$element.on("bb_content_resized",this._onContentResizedBound),this.$element.on("bb_fullscreen_change",this._onContentResizedBound))}},{key:"disableResizing",value:function(){null!=this.$element&&this._resizingEnabled&&(this._resizingEnabled=!1,this.$element.off("bb_resized",this._onContentResizedBound),this.$element.off("bb_content_resized",this._onContentResizedBound),this.$element.off("bb_fullscreen_change",this._onContentResizedBound))}},{key:"load",value:function(e,t){var i=!1;return this.reset(),t&&(this._seekPosition=t),void 0!==e&&null!=e?(this._clip=e,void 0!==this._clip.length&&this._dispatchEvent("bb_head_duration_change",[{duration:this._clip.length}]),this._clip.fitmode&&"FIT_NONE"!=this._clip.fitmode&&(this._fitMode=this._clip.fitmode),this._selectAsset(),i=this._switchAsset()):i=!0,i}},{key:"nativeFullscreen",value:function(){return!(!this._head||!this._head.mediaRequestFullscreen)&&this._head.mediaRequestFullscreen()}},{key:"play",value:function(e){if(s.default("[HeadController] play user action: "+e),this._playPending=!0,null!=this._head){if(this._head.toFront(),this._couldPlay||this._canPlay||e)return this._head.play(e);this._head.load(e)}return!1}},{key:"pause",value:function(){return this._playPending=!1,null!=this._head&&this._head.pause()}},{key:"switchAsset",value:function(e){var t=!1;if(null!=this._asset&&this._asset.id==e)return!0;var i=null;if(null!=this._shortlist)for(var a=0;a<this._shortlist.length;a++){var n=this._shortlist[a];if(null!=n&&n.id==e){i=n;break}}return null!=i?(null===this._seekPosition&&this._head&&!this._head.get("isLive")&&(this._seekPosition=this._head.get("currentTime")),this._playPending=this._playPending||this._playing,this._asset=i,this._dispatchEvent("bb_asset_selected",{asset:this._asset}),t=this._switchAsset()):this._dispatchEvent("bb_warning",{msg:"asset id not found"}),t}},{key:"_switchAsset",value:function(e,t){var i=!1;if(null!=this._asset)if(t?this._asset.processedSrc.match(/#t=[^;&]*/)?this._asset.processedSrc.replace(/#t=[^;&]*/,"#t="+t):this._asset.processedSrc+="#t="+t:this._asset.processedSrc.match(/#t=[^;&]*/)&&this._asset.processedSrc.replace(/#t=[^;&]*/,""),this._selectHead(),null!=this._head){var a=this._asset.processedSrc;i=this._head.set("src",a,e),this._avoidPreload||this._head.load()}else this._broker&&this._broker.isLoading(this._headType+"Head")||this._dispatchEvent("bb_error",{msg:"no head"});else this._dispatchEvent("bb_error",{msg:"no asset"});return i}},{key:"_onComponent",value:function(e,t){t.component===this._headType+"Head"&&(this.$wrapper.off("bb_component_loaded bb_component_failed",this._onComponentBound),this._switchAsset())}},{key:"set",value:function(e,t){switch(e){case"volume":this._headVolume=t,null!=this._head&&this._head.set("volume",this._headVolume*this._masterVolume);break;case"muted":this._headMute=t,null!=this._head&&this._head.set("muted",this._headMute||this._masterMute);break;case"currentTime":isNaN(parseFloat(t))||(this._seekPosition=t,null!=this._head&&this._canPlay&&null!=this._seekPosition&&(this._savedSeekPosition=this._seekPosition,this._seekPosition=null,this._head.set("currentTime",this._savedSeekPosition)));break;case"playbackRate":var i=!1;return isNaN(parseFloat(t))||(this._playbackRate=t,i=!0,this._head&&(i=this._head.set("playbackRate",this._playbackRate))),i;default:if(null!=this._head)return this._head.set(e,t)}return null}},{key:"get",value:function(e){switch(e){case"bitrate":if(null!=this._asset)return this._asset.bandwidth;break;case"volume":return null!=this._head&&this._masterVolume>0?this._head.get("volume")/this._masterVolume:this._headVolume;case"muted":return null!=this._head?this._masterMute?this._headMute:this._head.get("muted"):this._headMute;case"duration":if(null!=this._head){if(0!=this._head.get("duration"))return this._head.get("duration");if(null!=this._clip&&void 0!==this._clip.length)return Number(this._clip.length)}else if(null!=this._clip&&void 0!==this._clip.length)return Number(this._clip.length);break;case"playbackRate":return this._head?this._head.get("playbackRate"):this._playbackRate;default:if(null!=this._head)return this._head.get(e)}return null}},{key:"getCurrentHeadType",value:function(){return this._headType}},{key:"getHeadByType",value:function(e,t,i){var a,n,s,o;if(void 0===t&&(t=null!=this._clip?this._clip.mediatype:"video"),"html5ima"===e&&((null===(a=this._opts)||void 0===a||null===(n=a.adSchedulingData)||void 0===n?void 0:n.scheduleId)||(null===(s=this._opts)||void 0===s||null===(o=s.adSchedulingData)||void 0===o?void 0:o.scheduleCode))){var r=this._heads[e+"_"+t];this._heads[e+"_"+t]=null==r?void 0:r.exit()}return void 0!==this._heads[e+"_"+t]&&null!=this._heads[e+"_"+t]||(this._heads[e+"_"+t]=this._createHead(e,t,i)),this._heads[e+"_"+t]}},{key:"getAssets",value:function(e){return this._shortlist}},{key:"fitVideo",value:function(){var e=!1;null!=this._detections&&this._detections.isAndroidNative&&(e=!0);var t=768,i=432;null!=this._head&&this._head.get("mediaWidth")>0?(t=this._head.get("mediaWidth"),i=this._head.get("mediaHeight")):null!=this._asset&&this._asset.width>0&&(t=this._asset.width,i=this._asset.height),null!=this._detections&&!1!==this._detections.androidVersion&&parseFloat(this._detections.androidVersion)>=3&&null!=this._asset&&(t=this._asset.width,i=this._asset.height),null==this._head||e||this._head.restretch(t,i)}},{key:"showCastTargetPicker",value:function(e){}},{key:"_onPlayoutChanged",value:function(e,t){t&&void 0!==t.playoutData&&void 0!==t.playoutData.fitmode&&(this._fitMode=t.playoutData.fitmode,this._clip&&this._clip.fitmode&&"FIT_NONE"!==this._clip.fitmode&&(this._fitMode=this._clip.fitmode))}},{key:"_onCommercialHeadSelected",value:function(e,t){}},{key:"_onContentResized",value:function(e,t){e.stopPropagation(),this.fitVideo()}},{key:"_onMasterVolumeSet",value:function(e,t){this._masterVolumeHandler(t)}},{key:"_masterVolumeHandler",value:function(e){if(e&&void 0!==e.volume&&null!=e.volume&&e.volume>=0&&e.volume<=1&&(s.default("[HeadController:"+this._eventNS+"] _masterVolumeHandler going to set masterVolume to: "+e.volume),this._masterVolume=e.volume,this.$element.triggerHandler("bb_head_volume_change",[{volume:null,masterVolume:this._masterVolume,muted:null,masterMuted:this._masterMute}]),null!=this._head))this._head.set("volume",this._headVolume*this._masterVolume)}},{key:"_onMasterVolumeMute",value:function(e,t){this._masterMuteHandler(t)}},{key:"_masterMuteHandler",value:function(e){if(e&&void 0!==e.muted&&null!=e.muted&&(s.default("[HeadController:"+this._eventNS+"] _masterMuteHandler going to set masterMute to: "+e.muted),this._masterMute=e.muted,this.$element.triggerHandler("bb_head_volume_change",[{volume:null,masterVolume:this._masterVolume,muted:null,masterMuted:this._masterMute}]),null!=this._head))this._head.set("muted",this._headMute||this._masterMute)}},{key:"_selectHead",value:function(){var e=this._headType;this._determineHeadType(),this._headType!=e&&(null!=this._head&&(this._headVolume=this._masterVolume>0?this._head.get("volume")/this._masterVolume:1,this._headMute=!this._masterMute&&this._head.get("muted"),this._playbackRate=this._head.get("playbackRate")||1,this._head.reset(),this._unbindFromHead(),this._head=null),this._couldPlay=!1,this._canPlay=!1,this._playing=!1),this._head=this.getHeadByType(this._headType),this._bindToHead(),null!=this._head&&(this._head.set("muted",this._headMute||this._masterMute),this._head.set("volume",this._headVolume*this._masterVolume),this._head.set("playbackRate",this._playbackRate),void 0!==this._headControls&&this._head.set("controls",this._headControls))}},{key:"_selectAsset",value:function(t){if(this._asset=null,this._asset_ipod=null,this._shortlist=[],null!=this._clip){var i,a;switch(this._clip.mediatype){case"image":(l={mediatype:"image/"+this._clip.src.substr(this._clip.src.lastIndexOf(".")).toLowerCase(),id:this._clip.id,src:this._clip.src,bandwidth:-1}).processedSrc=this._preProcessSrc(l.src,this._clip.mediaassetpath),this._shortlist.push(l);break;case"interactive":(l={mediatype:"application/x-shockwave-flash",id:this._clip.id,src:this._clip.src,bandwidth:-1}).processedSrc=this._preProcessSrc(l.src,this._clip.mediaassetpath),this._shortlist.push(l);var n=this._opts.publicationData.server+"/mediaclip/"+this._clip.id+"/pthumbnail/default/default.png",s={mediatype:"image/png",id:this._clip.id,src:n,bandwidth:-2};s.processedSrc=this._preProcessSrc(s.src,this._clip.mediaassetpath),this._shortlist.push(s);break;case"mainroll":this._shouldPlayInline=!0;break;default:case"video":this._is360Video="true"===this._clip.cubemapVideo||!0===this._clip.cubemapVideo||"360video"===this._clip.subtype||!0===this._clip.isThreeSixtyVideo||"true"===this._clip.isThreeSixtyVideo;case"audio":if(this._shouldPlayInline="true"==this._clip.shouldPlayInline,void 0!==this._clip.timelines&&null!=this._clip.timelines&&this._clip.timelines.length>=1&&(this._shouldPlayInline=!0),this._is360Video&&(this._shouldPlayInline=!0),this._useYouTubeHead=!1,this._opts&&this._opts.playoutData&&"true"==this._opts.playoutData.youTubeHosting){if(void 0!==this._clip.exports&&null!=this._clip.exports&&this._clip.exports.length>0)for(var o=0;o<this._clip.exports.length;o++)if(void 0!==this._clip.exports[o].exportchannel&&this._clip.exports[o].exportchannel.exportsystemname.match(/^youtube/i)&&void 0!==this._clip.exports[o].externalid){(l={mediatype:"YOUTUBE",id:this._clip.id,src:this._clip.exports[o].externalid,bandwidth:1e3}).processedSrc=l.src,this._shortlist.push(l)}var r;if(0==this._shortlist.length&&this._clip.sourceid&&(null!=(r=this._clip.sourceid.match(/[0-9]+yt-.*v=([^&]+)/))||null!=(r=this._clip.sourceid.match(/[0-9]+yt-.*embed\/([^&]+)/))||null!=(r=this._clip.sourceid.match(/imported-from\:.*youtube.*v=([^&]+)/))||null!=(r=this._clip.sourceid.match(/imported-from\:.*youtu\.be\/([^&]+)/)))&&r.length>1)(l={mediatype:"YOUTUBE",id:this._clip.id,src:r[1],bandwidth:1e3}).processedSrc=l.src,this._shortlist.push(l);if(this._shortlist.length>0&&null!=this._clip.assets)for(o=0;o<this._clip.assets.length;o++){(l=this._clip.assets[o]).mediatype&&l.mediatype.match(/^IMAGESEQUENCE/i)&&(l.processedSrc=this._preProcessSrc(l.src,this._clip.mediaassetpath),this._shortlist.push(l))}}if(0!=this._shortlist.length);else if(null!=this._clip.assets)for(o=0;o<this._clip.assets.length;o++){var l=this._clip.assets[o];this._doNotSelect(l)||(l.processedSrc=this._preProcessSrc(l.src,this._clip.mediaassetpath),this._shortlist.push(l),l.mediatype&&l.mediatype.match(/^MP4_IPOD/i)&&(this._asset_ipod=l))}}if(null!=this._detections){if(!this._detections.supportsMediaTag)for(o=this._shortlist.length-1;o>=0;o--)this._needsMediaTag(this._shortlist[o])&&this._shortlist.splice(o,1);if(!this._detections.isiOS)for(o=this._shortlist.length-1;o>=0;o--)this._needsIOS(this._shortlist[o])&&this._shortlist.splice(o,1);if(!this._detections.canPlayType("video/webm"))for(o=this._shortlist.length-1;o>=0;o--)this._needsWebmSupport(this._shortlist[o])&&this._shortlist.splice(o,1);for(o=this._shortlist.length-1;o>=0;o--)this._needsDotAACSupport(this._shortlist[o])&&this._shortlist.splice(o,1);if(!this._detections.canPlayType("audio/aac"))for(o=this._shortlist.length-1;o>=0;o--)this._needsHtml5AACSupport(this._shortlist[o])&&this._shortlist.splice(o,1);if(this._detections.isiOS&&this._detections.iOSVersion>0&&this._detections.iOSVersion<5)for(o=this._shortlist.length-1;o>=0;o--)this._supportedByIOSVersionLessThan5(this._shortlist[o])||this._shortlist.splice(o,1);if(this._is360Video)if(this._couldPlayVideoGL360&&this._detections.hasWebGL)for(o=this._shortlist.length-1;o>=0;o--)this._needsSprite(this._shortlist[o])&&this._shortlist.splice(o,1);else for(o=this._shortlist.length-1;o>=0;o--)this._needsSprite(this._shortlist[o])||this._shortlist.splice(o,1);else{if((!this._detections.canPlayInline||(this._detections.isiPad||this._detections.isiPhone)&&this._isVPAID)&&this._shouldPlayInline)for(o=this._shortlist.length-1;o>=0;o--)this._needsHtml5Seek(this._shortlist[o])||this._shortlist.splice(o,1);else if(!this._opts.playoutData||"true"!=this._opts.playoutData.allowImageSequence)for(o=this._shortlist.length-1;o>=0;o--)this._needsHtml5Seek(this._shortlist[o])&&this._shortlist.splice(o,1);for(o=this._shortlist.length-1;o>=0;o--)this._needsSprite(this._shortlist[o])&&this._shortlist.splice(o,1)}for(o=this._shortlist.length-1;o>=0;o--)this._canPlayAsset(this._shortlist[o])||this._shortlist.splice(o,1)}if(0==this._shortlist.length&&null!=this._asset_ipod&&this._shortlist.push(this._asset_ipod),this._detections.isSafari||this._detections.isiOS){var d=this;if(this._shortlist.some((function(e){return d._needsHLSSupport(e)})))for(o=this._shortlist.length-1;o>=0;o--)this._needsMPDSupport(this._shortlist[o])&&this._shortlist.splice(o,1)}else{var u=this;if(this._shortlist.some((function(e){return u._needsMPDSupport(e)})))for(o=this._shortlist.length-1;o>=0;o--)this._needsHLSSupport(this._shortlist[o])&&this._shortlist.splice(o,1)}this._shortlist.sort(e._sortShortList);var h=1800,c=360;if(null!=this._detections){this._detections.isMobileDevice&&(h=600),null!=this._detections.measuredBandwidth&&(h=this._measuredBandwidth=this._detections.measuredBandwidth);var p=this._detections.deviceResolution,_=this._detections.devicePixelRatio;null!=p&&(c=p.height*_)}this._is360Video&&this._detections.isMobileDevice&&(h=1200);var m="true"===(null===(i=this._opts)||void 0===i||null===(a=i.playoutData)||void 0===a?void 0:a.preferHD);for(o=0;o<this._shortlist.length;o++){l=this._shortlist[o];if(null==this._asset)this._asset=l;else if(m||Number(l.bandwidth)<=Number(h))if("video"===this._clip.mediatype)(m||Number(l.height)<=1.2*c)&&(this._asset=l);else this._asset=l}}t||(this._dispatchEvent("bb_assets_changed",{assets:this._shortlist}),this._dispatchEvent("bb_asset_selected",{asset:this._asset}))}},{key:"_doNotSelect",value:function(e){return!!(e&&e.id&&this._assetIdsToAvoid["#"+e.id])||!!(e&&e.mediatype&&(e.mediatype.match(/^MPEG2/i)||e.mediatype.match(/^MP4_TIMELINE/i)||e.mediatype.match(/^MP4_PREVIEW/i)||e.mediatype.match(/^TEASER/i)||e.mediatype.match(/^thumbnailset/i)||e.mediatype.match(/WMV/i)||e.mediatype.match(/3GP/i)))}},{key:"_canPlayAsset",value:function(e){return!!e&&(this._needsYouTube(e),this._needsHtml5HLS(e),this._needsHtml5HLS(e),this._needsHtml5MPD(e),this._needsHtml5MPD(e),this._needsSprite360(e)&&this._broker&&this._broker.isPlayerComponentAvailable("Html5Sprite360Head")?"probably":(this._needsSpriteGL360(e),this._detections&&e.mimetype?this._detections.canPlayType(e.mimetype):"maybe"))}},{key:"_needsHtml5HLS",value:function(e){return!(null==this._detections||this._detections.canPlayHLS||!this._needsHLSSupport(e))}},{key:"_needsHtml5MPD",value:function(e){return!(null==this._detections||this._detections.canPlayMPD||!this._needsMPDSupport(e))}},{key:"_needsHtml5Seek",value:function(e){if(this._detections&&!this._detections.canPlayInline){if(e.mediatype.match(/^MP4_IPOD/i))return!0;if(e.mediatype.match(/^MP4_MAIN/i))return!0;if(e.mediatype.match(/^MP4_HD/i))return!0;if(e.mediatype.match(/^MP4_HLS/i))return!0;if(e.mediatype.match(/^MP4_HDS/i))return!0}return!1}},{key:"_needsYouTube",value:function(e){return"YOUTUBE"==e.mediatype}},{key:"_needsSprite",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^IMAGESEQUENCE/i))||!(!e.processedSrc||!e.processedSrc.match(/\.json$/i))}},{key:"_needsSprite360",value:function(e){if(this._is360Video){if(e.mediatype&&e.mediatype.match(/^IMAGESEQUENCE/i)&&!this._detections.hasWebGL)return!0;if(e.processedSrc&&e.processedSrc.match(/\.json$/i)&&!this._detections.hasWebGL)return!0}return!1}},{key:"_needsSpriteGL360",value:function(e){if(this._is360Video){if(e.mediatype&&e.mediatype.match(/^IMAGESEQUENCE/i))return!0;if(e.processedSrc&&e.processedSrc.match(/\.json$/i))return!0}return!1}},{key:"_needsVideoGL360",value:function(e){return!!this._is360Video}},{key:"_needsHtml5HLSVideoGL360",value:function(e){return!(!this._needsHtml5HLS(e)||!this._needsVideoGL360(e))}},{key:"_needsMediaTag",value:function(e){return!!e.processedSrc.match(/\.aac$/i)}},{key:"_needsIOS",value:function(e){return!1}},{key:"_needsChromeCast",value:function(e){return!!this._useChromeCast}},{key:"_needsHLSSupport",value:function(e){return!(!e.processedSrc||!e.processedSrc.match(/\.m3u8$/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.m3u8\?/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.m3u8&/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.m3u8#/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.m3u$/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.m3u\?/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.m3u&/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.m3u#/i))||(!(!e.processedSrc||!e.processedSrc.match(/\output\=playlist\.m3u8/i))||!(!e.processedSrc||!e.processedSrc.match(/\profile\=hls/i))))))))))}},{key:"_needsMPDSupport",value:function(e){return!(!e.processedSrc||!e.processedSrc.match(/\.mpd$/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.mpd\?/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.mpd&/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.mpd#/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.cmfv$/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.cmfv\?/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.cmfv&/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.cmfv#/i))||(!(!e.processedSrc||!e.processedSrc.match(/\output\=playlist\.mpd/i))||!(!e.processedSrc||!e.processedSrc.match(/\output\=playlist\.cmfv/i))))))))))}},{key:"_needsWebmSupport",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^WEBM/i))||!(!e.processedSrc||!e.processedSrc.match(/\.webm\?/i))}},{key:"_needsDotAACSupport",value:function(e){return!(!e.processedSrc||!e.processedSrc.match(/\.aac$/i))}},{key:"_needsHtml5AACSupport",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^AACP/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.aac$/i))||!(!e.processedSrc||!e.processedSrc.match(/aacp$/i)))}},{key:"_needsAudioMP4Support",value:function(e){return!!(e.mediatype&&e.mediatype.match(/^AAC/i)&&e.processedSrc&&e.processedSrc.match(/\.mp4$/i))||!(!e.processedSrc||!e.processedSrc.match(/\.m4a$/i))}},{key:"_supportedByIOSVersionLessThan5",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^MP4_IPOD/i))||(!(!e.mediatype||!e.mediatype.match(/^MP3/i))||(!(!e.mediatype||!e.mediatype.match(/^AAC/i))||(!(!e.mediatype||!e.mediatype.match(/^image\/gif/i))||(!(!e.mediatype||!e.mediatype.match(/^image\/jpg/i))||!(!e.mediatype||!e.mediatype.match(/^image\/png/i))))))}},{key:"_supportedByMediaTag",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^MP4_IPOD/i))}},{key:"_determineHeadType",value:function(){this._headType="none",null!=this._clip&&null!=this._asset&&(this._needsYouTube(this._asset)&&!this._headTypesToAvoid.youtube?this._headType="youtube":this._needsSprite360(this._asset)&&!this._headTypesToAvoid.Html5Sprite360?(this._headType="Html5Sprite360",this._headTypesToAvoid.Html5Seek=!0,this._headTypesToAvoid.html5=!0):this._needsSpriteGL360(this._asset)&&!this._headTypesToAvoid.Html5SpriteGL360?(this._headType="Html5SpriteGL360",this._headTypesToAvoid.Html5Seek=!0,this._headTypesToAvoid.html5=!0):this._needsHtml5Seek(this._asset)&&!this._headTypesToAvoid.Html5Seek?this._headType="Html5Seek":this._needsHtml5HLSVideoGL360(this._asset)&&!this._headTypesToAvoid.Html5HLSVideoGL360?(this._headType="Html5HLSVideoGL360",this._headTypesToAvoid.sprite=!0,this._headTypesToAvoid.html5=!0):this._needsVideoGL360(this._asset)&&!this._headTypesToAvoid.Html5VideoGL360?(this._headType="Html5VideoGL360",this._headTypesToAvoid.Html5Seek=!0,this._headTypesToAvoid.html5=!0):this._needsHtml5MPD(this._asset)&&!this._headTypesToAvoid.Html5HLSDash?this._headType="Html5HLSDash":this._needsChromeCast(this._asset)&&!this._headTypesToAvoid.ChromeCast?this._headType="ChromeCast":this._needsHtml5HLS(this._asset)&&!this._headTypesToAvoid.Html5HLS?this._headType="Html5HLS":this._headTypesToAvoid.html5||(this._headType="html5")),null!=this._opts&&void 0!==this._opts.playoutData&&void 0!==this._opts.playoutData.forcedHead&&(this._headType=this._opts.playoutData.forcedHead),null!=this._opts&&void 0!==this._opts.requestParams&&void 0!==this._opts.requestParams.forcedHead&&(this._headType=this._opts.requestParams.forcedHead)}},{key:"_createHead",value:function(e,t,i){var a=null,s=$parcel$interopDefault(n)('<div class="bb-head" style="position:absolute; width:100%; height:100%; top:0; left:0;"></div>');return isNaN(parseInt(i))||s.css({zIndex:parseInt(i)}),this.$element.append(s),s.attr("data-retryOnPlayFailed","false"),null==a&&s.remove(),a}},{key:"_bindToHead",value:function(){null==this._head||this._headBound||(this._headBound=!0,null!=this._head.$element&&(this._head.$element.on("loadstart",this._onHeadEventBound),this._head.$element.on("couldplay",this._onHeadEventBound),this._head.$element.on("loadeddata",this._onHeadEventBound),this._head.$element.on("canplay",this._onHeadEventBound),this._head.$element.on("error",this._onHeadEventBound),this._head.$element.on("play",this._onHeadEventBound),this._head.$element.on("playing",this._onHeadEventBound),this._head.$element.on("pause",this._onHeadEventBound),this._head.$element.on("waiting",this._onHeadEventBound),this._head.$element.on("stalled",this._onHeadEventBound),this._head.$element.on("timeupdate",this._onHeadEventBound),this._head.$element.on("seeking",this._onHeadEventBound),this._head.$element.on("seeked",this._onHeadEventBound),this._head.$element.on("abort",this._onHeadEventBound),this._head.$element.on("adSkipped",this._onHeadEventBound),this._head.$element.on("ended",this._onHeadEventBound),this._head.$element.on("volumechange",this._onHeadEventBound),this._head.$element.on("durationchange",this._onHeadEventBound),this._head.$element.on("progress",this._onHeadEventBound),this._head.$element.on("suspend",this._onHeadEventBound),this._head.$element.on("emptied",this._onHeadEventBound),this._head.$element.on("loadedmetadata",this._onHeadEventBound),this._head.$element.on("canplaythrough",this._onHeadEventBound),this._head.$element.on("ratechange",this._onHeadEventBound),this._head.$element.on("resize",this._onHeadEventBound)),this._head.enableTimeUpdates())}},{key:"_unbindFromHead",value:function(){null!=this._head&&this._headBound&&(this._headBound=!1,null!=this._head.$element&&(this._head.$element.off("loadstart",this._onHeadEventBound),this._head.$element.off("couldplay",this._onHeadEventBound),this._head.$element.off("loadeddata",this._onHeadEventBound),this._head.$element.off("canplay",this._onHeadEventBound),this._head.$element.off("error",this._onHeadEventBound),this._head.$element.off("playing",this._onHeadEventBound),this._head.$element.off("pause",this._onHeadEventBound),this._head.$element.off("waiting",this._onHeadEventBound),this._head.$element.off("stalled",this._onHeadEventBound),this._head.$element.off("timeupdate",this._onHeadEventBound),this._head.$element.off("seeking",this._onHeadEventBound),this._head.$element.off("seeked",this._onHeadEventBound),this._head.$element.off("abort",this._onHeadEventBound),this._head.$element.off("adSkipped",this._onHeadEventBound),this._head.$element.off("ended",this._onHeadEventBound),this._head.$element.off("volumechange",this._onHeadEventBound),this._head.$element.off("durationchange",this._onHeadEventBound),this._head.$element.off("progress",this._onHeadEventBound),this._head.$element.off("suspend",this._onHeadEventBound),this._head.$element.off("emptied",this._onHeadEventBound),this._head.$element.off("loadedmetadata",this._onHeadEventBound),this._head.$element.off("canplaythrough",this._onHeadEventBound),this._head.$element.off("play",this._onHeadEventBound),this._head.$element.off("ratechange",this._onHeadEventBound),this._head.$element.off("resize",this._onHeadEventBound)),this._head.disableTimeUpdates())}},{key:"_dispatchEvent",value:function(e,t){void 0!==t?this.$element.triggerHandler(e,[t]):this.$element.triggerHandler(e)}},{key:"_onHeadEvent",value:function(e){if(e.stopPropagation(),null!=this.$element)switch(e.type){case"loadstart":this._playing=!1,this._couldPlay=!1,this._canPlay=!1;break;case"loadeddata":this.fitVideo(),this.$element.triggerHandler("bb_head_loadeddata");break;case"canplay":this._canPlay=!0,this.$element.triggerHandler("bb_head_canplay"),null!=this._seekPosition&&(this._savedSeekPosition=this._seekPosition,this._seekPosition=null,this._head.set("currentTime",this._savedSeekPosition)),this._playPending&&this.play();break;case"play":this._playPending=!0,this.$element.triggerHandler("bb_head_play");break;case"playing":this._playPending=!1,this._playing=!0,this.$element.triggerHandler("bb_head_playing");break;case"pause":this._playing=!1,this.$element.triggerHandler("bb_head_paused");break;case"waiting":this.$element.triggerHandler("bb_head_waiting");break;case"stalled":this.$element.triggerHandler("bb_head_stalled");break;case"abort":case"adSkipped":case"ended":this._playing=!1;break;case"error":var t="no head, no glory";if(null!=this._head){var i=this._head.get("error");if(null!=i){switch(i.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:t="unknown error code: "+i.code+", msg: "+i.error}t+=", src: "+this._head.get("currentSrc")}else t="no error specified"}this._assetIdsToAvoid["#"+this._asset.id]=!0;var a=this._asset.id;this._selectAsset(),this._asset&&this._asset.id!=a?(this.$element.triggerHandler("bb_warning",[{msg:t}]),this._switchAsset()):this.$element.triggerHandler("bb_error",[{msg:t}]);break;case"timeupdate":var n=null;null!=this._head&&(n=this._head.get("currentTime")),this.$element.triggerHandler("bb_head_timeupdate",[{currentTime:n}]);break;case"seeking":this.$element.triggerHandler("bb_head_seeking");break;case"seeked":var s=null;null!=this._savedSeekPosition?(s=this._savedSeekPosition,this._savedSeekPosition=null):null!=this._head&&(s=this._head.get("currentTime")),this.$element.triggerHandler("bb_head_seeked",[{seekedPosition:s}]);break;case"volumechange":var o=null,r=null;null!=this._head&&(o=this._masterVolume>0?this._head.get("volume")/this._masterVolume:this._headVolume,r=this._masterMute?this._headMute:this._head.get("muted")),this.$element.triggerHandler("bb_head_volume_change",[{volume:o,masterVolume:this._masterVolume,muted:r,masterMuted:this._masterMute}]);break;case"durationchange":var l=null;null!=this._head&&(l=this._head.get("duration")),this.$element.triggerHandler("bb_head_duration_change",[{duration:l}])}}},{key:"processAsset",value:function(e){var t;return e&&!e.processedSrc&&(e.processedSrc=this._preProcessSrc(e.src,null===(t=this._clip)||void 0===t?void 0:t.mediaassetpath)),e}},{key:"_preProcessSrc",value:function(e,t){if(void 0===e||null==e)return!1;if(!(/^blob:https?:\/\//.test(e)||/^\w+:\/\//.test(e)||/^\/\//.test(e))&&null!=this._opts&&void 0!==this._opts.publicationData){void 0===t&&(t=null);var i=null;void 0!==this._opts.publicationData.defaultMediaAssetPath&&null!=(i=this._opts.publicationData.defaultMediaAssetPath)&&null==i.match(/\/\/mm\./)&&this._opts.embedData.forceSSL&&(i=i.replace(/^http:\/\//,"https://"));var a=null;void 0!==this._opts.publicationData.streamingMediaAssetPath&&null!=(a=this._opts.publicationData.streamingMediaAssetPath)&&null!=a.match(/^https:\/\//)&&this._opts.embedData.forceSSL&&(a=a.replace(/^http:\/\//,"https://"));var n=null;if(void 0!==this._opts.publicationData.mobileMediaAssetPath&&null!=(n=this._opts.publicationData.mobileMediaAssetPath)&&null==n.match(/\/\/mm\./)&&(this._opts.embedData.forceSSL&&(n=n.replace(/^http:\/\//,"https://")),n.match(/\&protocol=/)&&this._opts.embedData.forceSSL&&(n=n.replace(/\&protocol=[^&]*/,"&protocol=https")),n.match(/\?protocol=/)&&this._opts.embedData.forceSSL&&(n=n.replace(/\?protocol=[^&]*/,"?protocol=https"))),null==t&&(t=i,null!=a&&null!=this._clip&&"image"!=this._clip.mediatype&&"interactive"!=this._clip.mediatype&&null!=this._detections&&(this._detections.canPlayHLS||this._detections.canPlayHLSJS)&&(t=null!=n?n:i)),null!=t&&(e=null==t.match(/^http/)&&null==t.match(/^\/\//)||!t.match(/xspf/)?null!=t.match(/^rtmp/)?t+"%delimiter%"+e.replace(/^\//,""):null!=t.match(/\?/)&&null!=t.match(/\=$/)?t+encodeURIComponent(e):t+e:t+"&file="+encodeURIComponent(e)),null!=this._clip&&"image"==this._clip.mediatype){var s=e.substr(e.lastIndexOf("."));s&&".swf"!=s.toLowerCase()&&(e=this._opts.publicationData.server+"/mediaclip/"+this._clip.id+"/pthumbnail/default/default"+s.toLowerCase())}}return e}}],[{key:"_sortShortList",value:function(e,t){return Number(e.bandwidth)<Number(t.bandwidth)?-1:Number(e.bandwidth)>Number(t.bandwidth)?1:0}}]),e}()})),parcelRequire.register("bPptZ",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("k0pvG"),a=parcelRequire("8aMPH"),n=function(e,t){var n,s;if(this._opts=void 0!==t?t:null,this._eventNS="MediaManager"+String(Math.random()).replace(".",""),this._singleMediaMode=!1,this._avoidMutedAutoPlay=this._opts&&this._opts.playoutData&&("true"===this._opts.playoutData.avoidMutedAutoPlay||!0===this._opts.playoutData.avoidMutedAutoPlay),this._avoidPreload=!1,this._useCors="true"==="".concat(null===this||void 0===this||null===(n=this._opts)||void 0===n||null===(s=n.playoutData)||void 0===s?void 0:s.useCors),this.$element=null,void 0!==e&&null!=e){this.$element=e,i.default.getService(this._opts.playerAliasOrId).setInstance("MediaManager",this);var o=i.default.getService(this._opts.playerAliasOrId).getInstance("Detections");o&&("undefined"!==o.canAutoPlay&&(this._canAutoPlay=o.canAutoPlay),"undefined"!==o.canAutoPlayMuted&&(this._canAutoPlayMuted=o.canAutoPlayMuted),"undefined"!==o.avoidPreload&&(this._avoidPreload=o.avoidPreload))}this._audio_loaded=!1,this._audio_promise=null,this._audio=document.createElement("audio");try{this._audio.setAttribute("muted",""),this._audio.setAttribute("preload",this._avoidPreload?"none":"metadata"),this._audio.setAttribute("playsinline",""),this._audio.setAttribute("webkit-playsinline",""),this._useCors&&this._audio.setAttribute("crossorigin",""),this._audio.setAttribute("controlsList","nodownload"),this._audio.setAttribute("aria-hidden","true")}catch(e){a.default("[MediaManager] audio error: "+e)}this._video_loaded=!1,this._video_promise=null,this._video=document.createElement("video");try{this._video.setAttribute("muted",""),this._video.setAttribute("preload",this._avoidPreload?"none":"metadata"),this._video.setAttribute("playsinline",""),this._video.setAttribute("webkit-playsinline",""),this._video.setAttribute("aria-hidden","true"),this._useCors&&this._video.setAttribute("crossorigin",""),this._video.setAttribute("controlsList","nodownload")}catch(e){a.default("[MediaManager] video error: "+e)}};n.prototype.exit=function(){return i.default.getService(this._opts.playerAliasOrId).setInstance("MediaManager",null),null},n.prototype.load=function(e){return this.play(e,"_NONE_")},n.prototype.play=function(e,t){var i=this;a.default("[MediaManager] play userAction: "+e+", tagName: "+t);var n=void 0!==this._opts.playerPath?this._opts.playerPath:"";if(null!=n&&""!=n&&null==n.match(/\/$/)&&(n+="/"),"AUDIO"===t&&(this._audio_pauseDesired=!1),this._audio&&this._audio.play&&!this._audio_promise&&(!this._singleMediaMode||"AUDIO"===this._singleMediaMode))if(this._audio_loaded)this._audio_promise="AUDIO"===t?this._audio.play():this._audio.load(),void 0!==this._audio_promise&&this._audio_promise.then&&this._audio_promise.then((function(){i._audio_promise=null})).catch((function(){i._audio_promise=null}));else try{this._audio.src||this._audio.setAttribute("src",n+"dummy.mp3"),this._audio_promise="AUDIO"===t?this._audio.play():this._audio.load(),void 0!==this._audio_promise&&this._audio_promise.then?this._audio_promise.then((function(){i._audio_promise=null,i._audio_loaded=!0})).catch((function(e){i._audio_promise=null,a.default("[MediaManager] AUDIO promise rejected: ".concat(e.message))})):(a.default("[MediaManager] AUDIO promise not supported; falling back to user action tracking"),this._audio_promise=null,e&&(this._audio_loaded=!0))}catch(e){this._audio_promise=null}if("VIDEO"===t&&(this._video_pauseDesired=!1),this._video&&this._video.play&&!this._video_promise&&(!this._singleMediaMode||"VIDEO"===this._singleMediaMode))if(this._video_loaded)this._video_promise="VIDEO"===t?this._video.play():this._video.load(),void 0!==this._video_promise&&this._video_promise.then&&this._video_promise.then((function(){i._video_promise=null})).catch((function(){i._video_promise=null}));else try{this._video.src||this._video.setAttribute("src",n+"dummy.mp3"),this._video_promise="VIDEO"===t?this._video.play():this._video.load(),void 0!==this._video_promise&&this._video_promise.then?this._video_promise.then((function(){i._video_promise=null,i._video_loaded=!0})).catch((function(e){i._video_promise=null,a.default("[MediaManager] VIDEO promise rejected: ".concat(e.message)),i._avoidMutedAutoPlay||i._video.muted||(i._video.muted=!0,i._video_promise="VIDEO"===t?i._video.play():i._video.load(),void 0!==i._video_promise&&i._video_promise.then&&i._video_promise.then((function(){i._video_promise=null})).catch((function(){i._video_promise=null})))})):(this._video_promise=null,e&&(this._video_loaded=!0))}catch(e){this._video_promise=null}return!0},n.prototype.pause=function(){var e,t=this;this._audio&&this._audio.pause&&(this._audio_promise&&this._audio_promise.then?(this._audio_pauseDesired=!0,this._audio_promise.then((function(){if(t._audio_pauseDesired){var e=t._audio.pause();e&&e.catch&&e.catch((function(e){}))}}))):(e=this._audio.pause())&&e.catch&&e.catch((function(e){})));this._video&&this._video.pause&&(this._video_promise&&this._video_promise.then?(this._video_pauseDesired=!0,this._video_promise.then((function(){if(t._video_pauseDesired){var e=t._video.pause();e&&e.catch&&e.catch((function(e){}))}}))):(e=this._video.pause())&&e.catch&&e.catch((function(e){})));return!0},n.prototype.getMedia=function(e){switch(e){case"AUDIO":return this._audio;case"VIDEO":return this._video}return null},n.prototype.setSingleMediaMode=function(e){return this._singleMediaMode=e,!0}})),parcelRequire.register("fLnr5",(function(e,t){$parcel$export(e.exports,"default",(function(){return c})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),a=parcelRequire("56Oox"),n=parcelRequire("87rX1"),s=parcelRequire("WI3YU"),o=parcelRequire("b3HW6"),r=parcelRequire("2PjQe"),l=parcelRequire("8DKpv");parcelRequire("boCbw");var d=parcelRequire("6gF5a"),u=parcelRequire("k0pvG"),h=parcelRequire("efRf0"),c=function(e){"use strict";i.default(c,e);var t=a.default(c);function c(e,i){var a;if(n.default(this,c),(a=t.call(this,e,i))._headController=null,a._savedAttrCrossOrigin=null,a._savedSrc=null,a._savedStyles=null,a._avoidPreload=!1,a._objectFit=!1,a._isAndroid=!1,a._isSafari=!1,a._unmuteAfterLoad=null,a._vendorPrefixes=["","-o-","-ms-","-moz-","-webkit-","-khtml-"],null!=a.$element){a.$element.addClass("bb-head-html5-video");var o=a.$element.closest(".bb_wrapper");a._api=u.default.getService(a._opts.playerAliasOrId).getInstance("PublicAPI");var r,l,h,p=u.default.getService(a._opts.playerAliasOrId).getInstance("Detections");if(void 0!==p&&null!=p&&(a._objectFit=p.objectFit,a._isAndroid=p.isAndroid,a._isSafari=p.isSafari,a._isAndroidNative=p.isAndroidNative,a._avoidPreload=p.avoidPreload),a._shouldPlayInline="true"===a.$element.attr("data-shouldPlayInline"),"true"===a.$element.attr("data-useMediaManager")?(a._useMediaManager=!0,a._mediaManager&&(a.$media=$parcel$interopDefault(d)(a._mediaManager.getMedia("VIDEO")),$parcel$interopDefault(d).contains(a.$element.get(0),a.$media.get(0))||a.$media.prependTo(a.$element))):"true"==a.$element.attr("data-borrowHtml5Media")&&(a._headController=u.default.getService(a._opts.playerAliasOrId).getInstance("HeadController"),void 0!==a._headController&&null!=a._headController?(a.$media=a._headController.borrowHtml5Video(),a.$media.attr("playsinline",""),a.$media.attr("webkit-playsinline",""),a.$media.attr("controlsList","nodownload"),"true"===a.$element.attr("data-noCrossOrigin")&&(a._savedAttrCrossOrigin=a.$media.attr("crossOrigin"),a.$media.removeAttr("crossOrigin")),a._canAutoPlay=a._canAutoPlay||a._headController._canplay):(a.$media=o.find("video.bb-media-element"),a.$media.attr("playsinline",""),a.$media.attr("webkit-playsinline",""),a.$media.attr("controlsList","nodownload"))),null==a.$media)a.$media=$parcel$interopDefault(d)(document.createElement("video")).appendTo(a.$element),a.$media.attr("webkit-playsinline",""),a.$media.attr("playsinline",""),a.$media.attr("controlsList","nodownload"),a.$media.attr("preload",a._avoidPreload?"none":"metadata"),a.$media.attr("aria-hidden","true"),"true"==="".concat(null===(r=s.default(a))||void 0===r||null===(l=r._opts)||void 0===l||null===(h=l.playoutData)||void 0===h?void 0:h.useCors)&&a.$media.attr("crossorigin",""),a.$media.css({width:"100%",height:"100%"}),a.$media.css({maxWidth:"none",maxHeight:"none"}),a._opts&&a._opts.playoutData&&"true"===a._opts.playoutData.autoMute&&(a._muted=!0,a._effectuateVolumeAndMuted());if(a.$media.css({maxWidth:"none",maxHeight:"none",display:"block",top:0,left:0,position:"absolute"}),a._opts&&a._opts.playoutData&&a._updateFromPlayout(a._opts.playoutData),a.$element.append('<style type="text/css">.bb_wrapper .bb-head-html5-video video{max-width:none !important;max-height:none !important;}</style>'),i&&!i.noSkinMode?a.$element.append('<div style="width:100%;height:100%;position:absolute;top:0;left:0;"></div>'):(a.$clickToPlayLayer=$parcel$interopDefault(d)('<div style="width:100%;height:100%;position:absolute;top:0;left:0;" class="bb-click-to-play-layer"></div>'),a.$clickToPlayLayer.on("click."+a._eventNS,$parcel$interopDefault(d).proxy(a._onClickToPlayLayerClick,s.default(a))),a.$element.append(a.$clickToPlayLayer)),null!=a.$media&&a.$media.length<=0&&(a.$media=null),null!=a.$media){a._media=a.$media.get(0);var _=a._media.src,m=a._media.currentSrc;if(null!=m&&""!=m&&null==m.match(/\/null$/)?a._savedSrc=m:null!=_&&""!=_&&null==_.match(/\/null$/)&&(a._savedSrc=_),"true"==a.$element.attr("data-borrowHtml5Media")){a._savedStyles={height:a._media.style.height,width:a._media.style.width},a.$media.css({height:"100%",width:"100%"});for(var f=0;f<a._vendorPrefixes.length;f++)a.$media.css(a._vendorPrefixes[f]+"transform")&&(a._savedStyles[a._vendorPrefixes[f]+"transform"]=a.$media.css(a._vendorPrefixes[f]+"transform"),a.$media.css(a._vendorPrefixes[f]+"transform","scale(1.0, 1.0)"));a.$media.css("object-fit")&&(a._savedStyles["object-fit"]=a.$media.css("object-fit"),a.$media.css("object-fit","contain"))}else a._objectFit&&a.$media.css("object-fit","fill");a._media.webkitCurrentPlaybackTargetIsWireless&&(a._media.setAttribute("preload","metadata"),a._media.setAttribute("x-webkit-airplay","allow"),a._antiFlickerHack&&a.$media&&(a._antiFlickerHack=!1,a.$media.css("visibility","visible")),a._isiOS&&a._useMediaManager&&a._mediaManager&&a._mediaManager.setSingleMediaMode(a._media.tagName))}var y=i&&i.clipData&&"mainroll"==i.clipData.mediatype,v=!1;i&&i.noSkinMode&&i.addNativeControls&&(a.$media.attr("controls","controls"),a._api&&!y&&a.$media.attr("poster",a._api.getThumbnail()),a._api&&p&&parseFloat(p.androidVersion)<3&&a.$media.on("click",(function(){v||(this.play(),v=!0)}))),a._$canvas=$parcel$interopDefault(d)("<canvas />"),a._$canvas.css({left:0,top:0,width:"100%",height:"100%",position:"absolute",display:"none"}),a.$element.append(a._$canvas),a._bindMediaEvents()}return a}return o.default(c,[{key:"_hideCanvas",value:function(){if(this._$canvas&&this._$canvas[0]&&"none"!==this._$canvas[0].style.display){var e=this;setTimeout((function(){e._$canvas[0].style.display="none",!0===e._unmuteAfterLoad&&e._safariMuteWhileLoading&&(e._unmuteAfterLoad=null,e.set("muted",!1))}),75)}}},{key:"_writeToCanvas",value:function(){if(this._$canvas&&this._media)try{var e=this._$canvas[0];if(!e)return;e.setAttribute("width",this._media.videoWidth),e.setAttribute("height",this._media.videoHeight);var t=e.getContext("2d");if(!t)return;t.drawImage(this._media,0,0,this._media.videoWidth,this._media.videoHeight),e.style.display="block"}catch(e){}}},{key:"_onClickToPlayLayerClick",value:function(){this._api&&(this._api.play(!0),this.$clickToPlayLayer.hide())}},{key:"exit",value:function(){return this._unbindFSEvents(),this._headController&&(null!=this._savedStyles&&null!=this.$media&&this.$media.css(this._savedStyles),null!==this._savedAttrCrossOrigin&&(void 0!==this._savedAttrCrossOrigin?this.$media.attr("crossOrigin",this._savedAttrCrossOrigin):this.$media.removeAttr("crossOrigin"),this._savedAttrCrossOrigin=null),this._headController.returnHtml5Video(),null!=this._savedSrc&&null!=this._media&&(this._media.src=this._savedSrc,this._loadMedia(!1)),this._savedSrc=null),this.$media=null,r.default(l.default(c.prototype),"exit",this).call(this)}},{key:"set",value:function(e,t,i){if("src"===e){if(this._canvasWaitForSeeked=!1,t&&-1!==t.indexOf("#t=")){var a=parseFloat(t.split("#t=")[1]);this._canvasWaitForSeeked=!!(a>.2),this._canvasHaveSeeked=!1,this._canvasHadPlaying=!1}this._useCanvasFrameSwitch&&(this._writeToCanvas(),this._antiFlickerHack=!1),this._canvasWaitForSeeked&&this._media&&!this._media.muted&&this._safariMuteWhileLoading&&(this.set("muted",!0),this._unmuteAfterLoad=!0)}if(null!=this._media){if("controls"!==e)return r.default(l.default(c.prototype),"set",this).call(this,e,t,i);t?(this.$media.attr("controls","controls"),this.$media.attr("disablePictureInPicture",""),this.$media.attr("controlsList","nofullscreen nodownload"),this.$media.css({"z-index":"1"}),this.$media.append('<style type="text/css">video::-webkit-media-controls-fullscreen-button{display:none !important;}</style>')):this.$media.removeAttr("controls")}}},{key:"get",value:function(e){return r.default(l.default(c.prototype),"get",this).call(this,e)}},{key:"_onEvent",value:function(e){switch(r.default(l.default(c.prototype),"_onEvent",this).call(this,e),e&&e.type){case"play":this._forceIOSNativeVideo&&this._isiOS&&!this._shouldPlayInline&&this.mediaRequestFullscreen(),this._forceAndroidNativeVideo&&this._isAndroid&&!this._shouldPlayInline&&this.mediaRequestFullscreen();break;case"seeking":this._canvasHaveSeeked=!1;break;case"seeked":this._useCanvasFrameSwitch&&(this._canvasHaveSeeked=!0,this._canvasHadPlaying&&this._hideCanvas());break;case"playing":this._useCanvasFrameSwitch&&(this._canvasHadPlaying=!0,!this._canvasHaveSeeked&&this._canvasWaitForSeeked||this._hideCanvas())}}},{key:"_onMediaEnterFullscreen",value:function(e){e&&e.stopPropagation(),this._isNativeFullscreen=!0,this.$wrapper.trigger("fullscreenchange")}},{key:"_onMediaLeaveFullscreen",value:function(e){if(e&&e.stopPropagation(),this._unbindFSEvents(),this._isNativeFullscreen=!1,this._media){var t=$parcel$interopDefault(d)(this._media);this._savedAttrs&&(void 0!==this._savedAttrs.controls?t.attr("controls",this._savedAttrs.controls):t.removeAttr("controls"),this._savedAttrs=null),this._savedProps&&(void 0!==this._savedProps.controls?t.prop("controls",this._savedProps.controls):t.prop("controls",!1),this._savedProps=null),this._savedCss&&(t.css("pointer-events",this._savedCss["pointer-events"]),t.css("object-fit",this._savedCss["object-fit"]),t.css("transform-origin",this._savedCss["transform-origin"]),t.css("transform",this._savedCss.transform),t.css("background-color",this._savedCss["background-color"]),this._savedCss=null)}this.$wrapper.trigger("fullscreenchange")}},{key:"_onFullscreenChange",value:function(e){var t=document.fullscreenElement||document.fullScreenElement||document.mozFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.webkitFullScreenElement||document.msFullscreenElement;t&&t===this._media||this._media&&this._media.webkitDisplayingFullscreen?this._onMediaEnterFullscreen(e):this._onMediaLeaveFullscreen(e)}},{key:"_bindFSEvents",value:function(e){if(!this._boundFSEvents&&this._media){this._boundFSEvents=!0;var t=$parcel$interopDefault(d)(this._media);t.on("fullscreenchange."+this._eventNS,$parcel$interopDefault(d).proxy(this._onFullscreenChange,this)),t.on("fullscreenerror."+this._eventNS,$parcel$interopDefault(d).proxy(this._onFullscreenChange,this)),t.on("fullscreenchanged."+this._eventNS,$parcel$interopDefault(d).proxy(this._onFullscreenChange,this)),t.on("webkitfullscreenchange."+this._eventNS,$parcel$interopDefault(d).proxy(this._onFullscreenChange,this)),t.on("mozfullscreenchange."+this._eventNS,$parcel$interopDefault(d).proxy(this._onFullscreenChange,this)),$parcel$interopDefault(d)(document).on("MSFullscreenChange."+this._eventNS,$parcel$interopDefault(d).proxy(this._onFullscreenChange,this)),t.on("webkitbeginfullscreen."+this._eventNS,$parcel$interopDefault(d).proxy(this._onMediaEnterFullscreen,this)),t.on("webkitendfullscreen."+this._eventNS,$parcel$interopDefault(d).proxy(this._onMediaLeaveFullscreen,this)),t.on("webkitEnterFullScreen."+this._eventNS,$parcel$interopDefault(d).proxy(this._onMediaEnterFullscreen,this)),t.on("webkitExitFullScreen."+this._eventNS,$parcel$interopDefault(d).proxy(this._onMediaLeaveFullscreen,this))}}},{key:"_unbindFSEvents",value:function(e){if(this._boundFSEvents&&this._media){this._boundFSEvents=!1;var t=$parcel$interopDefault(d)(this._media);t.off("fullscreenchange."+this._eventNS),t.off("fullscreenerror."+this._eventNS),t.off("fullscreenchanged."+this._eventNS),t.off("webkitfullscreenchange."+this._eventNS),t.off("mozfullscreenchange."+this._eventNS),$parcel$interopDefault(d)(document).off("MSFullscreenChange."+this._eventNS),t.off("webkitbeginfullscreen."+this._eventNS),t.off("webkitendfullscreen."+this._eventNS),t.off("webkitEnterFullScreen."+this._eventNS),t.off("webkitExitFullScreen."+this._eventNS)}}},{key:"mediaRequestFullscreen",value:function(){if(this._isNativeFullscreen)return!0;var e=!1;if(this._media){var t=null;if(this._media.requestFullscreen)t="requestFullscreen";else if(this._media.requestFullScreen)t="requestFullScreen";else if(this._media.enterFullscreen)t="enterFullscreen";else if(this._media.enterFullScreen)t="enterFullScreen";else for(var i=["o","ms","moz","webkit","khtml"],a=0;a<i.length&&!t;a++){var n=i[a];void 0!==this._media[n+"RequestFullscreen"]?t=n+"RequestFullscreen":void 0!==this._media[n+"RequestFullScreen"]?t=n+"RequestFullScreen":void 0!==this._media[n+"EnterFullscreen"]?t=n+"EnterFullscreen":void 0!==this._media[n+"EnterFullScreen"]&&(t=n+"EnterFullScreen")}if(t){this._isNativeFullscreen=!0;var s=$parcel$interopDefault(d)(this._media);this._savedProps||(this._savedProps={},this._savedProps.controls=s.prop("controls"),s.prop("controls",!0)),this._savedAttrs||(this._savedAttrs={},this._savedAttrs.controls=s.attr("controls"),s.attr("controls","controls")),this._savedCss||(this._savedCss={},this._savedCss["pointer-events"]=s.css("pointer-events"),s.css("pointer-events","auto"),this._savedCss["object-fit"]=s.css("object-fit"),s.css("object-fit","contain"),this._savedCss["transform-origin"]=s.css("transform-origin"),s.css("transform-origin",""),this._savedCss.transform=s.css("transform"),s.css("transform",""),this._savedCss["background-color"]=s.css("background-color"),s.css("background-color","black")),this._bindFSEvents();try{var o=this._media[t]();void 0!==o&&o.then&&o.then((function(){})).catch((function(e){})),e=!0}catch(e){$parcel$interopDefault(d)(this._media).trigger("fullscreenerror")}}}return e}},{key:"_updateFromPlayout",value:function(e){if(e){var t=u.default.getService(this._opts.playerAliasOrId).getInstance("Detections")||{};void 0!==e.bgColor&&this.$media&&this.$media.css("background-color","#"+e.bgColor),void 0!==e.forceNativeFullscreen&&(this._objectFit="true"!==e.forceNativeFullscreen&&(t&&t.objectFit)),this._useCanvasFrameSwitch="true"===e.showFrameWhileLoading&&"Html5VideoGL360Head"!==this._classType,this._safariMuteWhileLoading="true"===e.safariMuteWhileLoading&&this._isSafari}}},{key:"_onPlayoutChanged",value:function(e,t){$parcel$interopDefault(d).proxy(h.default.prototype._onPlayoutChanged,this)(e,t),t&&void 0!==t.playoutData&&this._updateFromPlayout(t.playoutData)}},{key:"_getMediaWidth",value:function(){if(null!=this._media)return this._media.videoWidth}},{key:"_getMediaHeight",value:function(){if(null!=this._media)return this._media.videoHeight}},{key:"restretch",value:function(e,t){if(this._isAndroidNative)return!1;if(this._isNativeFullscreen)return!1;try{var i;window.getComputedStyle(null===(i=this.$media)||void 0===i?void 0:i[0])}catch(e){return!1}if(null!=this.$element&&null!=this._media&&this.$element.closest(".bb-fitme")&&this.$element.closest(".bb-fitme")[0])if(this._objectFit){for(var a=0;a<this._vendorPrefixes.length;a++)this.$media.css(this._vendorPrefixes[a]+"transform","scale(1.0, 1.0)").css(this._vendorPrefixes[a]+"transform-origin","0 0");this.$media.css("height","100%").css("width","100%"),this.$media.css("object-fit","fill")}else{var n=this.$element.parent()[0],s=void 0!==(null==n?void 0:n.style.width)&&n.style.width.match(/px/)?parseInt(n.style.width.replace("px","")):this.$element.width(),o=void 0!==(null==n?void 0:n.style.height)&&n.style.height.match(/px/)?parseInt(n.style.height.replace("px","")):this.$element.height(),r=this._isAndroid&&void 0!==e?e:this._media.videoWidth,l=this._isAndroid&&void 0!==t?t:this._media.videoHeight;if(r>0&&l>0){var d=s/r,u=o/l;for(a=0;a<this._vendorPrefixes.length;a++)this.$media.css(this._vendorPrefixes[a]+"transform","scale("+d+", "+u+")").css(this._vendorPrefixes[a]+"transform-origin","0 0");this.$media.css("height",l+"px").css("width",r+"px"),this.$media.css("object-fit","contain")}}}}]),c}(h.default)})),parcelRequire.register("efRf0",(function(e,t){$parcel$export(e.exports,"default",(function(){return _})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),a=parcelRequire("56Oox"),n=parcelRequire("87rX1"),s=parcelRequire("WI3YU"),o=parcelRequire("b3HW6"),r=parcelRequire("2PjQe"),l=parcelRequire("8DKpv");parcelRequire("boCbw");var d=parcelRequire("6gF5a"),u=parcelRequire("k0pvG"),h=parcelRequire("8aMPH"),c=parcelRequire("a4FKK"),p=parcelRequire("fZtuh"),_=function(e){"use strict";i.default(c,e);var t=a.default(c);function c(e,i){var a;if(n.default(this,c),(a=t.call(this,e,i)).$media=null,a._media=null,a._media_promise=null,a._isiOS=!1,a._isNativeAndroidBrowser=!1,a._canAutoPlay=!1,a._pendingSet=[],a._loadstart=!1,a._suspend=!1,a._canplay=!1,a._canplaythrough=!1,a._currentTime=null,a._isIE=!1,a._canControlVolume=!0,a._volume=1,a._muted=!1,a._shouldBePaused=!0,a._duration=null,a._retryOnPlayFailed=!1,a._retryCount=0,a._playing=!1,a._ended=!1,a._seeking=!1,a._exiting=!1,a._pendingPlay=!1,a._timeUpdatesEnabled=!0,a._haveStarted=!1,a._useMediaManager=!1,a._isLiveStream=!1,i&&i.clipData&&"live"==i.clipData.sourcetype&&(a._isLiveStream=!0),a._forceIOSNativeVideo=a._opts&&a._opts.playoutData&&"true"==a._opts.playoutData.forceIOSNativeVideo,a._forceAndroidNativeVideo=a._opts&&a._opts.playoutData&&"true"==a._opts.playoutData.forceAndroidNativeVideo,a._autoMuteIfNeededForAutoPlay=a._opts&&a._opts.playoutData&&("true"===a._opts.playoutData.autoMuteIfNeededForAutoPlay||!0===a._opts.playoutData.autoMuteIfNeededForAutoPlay),a._autoMuteIfNeededForAutoPlay=!1,a._antiFlickerHack=!0,null!=a.$element){a.$wrapper=a.$element.closest(".bb_wrapper");var o=a._detections=u.default.getService(a._opts.playerAliasOrId).getInstance("Detections");void 0!==o&&null!=o&&(a._canAutoPlayMuted=o.canAutoPlayMuted,a._isiOS=o.isiOS,a._isNativeAndroidBrowser=o.isAndroidNative,a._canAutoPlay=o.canAutoPlay,a._isIE=o.isIE,a._isAndroid=o.isAndroid,a._canControlVolume=o.canControlVolume,a._isSafari=o.isSafari),a._retryOnPlayFailed="true"===a.$element.attr("data-retryOnPlayFailed"),a._mediaManager=u.default.getService(a._opts.playerAliasOrId).getInstance("MediaManager")}return a._noSkinMode=a._opts&&a._opts.noSkinMode,a._antiFlickerHack=a._antiFlickerHack&&!a._opts.addNativeControls,a.$element.on("bb_playout_changed."+a._eventNS,$parcel$interopDefault(d).proxy(a._onPlayoutChanged,s.default(a))),$parcel$interopDefault(d)(window).on("pageshow."+a._eventNS,$parcel$interopDefault(d).proxy(a._onPageShow,s.default(a))),$parcel$interopDefault(d)(window).on("pagehide."+a._eventNS,$parcel$interopDefault(d).proxy(a._onPageHide,s.default(a))),a}return o.default(c,[{key:"exit",value:function(){return this._exiting=!0,this._unbindMediaEvents(),this.$wrapper&&this.$wrapper.off("bb_autoplay_check_ready."+this._eventNS),this.$element.off("bb_playout_changed."+this._eventNS),$parcel$interopDefault(d)(window).off("touchstart."+this._eventNS),$parcel$interopDefault(d)(window).off("pageshow."+this._eventNS),$parcel$interopDefault(d)(window).off("pagehide."+this._eventNS),null!=this.$element&&this.$element.empty(),this._retryCount=0,r.default(l.default(c.prototype),"exit",this).call(this)}},{key:"reset",value:function(){null!=this._media&&"function"==typeof this._media.pause&&(this._media.paused||this._pauseMedia()),this._pendingSet=[],this._loadstart=!1,this._suspend=!1,this._canplay=!1,this._canplaythrough=!1,this._retryCount=0,this._haveStarted=!1}},{key:"set",value:function(e,t,i){if(null!=this._media)switch(e){case"currentTime":return!isNaN(parseFloat(t))&&t>=0&&(this._isiOS&&t<.1&&(t=.1),this._isIE&&isNaN(this._media.duration)||!this._canplaythrough&&this._isSafari?this._pendingSet.push({key:e,value:t}):this._media.currentTime=t,!0);case"muted":return"boolean"==typeof t&&(this._muted=t,this._effectuateVolumeAndMuted(),!0);case"src":if("string"==typeof t||void 0!==t&&null==t){this._retryCount=0,t!=this._media.currentSrc&&(this._suspend=!1,this._canplay=!1,this._canplaythrough=!1);try{this._antiFlickerHack&&this.$media&&this.$media.css("visibility","hidden"),this._media.src=t}catch(e){return!1}return"AUDIO"!=this._media.tagName&&"VIDEO"!=this._media.tagName||this._loadOnFirstTouch(),this._canAutoPlay||this.$media&&this.$media.data("canplay"),!0}return!1;case"volume":return!isNaN(parseFloat(t))&&t>=0&&t<=1&&(this._volume=t,this._effectuateVolumeAndMuted(),!0);case"playbackRate":return!isNaN(parseFloat(t))&&(!!this._media&&(this._media.playbackRate=t));default:return r.default(l.default(c.prototype),"set",this).call(this,e,t)}}},{key:"_effectuateVolumeAndMuted",value:function(){var e=this._muted?!!this._muted:!!(this._volume<=0);return this._media&&this._media.muted!==e&&(this._media.muted=e),this._media&&this._media.volume!==this._volume&&(this._media.volume=this._volume),e}},{key:"get",value:function(e){if(null!=this._media)switch(e){case"buffered":var t=this._media.buffered;if(t){for(var i=new Array,a=new Array,n=0;n<t.length;n++)i[n]=t.start(n),a[n]=t.end(n);t.start=i,t.end=a}else t=0;return t;case"currentTime":return this._media.currentTime;case"duration":return this._media.duration||0;case"ended":return null;case"error":return this._media.error;case"muted":return this._muted&&this._media.muted;case"networkState":return this._media.networkState;case"paused":return!(!this._isIE||1!=this._media.ended)||this._media.paused;case"readyState":return this._media.readyState;case"seekable":return this._media.seekable;case"src":case"currentSrc":return this._media.currentSrc;case"volume":return this._volume;case"videoWidth":return this._media.videoWidth;case"videoHeight":return this._media.videoHeight;case"mediaWidth":return this._getMediaWidth();case"mediaHeight":return this._getMediaHeight();case"canControlVolume":return this._canControlVolume;case"isLive":var s=this._media.seekable;return!s||s.length<=0;case"canControlPlaybackRate":return!!this._media&&void 0!==this._media.playbackRate;case"playbackRate":return!!this._media&&this._media.playbackRate;default:return r.default(l.default(c.prototype),"get",this).call(this,e)}}},{key:"play",value:function(e){return h.default("[Html5Head] play user action: "+e),this._pendingPlay=!0,this._shouldBePaused=!1,this._effectuateVolumeAndMuted(),this._playMedia(e),!0}},{key:"pause",value:function(){return this._pendingPlay=!1,this._shouldBePaused=!0,this._pauseMedia(),!0}},{key:"load",value:function(e){return this._loadMedia(e),this._pendingPlay&&(this._effectuateVolumeAndMuted(),this._playMedia(e)),!0}},{key:"on",value:function(e,t){}},{key:"toFront",value:function(){r.default(l.default(c.prototype),"toFront",this).call(this),this._useMediaManager&&this._mediaManager&&this.$media&&this.$element&&($parcel$interopDefault(d).contains(this.$element.get(0),this.$media.get(0))||this.$media.prependTo(this.$element))}},{key:"_playMedia",value:function(e){if(this._media)if(this._useMediaManager&&this._mediaManager)h.default("[Html5Head] going to call play() on mediaManager having src: "+this._media.src),this._mediaManager.play(e,this._media.tagName);else if(h.default("[Html5Head] going to call play() on media element having src: "+this._media.src),this._media_pauseDesired=!1,this._media.play&&!this._media_promise&&(this._media_promise=this._media.play(),this._media_promise&&this._media_promise.then&&this._media_promise.catch)){var t=this;this._media_promise.then((function(){t._media_promise=null})).catch((function(i){if(t._media_promise=null,i&&i.name&&h.default("[Html5Head] play promise error.name: "+i.name),t._retryOnPlayFailed||t._autoMuteIfNeededForAutoPlay)if(t._retryCount<5&&i&&"NotAllowedError"==i.name&&t._canAutoPlayMuted){for(t._retryCount++;t._pendingSet.length>0;){var a=t._pendingSet.shift();"muted"!==a.key&&"volume"!==a.key&&t.set(a.key,a.value)}t.set("muted",!0),t.set("volume",0),t._playMedia(e)}else t._retryCount<5&&i&&i.name}))}}},{key:"_pauseMedia",value:function(){if(this._media)if(this._useMediaManager&&this._mediaManager)this._mediaManager.pause();else if(this._media.pause)if(this._media_promise&&this._media_promise.then){this._media_pauseDesired=!0;var e=this;this._media_promise.then((function(){if(e._media_pauseDesired){var t=e._media.pause();t&&t.catch&&t.catch((function(e){}))}}))}else{var t=this._media.pause();t&&t.catch&&t.catch((function(e){}))}}},{key:"_loadMedia",value:function(e){if(this._media)if(this._useMediaManager&&this._mediaManager)h.default("[Html5Head] going to call load() on mediaManager having src: "+this._media.src),this._mediaManager.load(e,this._media.tagName);else if(h.default("[Html5Head] going to call load() on media element having src: "+this._media.src),this._media.load)if(this._media_promise&&this._media_promise.then){var t=this;this._media_promise.then((function(){t._media.load()}))}else this._media.load()}},{key:"_loadOnFirstTouch",value:function(){var e=this;null!=this._media&&this._opts&&this._opts._loadOnTouch&&($parcel$interopDefault(d)(window).on("touchstart."+e._eventNS,this,(function(t){$parcel$interopDefault(d)(window).off("touchstart."+e._eventNS),e._pendingPlay?(e._effectuateVolumeAndMuted(),e._playMedia(!0)):e._loadMedia(!0)})),this.$wrapper&&this.$wrapper.on("bb_autoplay_check_ready."+this._eventNS,(function(t,i){i&&!0===i.autoPlay&&$parcel$interopDefault(d)(window).off("touchstart."+e._eventNS)})))}},{key:"_onPlayoutChanged",value:function(e,t){t&&void 0!==t.playoutData&&(void 0!==t.playoutData.commercials&&(this._antiFlickerHack=!0),this._antiFlickerHack=this._antiFlickerHack&&!this._opts.addNativeControls,void 0!==t.playoutData.forceIOSNativeVideo&&(this._forceIOSNativeVideo="true"==t.playoutData.forceIOSNativeVideo),void 0!==t.playoutData.forceAndroidNativeVideo&&(this._forceAndroidNativeVideo="true"==t.playoutData.forceAndroidNativeVideo))}},{key:"_getMediaWidth",value:function(){}},{key:"_getMediaHeight",value:function(){}},{key:"_onPageHide",value:function(e){this._savedMedia="<"+this.$media.prop("tagName").toLowerCase()+' webkit-playsinline src="'+this.$media.attr("src")+'" style="'+this.$media.attr("style")+'" />',this._previousCurrentTime=this._media.currentTime,this._preSwitchPlaying=this._playing}},{key:"_onPageShow",value:function(e){var t=this;if(e.originalEvent.persisted&&("AUDIO"==this._media.tagName||"VIDEO"==this._media.tagName)){var i="pause.tmp"+t._eventNS+" play.tmp"+t._eventNS,a=setTimeout((function(){t.$media.off(i),t._transplantElement()}),300);t.$media.on(i,(function(e){clearTimeout(a),t.$media.off(i)})),t._preSwitchPlaying?(this._pauseMedia(),this._playMedia(!1)):(this._playMedia(!1),this._pauseMedia())}}},{key:"_transplantElement",value:function(){if(!this._useMediaManager||!this._mediaManager){var e=this;this.$element.triggerHandler("pause"),this._unbindMediaEvents(),this._previousCurrentTime&&this._pendingSet.push({key:"currentTime",value:this._previousCurrentTime});var t=$parcel$interopDefault(d)(this._savedMedia);this.$media.remove(),t.appendTo(this.$element),this.$media=t,this._media=t[0],this._bindMediaEvents(),$parcel$interopDefault(d)(window).on("touchstart.extra"+this._eventNS,(function(){$parcel$interopDefault(d)(window).off("touchstart.extra"+e._eventNS),e._preSwitchPlaying?t[0].play():t[0].load()}))}}},{key:"_bindMediaEvents",value:function(){null!=this.$media&&(this.$media.on("playing."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("pause."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("durationchange."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("timeupdate."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("volumechange."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("canplay."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("seeked."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("loadstart."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("progress."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("suspend."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("abort."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("error."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("emptied."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("stalled."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("loadedmetadata."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("loadeddata."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("canplaythrough."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("waiting."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("seeking."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("ended."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("play."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("ratechange."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)),this.$media.on("resize."+this._eventNS,$parcel$interopDefault(d).proxy(this._onEvent,this)))}},{key:"_unbindMediaEvents",value:function(){null!=this.$media&&(this.$media.off("playing."+this._eventNS),this.$media.off("pause."+this._eventNS),this.$media.off("durationchange."+this._eventNS),this.$media.off("timeupdate."+this._eventNS),this.$media.off("volumechange."+this._eventNS),this.$media.off("canplay."+this._eventNS),this.$media.off("seeked."+this._eventNS),this.$media.off("loadstart."+this._eventNS),this.$media.off("progress."+this._eventNS),this.$media.off("suspend."+this._eventNS),this.$media.off("abort."+this._eventNS),this.$media.off("error."+this._eventNS),this.$media.off("emptied."+this._eventNS),this.$media.off("stalled."+this._eventNS),this.$media.off("loadedmetadata."+this._eventNS),this.$media.off("loadeddata."+this._eventNS),this.$media.off("canplaythrough."+this._eventNS),this.$media.off("waiting."+this._eventNS),this.$media.off("seeking."+this._eventNS),this.$media.off("ended."+this._eventNS),this.$media.off("play."+this._eventNS),this.$media.off("ratechange."+this._eventNS),this.$media.off("resize."+this._eventNS))}},{key:"_onEvent",value:function(e){if(e.stopPropagation(),this._isIE&&"ended"==e.type&&this.$element.triggerHandler("pause"),this._isLiveStream&&this._isAndroid&&"ended"==e.type)return this._effectuateVolumeAndMuted(),void this._playMedia(!1);if("loadstart"===e.type||"stalled"===e.type){var t=this.get("avoidPreloadSrc");null==t&&null!=this.$element&&this.$element.triggerHandler(e.type)}else null!=this.$element&&this.$element.triggerHandler(e.type);switch(e.type){case"loadstart":this._loadstart=!0,this._detections&&(this._canAutoPlay=this._detections.canAutoPlay,this._canAutoPlayMuted=this._detections.canAutoPlayMuted),(this._canAutoPlay||this.$media&&this.$media.data("canplay")||this._muted&&this._canAutoPlayMuted)&&null!=this.$element&&this.$element.triggerHandler("couldplay");break;case"canplay":this.$media&&this.$media.data("canplay",!0),this._canplay=!0;break;case"progress":if(this._canplaythrough)for(;this._pendingSet.length>0;){var i=this._pendingSet.shift();this.set(i.key,i.value)}break;case"canplaythrough":if(this._canplaythrough=!0,!this._isiOS)for(;this._pendingSet.length>0;){i=this._pendingSet.shift();this.set(i.key,i.value)}break;case"playing":this._pendingPlay=!1,this._haveStarted=!0,this._antiFlickerHack&&this.$media&&this.$media.css("visibility","inherit"),$parcel$interopDefault(d)(window).off("touchstart."+this._eventNS),this._playing||(this._playing=!0,p.default.requestAnimFrame($parcel$interopDefault(d).proxy(this._animationFrameCallback,this)));this.$clickToPlayLayer&&this.$clickToPlayLayer.hide();break;case"pause":case"error":case"ended":this._playing=!1;break;case"abort":this._playing=!1,this._canplay=!1,this._canplaythrough=!1;break;case"seeking":this._seeking=!0;break;case"seeked":this._seeking=!1;break;case"durationchange":this._duration=this._media.duration}}},{key:"enableTimeUpdates",value:function(){this._timeUpdatesEnabled=!0}},{key:"disableTimeUpdates",value:function(){this._timeUpdatesEnabled=!1}},{key:"showAirPlayTargetPicker",value:function(){var e=!1;return this._media&&this._media.webkitShowPlaybackTargetPicker&&(this._media.setAttribute("preload","metadata"),this._media.setAttribute("x-webkit-airplay","allow"),this._antiFlickerHack&&this.$media&&(this._antiFlickerHack=!1,this.$media.css("visibility","visible")),this._isiOS&&this._useMediaManager&&this._mediaManager&&this._mediaManager.setSingleMediaMode(this._media.tagName),this._media.webkitShowPlaybackTargetPicker(),e=!0),e}},{key:"_animationFrameCallback",value:function(){this._exiting||this._playing&&(p.default.requestAnimFrame($parcel$interopDefault(d).proxy(this._animationFrameCallback,this)),this._timeUpdatesEnabled&&!this._seeking&&this.$element.triggerHandler("timeupdate"))}}]),c}(c.default)})),parcelRequire.register("a4FKK",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),a=parcelRequire("b3HW6"),n=parcelRequire("8aMPH"),s=function(){"use strict";function e(t,a){i.default(this,e),this.$element=null,this._opts=void 0!==a?a:null,this._eventNS="head"+String(Math.random()).replace(".",""),this._started=!1,this._playing=!1,this._seeking=!1,this._exiting=!1,void 0!==t&&null!=t&&(this.$element=t)}return a.default(e,[{key:"exit",value:function(){return null!=this.$element&&(this.$element=null),null}},{key:"load",value:function(e){}},{key:"reset",value:function(){}},{key:"toFront",value:function(){null!=this.$element&&this.$element.css({zIndex:1,visibility:"inherit"}).siblings(".bb-head").css({zIndex:0,visibility:"hidden"})}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"set",value:function(e,t){switch(e){case"currentTime":case"muted":case"src":case"volume":n.default("Head set: "+e+"  is not implemented in current head")}}},{key:"get",value:function(e){switch(e){case"currentTime":case"duration":case"muted":case"volume":case"currentSrc":case"error":case"src":case"buffered":case"ended":case"networkState":case"paused":case"readyState":case"seekable":case"videoWidth":case"videoHeight":case"canControlVolume":case"canControlPlaybackRate":return n.default("Head get: "+e+"  is not implemented in current head"),null}}},{key:"restretch",value:function(){}},{key:"enableTimeUpdates",value:function(){}},{key:"disableTimeUpdates",value:function(){}},{key:"showAirPlayTargetPicker",value:function(){}}]),e}()})),parcelRequire.register("hG03s",(function(e,t){$parcel$export(e.exports,"default",(function(){return d})),parcelRequire("dhZ6J");var i=parcelRequire("dwEjG");parcelRequire("boCbw");var a=parcelRequire("6gF5a"),n=parcelRequire("k0pvG"),s=parcelRequire("8aMPH"),o=parcelRequire("lUBHh"),r=parcelRequire("4w2rI"),l=parcelRequire("fdp2f"),d=function(e,t){if(this.$element=null,this._opts=void 0!==t?t:null,this._adUnits=null,this._disabled=!1,this._disableCookies="false",this._consentIngested=!1,this._clipDuration=0,this._clipAdUnits=null,this._clipDisabled=!1,this._clipIsInArticle=!1,this._shouldPause=!1,this._commercialBehaviour=null,this._minClipDurationPreroll=0,this._minClipDurationPostroll=0,this._skipOffset=-1,this._skipCounterText=null,this._skipButtonText=null,this._upcomingVideo=null,this._upcomingText=null,this._imaEnablePreloading=!1,this._imaCustomPlaybackForIOS10Plus=!1,this._imaBbPrioritizeWrappers=!1,this._imaBbPreferredWrapperIndex=0,this._adsystem_rdid=null,this._adsystem_idtype=null,this._adsystem_is_lat=!1,this._adsystem_buid=null,this._playout=null,this._playout_commercialBehaviour=null,this._playout_minClipDurationPreroll=0,this._playout_minClipDurationPostroll=0,this._playout_skipOffset=-1,this._playout_skipCounterText=null,this._playout_skipButtonText=null,this._playout_imaEnablePreloading=!1,this._adUnit_commercialBehaviour=null,this._adUnit_minClipDurationPreroll=0,this._adUnit_minClipDurationPostroll=0,this._adUnit_skipOffset=-1,this._adUnit_skipCounterText=null,this._adUnit_skipButtonText=null,this._adUnit_imaEnablePreloading=!1,this._adUnit_imaCustomPlaybackForIOS10Plus=!1,this._adUnit_imaBbPrioritizeWrappers=!1,this._adUnit_imaBbPreferredWrapperIndex=0,this._adSystemsSdk=null,this._perPositionAdCounter_clip={},this._perPositionAdCounter_load={},this._perPositionAdCounter_sess={},this._allowBBIma=!1,this._blockInsecureVPAID=!1,this._playoutLabel="untitled",this._canPlayInline=!1,this._isMobileDevice=!1,this._isTouchDevice=!1,this._placeholderText=null,this._placeholderShowReplay=!1,this._outstreamRefresh=!1,this._outstreamRefreshFinished=!1,this._pos=null,this._line=-1,this._currentAdUnit=null,this._loadedHtml5Media=!1,null!=this._opts){if(this._opts.publicationData&&(this._server=this._opts.publicationData.server),void 0!==this._opts.playoutData){var i=this._playout=this._opts.playoutData;void 0!==this._opts.playoutData.label&&(this._playoutLabel=this._opts.playoutData.label),void 0!==this._opts.playoutData.positions&&(this._adUnits=this._adUnitsFromLegacyPositions(this._opts.playoutData.positions)),this._disabled="false"==this._opts.playoutData.commercials,void 0!==this._opts.playoutData.disableCookies&&(this._disableCookies=this._opts.playoutData.disableCookies),void 0!==this._opts.playoutData.commercialBehaviour&&(this._commercialBehaviour=this._playout_commercialBehaviour=this._opts.playoutData.commercialBehaviour),void 0!==this._opts.playoutData.minClipDurationPreroll&&parseFloat(this._opts.playoutData.minClipDurationPreroll)>=0&&(this._minClipDurationPreroll=this._playout_minClipDurationPreroll=parseFloat(this._opts.playoutData.minClipDurationPreroll)),void 0!==this._opts.playoutData.minClipDurationPostroll&&parseFloat(this._opts.playoutData.minClipDurationPostroll)>=0&&(this._minClipDurationPostroll=this._playout_minClipDurationPostroll=parseFloat(this._opts.playoutData.minClipDurationPostroll)),void 0!==this._opts.playoutData.skipOffset&&parseFloat(this._opts.playoutData.skipOffset)>=0&&(this._skipOffset=this._playout_skipOffset=parseFloat(this._opts.playoutData.skipOffset),void 0!==this._opts.playoutData.skipCounterText&&null!=this._opts.playoutData.skipCounterText&&(this._skipCounterText=this._playout_skipCounterText=this._opts.playoutData.skipCounterText),void 0!==this._opts.playoutData.skipButtonText&&null!=this._opts.playoutData.skipButtonText&&(this._skipButtonText=this._playout_skipButtonText=this._opts.playoutData.skipButtonText)),this._outstreamRefresh="true"===this._opts.playoutData.outstreamRefresh,this._forceCanAutoPlay="true"===this._opts.playoutData.forceCanAutoPlay,this._allowBBIma="true"==this._opts.playoutData.allowBBIma,this._blockInsecureVPAID=this._playout_blockInsecureVPAID="true"==this._opts.playoutData.blockInsecureVPAID,void 0!==this._opts.playoutData.imaEnablePreloading&&(this._imaEnablePreloading=this._playout_imaEnablePreloading="true"===this._opts.playoutData.imaEnablePreloading),void 0!==i.useSession&&(this._useSession="true"===i.useSession),void 0!==i.adsystem_rdid&&(this._adsystem_rdid=i.adsystem_rdid),void 0!==i.adsystem_idtype&&(this._adsystem_idtype=i.adsystem_idtype),void 0!==i.adsystem_is_lat&&(this._adsystem_is_lat="true"===i.adsystem_is_lat||1===parseInt(i.adsystem_is_lat,10)),void 0!==i.adsystem_buid&&(this._adsystem_buid=i.adsystem_buid),void 0!==i._consentIngested&&(this._consentIngested=!0===i._consentIngested)}if(void 0!==this._opts.adServicesData){var s=this._adUnits&&this._adUnits.find&&this._adUnits.find((function(e){return e&&e.positionType===d.PosType.LEADER}));this._adUnits=this._opts.adServicesData,s&&this._adUnits.push(s)}if(void 0!==this._opts.clipData&&null!=this._opts.clipData){var o=this._opts.clipData;this._opts.msasClipData=o,void 0!==o.positions&&(this._clipAdUnits=this._adUnitsFromLegacyPositions(o.positions)),this._clipDuration=isNaN(parseFloat(o.length))?0:parseFloat(o.length),this._clipDisabled="true"==o.disablecommercials||!0===o.disablecommercials,this._clipIsInArticle=o.mediatype==d.PosType.INARTICLE||"mainroll"==o.mediatype}}if(this._onMouseOverBound=this._onMouseOver.bind(this),this._onMouseOutBound=this._onMouseOut.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onLoadedClipDataBound=this._onLoadedClipData.bind(this),this._onAdSystemStartedBound=this._onAdSystemStarted.bind(this),this._onAdSystemFinishedBound=this._onAdSystemFinished.bind(this),this._onAdSystemSkippedBound=this._onAdSystemSkipped.bind(this),this._onAdSystemFailedBound=this._onAdSystemFailed.bind(this),this._onAdSystemNoAdBound=this._onAdSystemNoAd.bind(this),this._onAdSystemRequestBound=this._onAdSystemRequest.bind(this),this._onResizedBound=this._onResized.bind(this),this._onLearnMoreClickedBound=this._onLearnMoreClicked.bind(this),this._onReplayClickedBound=this._onReplayClicked.bind(this),this._onPlayerPauseBound=this._onPlayerPause.bind(this),this._onPlayerPlayingBound=this._onPlayerPlaying.bind(this),void 0!==e&&null!=e){this.$element=e,n.default.getService(this._opts.playerAliasOrId).setInstance("MSASController",this),this.$wrapper=this.$element.closest(".bb_wrapper"),void 0!==n.default.getService(this._opts.playerAliasOrId).getInstance("ComponentBroker")&&(this._broker=n.default.getService(this._opts.playerAliasOrId).getInstance("ComponentBroker"));var r=n.default.getService(this._opts.playerAliasOrId).getInstance("Detections");r&&(this._canPlayInline=!!r.canPlayInline,this._isMobileDevice=!!r.isMobileDevice,this._isTouchDevice=!!r.isTouchDevice,this._avoidPreload=!!r.avoidPreload,this._isAndroid=!!r.isAndroid),this._playoutController=n.default.getService(this._opts.playerAliasOrId).getInstance("PlayoutController"),this.$placeholder=$parcel$interopDefault(a)('<a style="display:table-cell; vertical-align:middle; text-align:center; font-size:1.5em;text-decoration:none"></a>').css({backgroundColor:"#808080",color:"#000000"}),this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"none"}).append(this.$placeholder),this.$cta_style=$parcel$interopDefault(a)("<style></style>"),this._ctaBackColor="000000",this.$cta_style.text(".bb-commercial-layer .bb-cta-layer .bb-dimmed { background: "+l.default.rgbaCssColor(this._ctaBackColor,.4)+"; transition: background 0.3s linear; } .bb-commercial-layer .bb-cta-layer .bb-opaque { background: "+l.default.rgbaCssColor(this._ctaBackColor,1)+"; transition: background 0.3s linear; }"),this.$element.find(".bb-commercial-layer .bb-cta-layer").append(this.$cta_style),this.$cta=$parcel$interopDefault(a)('<div style="display:table-cell; height:100%;"><button class="bb-dimmed" style="border:solid 2px white; color:white; border-radius:16px; padding-right:1em; padding-left:1em; vertical-align:middle; letter-spacing:0.1em; font-family:Ubuntu, sans-serif; text-shadow:1px 1px 1px black;">LEARN MORE</button></div>'),this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}).append(this.$cta),r&&!r.isMobileDevice&&(this.$element.on("mouseover",this._onMouseOverBound),this.$element.on("mouseout",this._onMouseOutBound)),this._ctaRescale(),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.on("bb_adsystem_started",this._onAdSystemStartedBound),this.$element.on("bb_adsystem_finished",this._onAdSystemFinishedBound),this.$element.on("bb_adsystem_skipped",this._onAdSystemSkippedBound),this.$element.on("bb_adsystem_failed",this._onAdSystemFailedBound),this.$element.on("bb_adsystem_noad",this._onAdSystemNoAdBound),this.$element.on("bb_adsystem_request",this._onAdSystemRequestBound),this.$element.on("bb_resized",this._onResizedBound),this.$element.on("bb_content_resized",this._onResizedBound),this.$element.on("bb_fullscreen_change",this._onResizedBound),this.$element.on("pause",this._onPlayerPauseBound),this.$element.on("playing",this._onPlayerPlayingBound)}var u=null!=this._clipAdUnits?this._clipAdUnits:this._adUnits;if(null!=u&&(u=this._pruneLineItems(u),this._clipIsInArticle&&!this._canPlayInline&&null!=this.$element&&this.$element.triggerHandler("bb_flagchange",[{canPlayInline:u.length>0}])),null!=u&&u.length>0)if(this._opts.playoutData&&"true"===this._opts.playoutData.supportIABConsent)if(this._consentIngested)this._preloadIMA();else{var h=n.default.getService(this._opts.playerAliasOrId).getInstance("ConsentFrameworkSupport");h&&1===h.getCmpVersion()||this._preloadIMA()}else this._preloadIMA()};d.prototype._preloadIMA=function(){var e=null,t=null;if("true"!==this._disableCookies&&"tracking"!==this._disableCookies)e="//s0.2mdn.net/instream/html5/ima3.js",t="GOOGLE_IMA",void 0!==s.debugMode&&s.debugMode&&(e="//s0.2mdn.net/instream/html5/ima3_debug.js"),this._opts&&this._opts.publicationData&&this._opts.publicationData.googleImaURL&&(e=this._opts.publicationData.googleImaURL);else{switch(e="//cdn.bluebillywig.com/scripts/ima/latest/bluebillywig.ima.js",t="BB_IMA",this._opts.previewMode){case"dev":case"acc":case"test":e=e.replace("//cdn.","//cdn-"+this._opts.previewMode+".")}this._opts&&!0===this._opts.devmode&&(e=e.replace("//cdn.","//cdn-dev."))}var i="BB_IMA"===t?window.bluebillywig:window.google;!(!i||"object"!=typeof i.ima||"string"!=typeof i.ima.VERSION)||!window.bluebillywig||window.bluebillywig[t+"_load_started"]||!this._broker||this._broker.isLoading(t)||(window.bluebillywig[t+"_load_started"]=!0,null==e.match(/^\/\//)&&(e=e.replace(/^https{0,1}:/,"")),this._broker.load(e+":"+t,15))},d.prototype._onResized=function(e){this._ctaRescale()},d.prototype._onPlayerPause=function(e){var t,i,a;this._system&&this._isMobileDevice&&"true"!==(null===(t=this._currentAdUnit)||void 0===t||null===(i=t.playout)||void 0===i?void 0:i.commercialPauseButton)&&(null===(a=this._playoutController)||void 0===a||a.setTemporaryPlayoutData({commercialPauseButton:"true"}))},d.prototype._onPlayerPlaying=function(e){var t,i,a;this._system&&this._isMobileDevice&&"true"!==(null===(t=this._currentAdUnit)||void 0===t||null===(i=t.playout)||void 0===i?void 0:i.commercialPauseButton)&&(null===(a=this._playoutController)||void 0===a||a.resetTemporaryPlayoutData())},d.prototype._onMouseOver=function(e){this.$cta&&this.$cta.find("button").removeClass("bb-dimmed").addClass("bb-opaque")},d.prototype._onMouseOut=function(e){this.$cta&&this.$cta.find("button").removeClass("bb-opaque").addClass("bb-dimmed")},d.prototype._ctaRescale=function(){if(this.$cta){var e="touch",t=this.$element.find(".bb-commercial-layer .bb-cta-layer").width();this.touchMode||(e=t>=1280?"XL":t>=600?"L":t>=480?"M":t>=300?"S":t>=220?"XS":"thumb"),this._pos===d.PosType.EXITSCREEN?(this.$cta.css({verticalAlign:"middle",textAlign:"center"}),"XL"==e?this.$cta.find("button").css({height:"98px",margin:"auto",fontSize:"36pt",borderRadius:"49px",borderWidth:"2px"}):"L"==e||"M"==e?this.$cta.find("button").css({height:"44px",margin:"auto",fontSize:"16pt",borderRadius:"22px",borderWidth:"2px"}):this.$cta.find("button").css({height:"32px",margin:"auto",fontSize:"12pt",borderRadius:"16px",borderWidth:"2px"})):(this.$cta.css({verticalAlign:"top",textAlign:"top_left"===this._ctaMidplayPosition?"left":"right"}),"XL"==e?this.$cta.find("button").css({height:"44px",margin:"20px",fontSize:"16pt",borderRadius:"22px",borderWidth:"1px"}):"L"==e||"M"==e?this.$cta.find("button").css({height:"32px",margin:"10px",fontSize:"12pt",borderRadius:"16px",borderWidth:"1px"}):this.$cta.find("button").css({height:"24px",margin:"5px",fontSize:"12pt",borderRadius:"12px",borderWidth:"1px"}),"BB_IMA"!==this._adSystemSdk&&this._isMobileDevice&&(this.$cta.css({verticalAlign:"top",textAlign:"right"}),this.$cta.find("button").css({margin:"2px"})))}},d.prototype.exit=function(){var e,t;return null!=this.$element&&(this.$element.off("mouseover",this._onMouseOverBound),this.$element.off("mouseout",this._onMouseOutBound),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.off("bb_adsystem_started",this._onAdSystemStartedBound),this.$element.off("bb_adsystem_finished",this._onAdSystemFinishedBound),this.$element.off("bb_adsystem_skipped",this._onAdSystemSkippedBound),this.$element.off("bb_adsystem_failed",this._onAdSystemFailedBound),this.$element.off("bb_adsystem_noad",this._onAdSystemNoAdBound),this.$element.off("bb_adsystem_request",this._onAdSystemRequestBound),this.$element.off("bb_resized",this._onResizedBound),this.$element.off("bb_content_resized",this._onResizedBound),this.$element.off("bb_fullscreen_change",this._onResizedBound),this.$element.off("pause",this._onPlayerPauseBound),this.$element.off("playing",this._onPlayerPlayingBound)),null===(e=this.$placeholder)||void 0===e||e.off("click",this._onLearnMoreClickedBound),null===(t=this.$placeholder)||void 0===t||t.find(".bb-placeholder-replay").off("click",this._onReplayClickedBound),this._line=-1,this._currentAdUnit={},null!=this._system&&(this._system=this._system.exit()),n.default.getService(this._opts.playerAliasOrId).setInstance("MSASController",null),null},d.prototype.reset=function(){var e;this._line=-1,this._currentAdUnit={},null!=this._system&&(this._system=this._system.exit()),null===(e=this._playoutController)||void 0===e||e.resetTemporaryPlayoutData()},d.prototype.load=function(e,t){return s.default("[MSASController] load, going to call play with shouldPause = true (preloadAds)"),this.play(e,!0,t)},d.prototype.loadAdServicesData=function(e){this._adUnits=e||[],this._clipAdUnits=null},d.prototype.play=function(e,t,i){if(this._userAction=i,this._shouldPause=!!t,this._disabled||this._clipDisabled)return!1;var a=!0;switch(e){case"PRE":this._playPosition(d.PosType.PREROLL)||(a=this._playNextPosition());break;case"MAIN":this._playPosition(d.PosType.INARTICLE)||this._playPosition(d.PosType.VMAP)||this._playPosition(d.PosType.MIDROLL)||this._playPosition(d.PosType.OVERLAY)||(a=this._playNextPosition());break;case"POST":this._playPosition(d.PosType.POSTROLL)||(a=this._playNextPosition());break;default:a=!1}return a},d.prototype.pause=function(){this._shouldPause=!0,null!=this._system&&this._system.pause()},d.prototype.resume=function(e){this._shouldPause=!1,null!=this._system&&this._system.resume(e)},d.prototype.set=function(e,t){var i=!1;switch(e){case"muted":case"volume":null!=this._system&&(i=this._system.set(e,t))}return i},d.prototype.get=function(e){switch(e){case"disabled":return this._disabled;case"adCounter_clip":var t=0;for(var i in this._perPositionAdCounter_clip)this._perPositionAdCounter_clip.hasOwnProperty(i)&&i!==d.PosType.LEADER&&(t+=this._perPositionAdCounter_clip[i]);return t;default:if(null!=this._system)return this._system.get(e)}},d.prototype.resetAdCounter_load=function(){this._perPositionAdCounter_load={},this.reset()},d.prototype.isPlaying=function(){return null!=this._system&&this._system.isPlaying()},d.PosType={PREROLL:"preroll",LEADER:"leader",INARTICLE:"inarticle",VMAP:"vmap",MIDROLL:"midroll",OVERLAY:"overlay",POSTROLL:"postroll",EXITSCREEN:"exitscreen"},d.prototype._adUnitsFromLegacyPositions=function(e){var t=null;if(void 0!==e&&null!=e){t=[];for(var i=0;i<e.length;i++){var a=e[i].systems;if(void 0!==a&&null!=a){for(var n=1,s="mainroll"==e[i].type?d.PosType.INARTICLE:e[i].type,o=void 0!==e[i].name?e[i].name:this._playoutLabel+"_"+this._pos,r={id:"-1",type:"AdUnit",status:"published",playout:{commercialControls:"automatic",commercialMuteButton:"true",commercialPauseButton:"true",textCommercialTimeRemaining:""},lineitems:[],positionType:s,title:"legacy",code:o,timeout:15},l=0;l<a.length;l++){var u=a[l].systemconfig;if(void 0!==u&&null!=u&&"true"!=u.disabled){var h=o+"_"+a[l].type+"_"+(void 0!==u.subtype?u.subtype:a[l].subtype)+"_"+n,c={id:"-1",playout:{},type:"LineItem",status:"published",title:u.label,code:h,priority:n};if("vms"===a[l].type)c.creativeType="creative",c.creativeId=u["media-clipid"];else c.creativeType="VAST",c.vast_url=u.url,c.vast_xml=u.xml,c.allowBBIma=this._allowBBIma,c.legacy_subtype=u.subtype,c.vast_subtype=a[l].subtype,c.timeout=u.timeout,c.legacy_isVPAIDAd="string"==typeof u.subtype&&u.subtype.match(/_inline/)||"true"==u.inline;c.playout={commercialBehaviour:this._commercialBehaviour,play_inline:u.inline,disableControls:"false",minClipDurationPreroll:this._minClipDurationPreroll,minClipDurationPostroll:this._minClipDurationPostroll,imaEnablePreloading:u.imaEnablePreloading},r.lineitems.push(c),n++}}t.push(r)}}}return t},d.prototype._onPlayoutChanged=function(e,t){if(t&&void 0!==t.playoutData){var i=t.playoutData;void 0!==i.label&&(this._playoutLabel=i.label),void 0!==i.positions&&(this._adUnits=this._adUnitsFromLegacyPositions(i.positions)),void 0!==i.commercials&&(this._disabled="false"==i.commercials),void 0!==i.disableCookies&&(this._disableCookies=i.disableCookies),void 0!==i.commercialBehaviour&&(this._commercialBehaviour=this._playout_commercialBehaviour=i.commercialBehaviour),void 0!==i.minClipDurationPreroll&&parseFloat(i.minClipDurationPreroll)>=0&&(this._minClipDurationPreroll=this._playout_minClipDurationPreroll=parseFloat(i.minClipDurationPreroll)),void 0!==i.minClipDurationPostroll&&parseFloat(i.minClipDurationPostroll)>=0&&(this._minClipDurationPostroll=this._playout_minClipDurationPostroll=parseFloat(i.minClipDurationPostroll)),void 0!==i.skipOffset&&parseFloat(i.skipOffset)>=0&&(this._skipOffset=this._playout_skipOffset=parseFloat(i.skipOffset),void 0!==i.skipCounterText&&null!=i.skipCounterText&&(this._skipCounterText=this._playout_skipCounterText=i.skipCounterText),void 0!==i.skipButtonText&&null!=i.skipButtonText&&(this._skipButtonText=this._playout_skipButtonText=i.skipButtonText)),void 0!==i.allowBBIma&&(this._allowBBIma="true"==i.allowBBIma),void 0!==i.blockInsecureVPAID&&(this._blockInsecureVPAID=this._playout_blockInsecureVPAID="true"==i.blockInsecureVPAID),void 0!==i.imaEnablePreloading&&(this._imaEnablePreloading=this._playout_imaEnablePreloading="true"===i.imaEnablePreloading),void 0!==i.useSession&&(this._useSession="true"===i.useSession),void 0!==i.adsystem_rdid&&(this._adsystem_rdid=i.adsystem_rdid),void 0!==i.adsystem_idtype&&(this._adsystem_idtype=i.adsystem_idtype),void 0!==i.adsystem_is_lat&&(this._adsystem_is_lat="true"===i.adsystem_is_lat||1===parseInt(i.adsystem_is_lat,10)),void 0!==i.adsystem_buid&&(this._adsystem_buid=i.adsystem_buid),!0===i._consentIngested?(this._consentIngested=!0,this._preloadIMA()):this._consentIngested=!1}},d.prototype._onLoadedClipData=function(e,t){if(this._clipDuration=0,this._clipPositions=null,this._clipDisabled=!1,this._clipIsInArticle=!1,this._perPositionAdCounter_clip={},void 0!==t&&null!=t){var i=t.clipData;this._opts.msasClipData=i,"object"==typeof i&&(i.length>0&&(this._clipDuration=parseFloat(i.length)),i.mediatype!=d.PosType.INARTICLE&&"mainroll"!=i.mediatype||(this._clipIsInArticle=!0),void 0!==i.positions&&(this._clipAdUnits=this._adUnitsFromLegacyPositions(i.positions)),void 0!==i.disablecommercials&&(this._clipDisabled="true"==i.disablecommercials||!0===i.disablecommercials))}},d.prototype._pruneLineItems=function(e){if(void 0!==e&&null!=e)for(var t=e.length-1;t>=0;t--){var i=e[t].lineitems;if(void 0!==i&&null!=i)for(var a=i.length-1;a>=0;a--){var n=i[a];if(void 0!==n&&null!=n){var s=!1;if("published"!=n.status?s=!0:!this._clipIsInArticle||this._canPlayInline||this._allowBBIma||("true"==n.playout.play_inline||n.legacy_isVPAIDAd||"true"==n.allowBBIma?this._clipDuration>0&&this._clipDuration<n.playout.minClipDuration&&(s=!0):s=!0),n.conditions){var o=void 0!==this._opts.userDeviceType?this._opts.userDeviceType:"UNKNOWN";"UNKNOWN"===o&&(o=this._isMobileDevice?"MOBILE":this._isTouchDevice?"TABLET":"DESKTOP");for(var r=!0,l=0;l<n.conditions.length;l++){var d=n.conditions[l];if(d){for(var u=!1,h=0;h<d.filters.length;h++){var c=d.filters[h];"is"===c.operator?c.value===o.toLowerCase()&&(u=!0):c.value!==o.toLowerCase()&&(u=!0)}r=r&&u}}r||(s=!0)}s&&i.splice(a,1)}}}return e},d._sortLineItems=function(e,t){return Number(e.priority)<Number(t.priority)?-1:Number(e.priority)>Number(t.priority)?1:0},d.prototype._preProcessAdUnit=function(e){return e},d.prototype._okForCommercialBehaviour=function(){var e=!1;if(this._clipIsInArticle)return!0;switch(this._commercialBehaviour){case"Once per load":e=!(this._perPositionAdCounter_load[this._pos]>0);break;case"Once per session":e=!(this._perPositionAdCounter_sess[this._pos]>0);break;default:e=!(this._perPositionAdCounter_clip[this._pos]>0)}return e},d.prototype._okForClipDuration=function(){var e=!0;switch(this._pos){case d.PosType.PREROLL:this._clipDuration>0&&this._clipDuration<this._minClipDurationPreroll&&(e=!1);break;case d.PosType.POSTROLL:this._clipDuration>0&&this._clipDuration<this._minClipDurationPostroll&&(e=!1)}return e},d.prototype._playPosition=function(e){s.default("MSASController.prototype._playPosition: "+e);var t=!1;this._pos=e.toLowerCase(),"mainroll"==this._pos&&(this._pos=d.PosType.INARTICLE),this._outstreamRefresh||this._pos!==d.PosType.INARTICLE&&!this._posInarticleSuccess?this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"table"});var i={display:"table",backgroundColor:this._ctaExitScreenShade?l.default.rgbaCssColor(this._ctaHighColor,.75):"none"};!this._outstreamRefresh&&this._pos===d.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(i):this._outstreamRefresh||this._pos!==d.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(i),this._commercialBehaviour=this._playout_commercialBehaviour,this._minClipDurationPreroll=this._playout_minClipDurationPreroll,this._minClipDurationPostroll=this._playout_minClipDurationPostroll,this._clipIsInArticle||this.reset();var a=null!=this._clipAdUnits?this._clipAdUnits:this._adUnits;if(null!=a){a=this._pruneLineItems(a),this._clipIsInArticle&&!this._canPlayInline&&null!=this.$element&&this.$element.triggerHandler("bb_flagchange",[{canPlayInline:a.length>0}]);for(var n=0;n<a.length&&(a[n].positionType!=this._pos||"published"!==a[n].status);)n++;if(n<a.length){var o=this._currentAdUnit=this._preProcessAdUnit(a[n]);this.$element.trigger("bb_adunit_initialized",{adPosition:this._pos,adUnitCode:o.code}),this._commercialBehaviour=this._adUnit_commercialBehaviour=o&&void 0!==o.playout&&void 0!==o.playout.commercialBehaviour?o.playout.commercialBehaviour:this._playout_commercialBehaviour,this._minClipDurationPreroll=this._adUnit_minClipDurationPreroll=o&&void 0!==o.playout&&void 0!==o.playout.minClipDurationPreroll&&parseFloat(o.playout.minClipDurationPreroll)>=0?Math.max(o.playout.minClipDurationPreroll,this._playout_minClipDurationPreroll):this._playout_minClipDurationPreroll,this._minClipDurationPostroll=this._adUnit_minClipDurationPostroll=o&&void 0!==o.playout&&void 0!==o.playout.minClipDurationPostroll&&parseFloat(o.playout.minClipDurationPostroll)>=0?Math.max(o.playout.minClipDurationPostroll,this._playout_minClipDurationPostroll):this._playout_minClipDurationPostroll,o&&o.playout&&parseFloat(o.playout.skipOffset)>=0?(this._skipOffset=this._adUnit_skipOffset=o&&o.playout&&void 0!==o.playout.skipOffset&&parseFloat(o.playout.skipOffset)>=0?parseFloat(o.playout.skipOffset):this._playout_skipOffset,this._skipCounterText=this._adUnit_skipCounterText=o&&o.playout&&void 0!==o.playout.skipCounterText&&null!=o.playout.skipCounterText?o.playout.skipCounterText:this._playout_skipCounterText,this._skipButtonText=this._adUnit_skipButtonText=o&&o.playout&&void 0!==o.playout.skipButtonText&&null!=o.playout.skipButtonText?o.playout.skipButtonText:this._playout_skipButtonText):(this._skipOffset=this._adUnit_skipOffset=this._playout_skipOffset,this._skipCounterText=this._adUnit_skipCounterText=this._playout_skipCounterText,this._skipButtonText=this._adUnit_skipButtonText=this._playout_skipButtonText),this._upcomingVideo=o&&void 0!==o.playout&&void 0!==o.playout.upcomingVideo&&null!=o.playout.upcomingVideo?o.playout.upcomingVideo:this._upcomingVideo,this._upcomingText=o&&void 0!==o.playout&&void 0!==o.playout.upcomingText&&null!=o.playout.upcomingText?o.playout.upcomingText:this._upcomingText,this._blockInsecureVPAID=this._adUnit_blockInsecureVPAID=o&&void 0!==o.playout&&"true"==o.playout.blockInsecureVPAID?"true"==o.playout.blockInsecureVPAID:this._playout_blockInsecureVPAID,this._imaEnablePreloading=this._adUnit_imaEnablePreloading=o&&o.playout&&void 0!==o.playout.imaEnablePreloading?"true"===o.playout.imaEnablePreloading:this._playout_imaEnablePreloading,this._imaCustomPlaybackForIOS10Plus=this._adUnit_imaCustomPlaybackForIOS10Plus=!(!o||!o.playout||void 0===o.playout.imaCustomPlaybackForIOS10Plus)&&"true"===o.playout.imaCustomPlaybackForIOS10Plus,this._imaBbPrioritizeWrappers=this._adUnit_imaBbPrioritizeWrappers=!(!o||!o.playout||void 0===o.playout.imaBbPrioritizeWrappers)&&"true"===o.playout.imaBbPrioritizeWrappers,this._imaBbPreferredWrapperIndex=this._adUnit_imaBbPreferredWrapperIndex=o&&o.playout&&void 0!==o.playout.imaBbPreferredWrapperIndex?o.playout.imaBbPreferredWrapperIndex:0,o&&o.playout&&this.$placeholder&&(void 0!==o.playout.bgColor&&this.$placeholder.css("background-color",l.default.sanitizeCssColor(o.playout.bgColor)),void 0!==o.playout.placeholderTextColor&&this.$placeholder.css("color",l.default.sanitizeCssColor(o.playout.placeholderTextColor)),void 0!==o.playout.placeholderText&&this.$placeholder.text(o.playout.placeholderText),void 0!==o.playout.placeholderShowReplay&&(this._placeholderShowReplay="true"===o.playout.placeholderShowReplay)),o&&o.playout&&this.$cta&&(void 0!==o.playout.ctaMidplay&&(this._ctaShowMidplay=o.playout.ctaMidplay&&o.playout.ctaMidplay.match(/^show/i),o.playout.ctaMidplay&&o.playout.ctaMidplay.match(/^show_nonVPAID/i)&&(this._ctaShowMidplay="")),void 0!==o.playout.ctaMidplayPosition&&(this._ctaMidplayPosition=o.playout.ctaMidplayPosition),void 0!==o.playout.ctaExitScreen&&(this._ctaShowOnExitScreen=o.playout.ctaExitScreen&&o.playout.ctaExitScreen.match(/^show/i),o.playout.ctaExitScreen&&o.playout.ctaExitScreen.match(/^show_nonCompanion/i)&&(this._ctaShowOnExitScreen="")),void 0!==o.playout.ctaHighlightColor&&(this._ctaHighColor=l.default.sanitizeCssColor(o.playout.ctaHighlightColor),this.$cta.find("button").css("color",this._ctaHighColor),this.$cta.find("button").css("border-color",this._ctaHighColor)),void 0!==o.playout.ctaBackgroundColor&&(this._ctaBackColor=l.default.sanitizeCssColor(o.playout.ctaBackgroundColor),this.$cta_style.text(".bb-commercial-layer .bb-cta-layer .bb-dimmed { background: "+l.default.rgbaCssColor(this._ctaBackColor,.4)+"; transition: background 0.3s linear; } .bb-commercial-layer .bb-cta-layer .bb-opaque { background: "+l.default.rgbaCssColor(this._ctaBackColor,1)+"; transition: background 0.3s linear; }")),void 0!==o.playout.ctaExitScreenShade&&(this._ctaExitScreenShade=o.playout.ctaExitScreenShade&&o.playout.ctaExitScreenShade.match(/^true/i)),void 0!==o.playout.ctaText&&this.$cta.find("button").text(o.playout.ctaText.toUpperCase()),(this._ctaShowOnExitScreen||""===this._ctaShowOnExitScreen)&&this.$placeholder&&this.$placeholder.text("")),this._line=-1,this._okForCommercialBehaviour()&&this._okForClipDuration()&&(t=this._handleNextLineItem())}}return this._pos===d.PosType.INARTICLE&&t&&(this._posInarticleSuccess=!0),this._ctaRescale(),t},d.prototype._playNextPosition=function(e){var t;s.default("MSASController.prototype._playNextPosition: mayTrigger = "+e),null===(t=this._playoutController)||void 0===t||t.resetTemporaryPlayoutData();var i=!0;switch(void 0===e&&(e=!1),this._pos){case d.PosType.PREROLL:this._playPosition(d.PosType.LEADER)||(e&&this.$element.trigger("bb_msas_pre_finished"),i=!1);break;case d.PosType.LEADER:e&&this.$element.trigger("bb_msas_pre_finished"),i=!1;break;case d.PosType.INARTICLE:case d.PosType.VMAP:case d.PosType.OVERLAY:case d.PosType.MIDROLL:e&&this.$element.trigger("bb_msas_main_finished"),i=!1;break;case d.PosType.POSTROLL:this._playPosition(d.PosType.EXITSCREEN)||(e&&this.$element.trigger("bb_msas_post_finished"),i=!1);break;case d.PosType.EXITSCREEN:e&&this.$element.trigger("bb_msas_post_finished"),i=!1}return i},d.prototype.updateLineItemPlayout=function(e){var t;return null===(t=this._playoutController)||void 0===t?void 0:t.setTemporaryPlayoutData(e)},d.prototype._handleNextLineItem=function(){var e,t=!1;if(null===(e=this._playoutController)||void 0===e||e.resetTemporaryPlayoutData(),("array"===i.default(this._currentAdUnit.lineitems)||"object"==typeof this._currentAdUnit.lineitems&&null!=this._currentAdUnit.lineitems)&&(this._line++,this._line<this._currentAdUnit.lineitems.length)){var a,l=this._currentAdUnit.lineitems[this._line];s.default("[MSASController] _handleNextLineItem, LINEITEM code = "+l.code+"; id = "+l.id),void 0!==l.playout.disableControls||(l.playout.disableControls="false"),this._currentAdUnit&&this._currentAdUnit.playout&&(l.playout.commercialControls=this._currentAdUnit.playout.commercialControls,l.playout.commercialPauseButton=this._currentAdUnit.playout.commercialPauseButton,l.playout.commercialMuteButton=this._currentAdUnit.playout.commercialMuteButton,l.playout.textCommercialTimeRemaining=this._currentAdUnit.playout.textCommercialTimeRemaining,l.playout.commercialProgressBar=this._currentAdUnit.playout.commercialProgressBar,l.playout.commercialProgressBarColor=this._currentAdUnit.playout.commercialProgressBarColor,l.playout.eventHandlers=this._currentAdUnit.playout.eventHandlers),""==l.playout.commercialBehaviour&&delete l.playout.commercialBehaviour,null===(a=this._playoutController)||void 0===a||a.setTemporaryPlayoutData(l.playout),-1!=l.id&&(this._minClipDurationPreroll=l&&l.playout&&void 0!==l.playout.minClipDurationPreroll&&parseFloat(l.playout.minClipDurationPreroll)>=0?Math.max(l.playout.minClipDurationPreroll,this._adUnit_minClipDurationPreroll):this._adUnit_minClipDurationPreroll,this._minClipDurationPostroll=l&&l.playout&&void 0!==l.playout.minClipDurationPostroll&&parseFloat(l.playout.minClipDurationPostroll)>=0?Math.max(l.playout.minClipDurationPostroll,this._adUnit_minClipDurationPostroll):this._adUnit_minClipDurationPostroll,l&&l.playout&&parseFloat(l.playout.skipOffset)>=0?(this._skipOffset=l&&l.playout&&void 0!==l.playout.skipOffset&&parseFloat(l.playout.skipOffset)>=0?parseFloat(l.playout.skipOffset):this._adUnit_skipOffset,this._skipCounterText=l&&l.playout&&void 0!==l.playout.skipCounterText&&null!=l.playout.skipCounterText?l.playout.skipCounterText:this._adUnit_skipCounterText,this._skipButtonText=l&&l.playout&&void 0!==l.playout.skipButtonText&&null!=l.playout.skipButtonText?l.playout.skipButtonText:this._adUnit_skipButtonText):(this._skipOffset=this._adUnit_skipOffset,this._skipCounterText=this._adUnit_skipCounterText,this._skipButtonText=this._adUnit_skipButtonText),!this._blockInsecureVPAID&&l&&l.playout&&void 0!==l.playout.blockInsecureVPAID&&"true"===l.playout.blockInsecureVPAID?this._blockInsecureVPAID=!0:this._blockInsecureVPAID=this._blockInsecureVPAID||this._adUnit_blockInsecureVPAID,this._imaEnablePreloading=l&&l.playout&&void 0!==l.playout.imaEnablePreloading?"true"===l.playout.imaEnablePreloading:this._adUnit_imaEnablePreloading,this._imaCustomPlaybackForIOS10Plus=l&&l.playout&&void 0!==l.playout.imaCustomPlaybackForIOS10Plus&&""!==l.playout.imaCustomPlaybackForIOS10Plus?"true"===l.playout.imaCustomPlaybackForIOS10Plus:this._adUnit_imaCustomPlaybackForIOS10Plus,this._imaBbPrioritizeWrappers=l&&l.playout&&void 0!==l.playout.imaBbPrioritizeWrappers?"true"===l.playout.imaBbPrioritizeWrappers:this._adUnit_imaBbPrioritizeWrappers,this._imaBbPreferredWrapperIndex=l&&l.playout&&void 0!==l.playout.imaBbPreferredWrapperIndex?l.playout.imaBbPreferredWrapperIndex:this._adUnit_imaBbPreferredWrapperIndex);var u={systemconfig:{},type:null,subtype:null},h=this._line==this._currentAdUnit.lineitems.length-1?15e3:5e3;l&&parseFloat(l.timeout)>0?h=parseFloat(1e3*l.timeout):l&&l.playout&&parseFloat(l.playout.timeout)>0&&(h=parseFloat(1e3*l.playout.timeout));var c=!1;switch(l&&l.legacy_isVPAIDAd&&(c=!0),this._opts.msasSystemData={lineItem:l,config:u,timeout:h,isVPAIDAd:c,skipOffset:this._skipOffset,skipCounterText:this._skipCounterText,skipButtonText:this._skipButtonText,upcomingVideo:this._upcomingVideo,upcomingText:this._upcomingText,blockInsecureVPAID:this._blockInsecureVPAID,imaEnablePreloading:this._imaEnablePreloading,imaDisableCustomPlaybackForIOS10Plus:!this._imaCustomPlaybackForIOS10Plus,imaBbPrioritizeWrappers:this._imaBbPrioritizeWrappers,imaBbPreferredwrapperIndex:this._imaBbPreferredWrapperIndex},null!=this._system&&(this._system=this._system.exit()),l.creativeType){default:case"VAST":u.type="VAST",u.subtype=l.vast_subtype?l.vast_subtype:"generic",u.systemconfig.url=l.vast_url,u.systemconfig.xml=l.vast_xml,u.systemconfig.vastPrefetch=l.vastPrefetch,u.systemconfig.usePrebid=l.usePrebid,u.systemconfig.prebid_direct=l.prebid_direct,u.systemconfig.adUnitCode=this._currentAdUnit.code,void 0!==l.legacy_subtype&&(u.systemconfig.subtype=l.legacy_subtype),this._currentAdUnit.prebidConfig&&(u.systemconfig.prebidConfig=this._currentAdUnit.prebidConfig),this._system=new o.default(this.$element,this._opts,{playoutData:{adsystem_rdid:this._adsystem_rdid,adsystem_idtype:this._adsystem_idtype,adsystem_is_lat:this._adsystem_is_lat?0:1,adsystem_buid:this._adsystem_buid}});break;case"creative":u.type="VMS",u.subtype="generic",u.systemconfig["media-clipid"]=l.creativeId,this._system=new r.default(this.$element,this._opts)}if(null!=this._system){if((this._pos==d.PosType.PREROLL||this._pos==d.PosType.LEADER)&&(!this._avoidPreload||this._userAction)&&(!this._isAndroid||!this._forceCanAutoPlay)){var p=n.default.getService(this._opts.playerAliasOrId).getInstance("HeadController");null==p||this._loadedHtml5Media||(this._loadedHtml5Media=!0,p.loadHtml5Media(this._userAction))}this._okForCommercialBehaviour()&&this._okForClipDuration()&&(t=this._system.handlePosition(this._pos,this._shouldPause,this._userAction))}}return t},d.prototype._getCompanionAd=function(e){var t=null;try{var i=new window.google.ima.CompanionAdSelectionSettings;i.resourceType=window.google.ima.CompanionAdSelectionSettings.ResourceType.ALL,i.creativeType=window.google.ima.CompanionAdSelectionSettings.CreativeType.ALL,i.sizeCriteria=window.google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,t=e.getCompanionAds(1,1,i)}catch(e){}if(t&&t.length>0){var a=t[0],n=null;try{n=a.getContent(),a.getContentType()}catch(e){}return!!n&&(n+="<style>.bb-placeholder-layer div, .bb-placeholder-layer a, .bb-placeholder-layer img { width: 100% !important; pointer-events: all; } .bb-placeholder-layer div, .bb-placeholder-layer a { height: 100% !important; } .bb-placeholder-layer img { height: auto !important; }</style>")}return!1},d.prototype._onAdSystemStarted=function(e,t){this._adSystemSdk=t&&t.adProperties?t.adProperties.sdk:null,this._clickThroughUrl=t&&t.adProperties&&t.adProperties.clickThroughUrl?t.adProperties.clickThroughUrl:null,this._hasVPAIDAd=t&&t.adProperties&&("application/javascript"===t.adProperties.adContentType||"application/x-shockwave-flash"===t.adProperties.adContentType),this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"none"});var i=this._getCompanionAd(t.adProperties.ad);if(this.$placeholder&&i&&t&&t.adProperties&&t.adProperties.ad)this.$placeholder.html(i),this._hasCompanionAd=!0;else if(this.$placeholder){null==this._placeholderText&&(this._placeholderText=this.$placeholder.text());var a=this._placeholderText+"<br />",s=this.$placeholder.css("color");a+='<div class="bb-placeholder-anchors" style="display:inline-block; text-align:left; pointer-events:auto;">',this._clickThroughUrl&&(this.$placeholder.attr("href",this._clickThroughUrl),this.$placeholder.attr("target","_blank"),this.$placeholder.attr("rel","noopener"),this.$placeholder.css("pointer-events","auto"),this.$placeholder.on("click",this._onLearnMoreClickedBound)),this._placeholderShowReplay&&(a+='<br /><a class="bb-placeholder-anchor bb-placeholder-replay" href="#" style="text-decoration:none; color:'+s+';"><span style="font-weight:bold; background-color:#999; color:white; padding-left:0.25em; padding-right:0.2em;">&orarr;</span>&nbsp;replay</a><br />'),a+="</div>",this.$placeholder.bb_htmlSanitized(a),this.$placeholder.find(".bb-placeholder-replay").on("click",this._onReplayClickedBound),this._hasCompanionAd=!1}var o={display:"table",backgroundColor:"none"},r={display:"table",backgroundColor:this._ctaExitScreenShade?l.default.rgbaCssColor(this._ctaHighColor,.75):"none"};(this._pos===d.PosType.PREROLL||this._pos===d.PosType.POSTROLL||this._pos===d.PosType.INARTICLE)&&this._ctaShowMidplay&&"GOOGLE_IMA"===this._adSystemSdk&&this._isMobileDevice?(this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(o),this.$cta&&this.$cta.find("button").removeClass("bb-dimmed").addClass("bb-opaque")):(this._pos!==d.PosType.PREROLL&&this._pos!==d.PosType.POSTROLL&&this._pos!==d.PosType.INARTICLE||!this._ctaShowMidplay)&&(this._pos!==d.PosType.PREROLL&&this._pos!==d.PosType.POSTROLL&&this._pos!==d.PosType.INARTICLE||""!==this._ctaShowMidplay||this._hasVPAIDAd)?!this._outstreamRefresh&&this._pos===d.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(r):this._outstreamRefresh||this._pos!==d.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(r):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(o),this._ctaRescale(),void 0===t&&(t={});var u=t.adProperties;if(u&&"BB Adserver"===u.adSystem&&(!u.adContentType||u.adContentType.match(/application/i))){var h=n.default.getService(this._opts.playerAliasOrId).getInstance("SkinController");h&&h.hide("tapToUnmute")}},d.prototype._onLearnMoreClicked=function(e){if(("array"===i.default(this._currentAdUnit.lineitems)||"object"==typeof this._currentAdUnit.lineitems&&null!=this._currentAdUnit.lineitems)&&this._line<this._currentAdUnit.lineitems.length){var t=this._currentAdUnit.lineitems[this._line];if(t){var a={adType:t.vast_subtype?t.vast_subtype:"generic",adPosition:this._pos,lineItemCode:t.code};this.$element&&this.$element.triggerHandler("bb_adsystem_clicked",[a])}}},d.prototype._onReplayClicked=function(e){return e.preventDefault(),this._system&&this._system.replay(),!1},d.prototype._onAdSystemSkipped=function(e){if(this._perPositionAdCounter_clip[this._pos]?this._perPositionAdCounter_clip[this._pos]++:this._perPositionAdCounter_clip[this._pos]=1,this._perPositionAdCounter_load[this._pos]?this._perPositionAdCounter_load[this._pos]++:this._perPositionAdCounter_load[this._pos]=1,this._perPositionAdCounter_sess[this._pos]?this._perPositionAdCounter_sess[this._pos]++:this._perPositionAdCounter_sess[this._pos]=1,this._pos!==d.PosType.VMAP){this._system&&(this._system=this._system.exit()),this._outstreamRefresh||this._pos!==d.PosType.INARTICLE&&!this._posInarticleSuccess||this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"table"});var t={display:"table",backgroundColor:this._ctaExitScreenShade?l.default.rgbaCssColor(this._ctaHighColor,.75):"none"};!this._outstreamRefresh&&this._pos===d.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t):this._outstreamRefresh||this._pos!==d.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t),this._playNextPosition(!0)}},d.prototype._onAdSystemFinished=function(e){this._perPositionAdCounter_clip[this._pos]?this._perPositionAdCounter_clip[this._pos]++:this._perPositionAdCounter_clip[this._pos]=1,this._perPositionAdCounter_load[this._pos]?this._perPositionAdCounter_load[this._pos]++:this._perPositionAdCounter_load[this._pos]=1,this._perPositionAdCounter_sess[this._pos]?this._perPositionAdCounter_sess[this._pos]++:this._perPositionAdCounter_sess[this._pos]=1,this._system&&(this._system=this._system.exit()),this._outstreamRefresh||this._pos!==d.PosType.INARTICLE&&!this._posInarticleSuccess||this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"table"});var t={display:"table",backgroundColor:this._ctaExitScreenShade?l.default.rgbaCssColor(this._ctaHighColor,.75):"none"};!this._outstreamRefresh&&this._pos===d.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t):this._outstreamRefresh||this._pos!==d.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t),this._playNextPosition(!0)},d.prototype._onAdSystemFailed=function(e){null!=this._system&&(this._system=this._system.exit()),this._outstreamRefresh||this._pos!==d.PosType.INARTICLE&&!this._posInarticleSuccess||this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"table"});var t={display:"table",backgroundColor:this._ctaExitScreenShade?l.default.rgbaCssColor(this._ctaHighColor,.75):"none"};!this._outstreamRefresh&&this._pos===d.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t):this._outstreamRefresh||this._pos!==d.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t),this._okForCommercialBehaviour()&&this._okForClipDuration()&&this._handleNextLineItem()||(this._outstreamRefresh&&(this._outstreamRefreshFinished=!0,this.$element.trigger("bb_msas_outstream_refresh_finished")),this._playNextPosition(!0))},d.prototype._onAdSystemNoAd=function(e){null!=this._system&&(this._system=this._system.exit()),this._outstreamRefresh||this._pos!==d.PosType.INARTICLE&&!this._posInarticleSuccess||this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"table"});var t={display:"table",backgroundColor:this._ctaExitScreenShade?l.default.rgbaCssColor(this._ctaHighColor,.75):"none"};!this._outstreamRefresh&&this._pos===d.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t):this._outstreamRefresh||this._pos!==d.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t),this._okForCommercialBehaviour()&&this._okForClipDuration()&&this._handleNextLineItem()||(this._outstreamRefresh&&(this._outstreamRefreshFinished=!0,this.$element.trigger("bb_msas_outstream_refresh_finished")),this._playNextPosition(!0))},d.prototype._onAdSystemRequest=function(e,t){switch(null==t?void 0:t.action){case"content_pause":var i;null===(i=this._playoutController)||void 0===i||i.setTemporaryPlayoutData({commercialPauseButton:"true",commercialMuteButton:"true",commercialProgressBar:"true",disableControls:"false"});break;case"content_resume":var a;null===(a=this._playoutController)||void 0===a||a.resetTemporaryPlayoutData()}}})),parcelRequire.register("lUBHh",(function(e,t){$parcel$export(e.exports,"default",(function(){return f})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),a=parcelRequire("56Oox"),n=parcelRequire("87rX1"),s=parcelRequire("WI3YU"),o=parcelRequire("b3HW6"),r=parcelRequire("2PjQe"),l=parcelRequire("8DKpv"),d=parcelRequire("jTKZK");parcelRequire("boCbw");var u=parcelRequire("6gF5a"),h=parcelRequire("k0pvG"),c=parcelRequire("8aMPH"),p=parcelRequire("hm4aY");parcelRequire("lGhIk");var _=parcelRequire("fZtuh"),m=parcelRequire("hI1ps"),f=function(e){"use strict";i.default(d,e);var t=a.default(d);function d(e,i,a){var o;return n.default(this,d),(o=t.call(this,e,i))._rdid=null,o._idtype=null,o._is_lat=!1,o._buid=null,o._consentString="",o._consentGdprApplies=0,o._consentCmpVersion=0,o._onPlayoutChangedBound=o._onPlayoutChanged.bind(),o._onPlayoutChanged(null,a),o.$wrapper&&(o.$wrapper.on("bb_playout_changed",o._onPlayoutChangedBound),o._consentFrameworkSupport=h.default.getService(o._opts.playerAliasOrId).getInstance("ConsentFrameworkSupport"),o._consentFrameworkSupport&&o._consentFrameworkSupport.getCmpData(o._onCmpDataSuccessCallback.bind(s.default(o)),o._onCmpDataErrorCallback.bind(s.default(o)))),o}return o.default(d,[{key:"exit",value:function(){return this.$outstreamIframe&&this.$outstreamIframe.remove(),this.$wrapper&&this.$wrapper.off("bb_playout_changed",this._onPlayoutChangedBound),r.default(l.default(d.prototype),"exit",this).call(this)}},{key:"handlePosition",value:function(e,t,i){this._shouldPause=t,this._userAction=i;var a=!1;if(void 0!==e&&(this._pos=e),this._opts.msasPos=this._pos.toUpperCase(),this._loaded)this._headController&&(this._shouldPause||this._headController.play(this._userAction)),a=!0;else if(null!=this._config&&void 0!==this._config.systemconfig){if(this._url=this._config.systemconfig.url,this._xml=this._config.systemconfig.xml,this._vastPrefetch=!0===this._config.systemconfig.vastPrefetch||"true"===this._config.systemconfig.vastPrefetch||this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.vastPrefetch,this._usePrebid=!0===this._config.systemconfig.usePrebid||"true"===this._config.systemconfig.usePrebid||this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.usePrebid,this._prebid_direct=!0===this._config.systemconfig.prebid_direct||"true"===this._config.systemconfig.prebid_direct||this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.prebid_direct,!this._url&&this._prebid_direct&&(this._url="__prebid_direct__"),!this._url&&!this._xml)return!1;if(this._xml&&(this._url=null),this._url){var n,s=(new Date).getTime().toString(),o=window.location.protocol+"//"+window.location.hostname+window.location.pathname,r=768,l=432,d=null,u={},m=this.$element.closest(".bb_wrapper");if(null!=m&&m.length>0){r=m.width(),l=m.height();var f=h.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI");this._executer=h.default.getService(this._opts.playerAliasOrId).getInstance("Executer"),void 0!==f&&null!=f&&(d=f.getDeeplink(),u=f.getClipData())}var y=u&&u.title||null,v=u&&u.id||null,g=p.getCookie("uuid");if(void 0!==g&&null!=g||(g=Math.uuid()),this._opts.playoutData){var b=this._opts.playoutData;void 0!==b.adsystem_rdid&&(this._rdid=b.adsystem_rdid),void 0!==b.adsystem_idtype&&(this._idtype=b.adsystem_idtype),void 0!==b.adsystem_is_lat&&(this._is_lat="true"===b.adsystem_is_lat||1===parseInt(b.adsystem_is_lat,10)),void 0!==b.adsystem_buid&&(this._buid=b.adsystem_buid)}this._rdid&&(g=this._rdid),(null===(n=this._url)||void 0===n?void 0:n.match(/doubleclick\.net\/[\w/]*pfadx\//i))&&(this._config.subtype="dart"),this._url&&-1!=this._url.indexOf("doubleclick.net/gampad/")&&(this._config.subtype="dfp"),this._usePrebid&&(this._prebid_direct||"__prebid_direct__"===this._url)&&(this._config.subtype="prebid_direct");var w=this._url.match(/%%[^%]*%%/g);if(null!=w&&w.length>0)for(var k in w)if(parseInt(k)>=0){var $=w[k].replace(/^%%/,"").replace(/%%$/,"");this._opts.playoutData&&void 0!==this._opts.playoutData["macro_"+$]?this._url=this._url.replace(new RegExp(w[k],"g"),encodeURIComponent(this._opts.playoutData["macro_"+$])):"APP_BUNDLE_ID"===$&&this._buid?this._url=this._url.replace(new RegExp(w[k],"g"),encodeURIComponent(this._buid)):g&&this._idtype&&void 0!==this._is_lat?"ADVERTISING_IDENTIFIER_PLAIN"===$?this._url=this._url.replace(new RegExp(w[k],"g"),encodeURIComponent(g)):"ADVERTISING_IDENTIFIER_TYPE"===$?this._url=this._url.replace(new RegExp(w[k],"g"),encodeURIComponent(this._idtype)):"ADVERTISING_IDENTIFIER_IS_LAT"===$&&(this._url=this._url.replace(new RegExp(w[k],"g"),this._is_lat?"1":"0")):this._url=this._url.replace(new RegExp(w[k],"g"),"")}switch(this._config.subtype){case"zoomin":this._url=this._url.replace(/&unk=[^&]*/g,"&unk="+encodeURIComponent(g));break;case"smartclip":default:case"liverail":case"videostrip":case"generic":break;case"smartclip_old":var C="400x320";"MIDROLL"!=this._pos&&"OVERLAY"!=this._pos||(C="400x299"),"POSTROLL"==this._pos&&(C="400x300"),this._url=this._url.replace(/;sz=[^;|?]*/g,";sz="+encodeURIComponent(C)),this._url=this._url.replace(/\|;\|sz=[^;|?]*/g,"|;|sz="+encodeURIComponent(C)),this._url=this._url.replace(/;ord=[^;|?]*/g,";ord="+encodeURIComponent(s)),this._url=this._url.replace(/\|;\|ord=[^;|?]*/g,"|;|ord="+encodeURIComponent(s));break;case"openx":var S=Math.random();this._url=this._url.replace(/&r=[^&]*/g,"&r="+encodeURIComponent(S));break;case"dart":this._url=this._url.replace(/;kw=[^;|?]*/g,";kw=html5linearnonlinear"),this._url=this._url.replace(/\|;\|kw=[^;|?]*/g,"|;|kw=html5linearnonlinear"),this._url=this._url.replace(/;ord=[^;|?]*/g,";ord="+encodeURIComponent(s)),this._url=this._url.replace(/\|;\|ord=[^;|?]*/g,"|;|ord="+encodeURIComponent(s)),g&&this._idtype&&void 0!==this._is_lat&&(null!=this._url.match(/;dc_rdid=?[^;?&#]*/)?this._url=this._url.replace(/;dc_rdid=?[^;?&#]*/g,";dc_rdid="+encodeURIComponent(g)):this._url=this._url+";dc_rdid="+encodeURIComponent(g),null!=this._url.match(/;dc_lat=?[^;?&#]*/)?this._url=this._url.replace(/;dc_lat=?[^;?&#]*/g,";dc_lat="+(this._is_lat?"1":"0")):this._url=this._url+";dc_lat="+(this._is_lat?"1":"0")),this._restriction_npaOnly&&(null!=this._url.match(/;npa=?[^;?&#]*/)?this._url=this._url.replace(/;npa=?[^;?&#]*/g,";npa=1"):this._url=this._url+";npa=1"),this._url=this._addCustomDartParameters(this._url),this._url=this._url.replace(/&url=[^&]*/g,"&url="+encodeURIComponent(o)),this._url=this._url.replace(/&correlator=[^&]*/g,"&correlator="+encodeURIComponent(s));break;case"dfp":this._url=this._url.replace(/&url=[^&]*/g,"&url="+encodeURIComponent(o)),this._url=this._url.replace(/&correlator=[^&]*/g,"&correlator="+encodeURIComponent(s)),g&&this._idtype&&void 0!==this._is_lat&&(null!=this._url.match(/[?&]{1}rdid=?[^&#]*/)?(this._url=this._url.replace(/&rdid=?[^&#]*/g,"&rdid="+encodeURIComponent(g)),this._url=this._url.replace(/\?rdid=?[^&#]*/g,"?rdid="+encodeURIComponent(g))):this._url=this._url+(this._url.indexOf("?")>=0?"&":"?")+"rdid="+encodeURIComponent(g),null!=this._url.match(/[?&]{1}idtype=?[^&#]*/)?(this._url=this._url.replace(/&idtype=?[^&#]*/g,"&idtype="+encodeURIComponent(this._idtype)),this._url=this._url.replace(/\?idtype=?[^&#]*/g,"?idtype="+encodeURIComponent(this._idtype))):this._url=this._url+(this._url.indexOf("?")>=0?"&":"?")+"idtype="+encodeURIComponent(this._idtype),null!=this._url.match(/[?&]{1}is_lat=?[^&#]*/)?(this._url=this._url.replace(/&is_lat=?[^&#]*/g,"&is_lat="+(this._is_lat?"1":"0")),this._url=this._url.replace(/\?is_lat=?[^&#]*/g,"?is_lat="+(this._is_lat?"1":"0"))):this._url=this._url+(this._url.indexOf("?")>=0?"&":"?")+"is_lat="+(this._is_lat?"1":"0")),this._restriction_npaOnly&&(null!=this._url.match(/[?&]{1}npa=?[^&#]*/)?(this._url=this._url.replace(/&npa=?[^&#]*/g,"&npa=1"),this._url=this._url.replace(/\?npa=?[^&#]*/g,"?npa=1")):this._url=this._url+(this._url.indexOf("?")>=0?"&":"?")+"npa=1"),this._url=this._addCustomDfPParameters(this._url)}c.default("[MSASSystemVAST] url before replacing macros = "+this._url);var P=window.location.protocol+"//"+window.location.hostname;!this._lineItem||!this._lineItem.playout||"true"!=this._lineItem.playout.blockInsecureVPAID&&!0!==this._lineItem.playout.blockInsecureVPAID||this._detections&&this._detections.isiOS&&this._detections.iOSVersion<10||(P=window.location.protocol+"//imasdk.googleapis.com"),this._url=this._url.replace(/\[url\]/gi,encodeURIComponent(o)),this._url=this._url.replace(/\[deeplink\]/gi,encodeURIComponent(d)),this._url=this._url.replace(/\[correlator\]/gi,encodeURIComponent(g)),this._url=this._url.replace(/\[timestamp\]/gi,encodeURIComponent(s)),this._url=this._url.replace(/\[random\]/gi,encodeURIComponent(s)),this._url=this._url.replace(/\[playerwidth\]/gi,encodeURIComponent(r)),this._url=this._url.replace(/\[playerheight\]/gi,encodeURIComponent(l)),this._url=this._url.replace(/\[clipTitle\]/gi,encodeURIComponent(y)),this._url=this._url.replace(/\[clipID\]/gi,encodeURIComponent(v)),this._url=this._url.replace(/\[corsdomain\]/gi,encodeURIComponent(P)),this._url=this._url.replace(/\[description_url\]/gi,encodeURIComponent(d)),this._url=this._url.replace(/\[consent_string\]/gi,encodeURIComponent(this._consentString)),this._url=this._url.replace(/\[gdpr_applies\]/gi,encodeURIComponent(this._consentGdprApplies)),this._url=this._url.replace(/\[cmp_version\]/gi,encodeURIComponent(this._consentCmpVersion)),this._url=this._handleJsMacros(this._url),this._url=this._handleJs2Macros(this._url);var A={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url};null!=this._lineItem&&(A.lineItemCode=this._lineItem.code),null!=this.$element&&this.$element.triggerHandler("bb_adsystem_initialized",[A]);this._url=this._url.replace(/\[format\]/gi,encodeURIComponent("application/javascript")),this._url=this._url.replace(/\[playmode\]/gi,encodeURIComponent("html5")),c.default("[MSASSystemVAST] handlePosition url: "+this._url),this.$element&&this.$element.trigger("bb_ad_log",[{msg:"Ad event: going to handle VAST URL "+this._url}])}if(this._vastPrefetch)this._data=null;else if(this._usePrebid)this._data=null;else if(this._xml){this.$element&&this.$element.trigger("bb_ad_log",[{msg:"Ad event: going to handle VAST XML "}]);A={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:"n/a"};null!=this._lineItem&&(A.lineItemCode=this._lineItem.code),null!=this.$element&&this.$element.triggerHandler("bb_adsystem_initialized",[A]),this._data='<VAST version="2.0"><Ad id="123"><Wrapper><AdSystem>UnwrapMe</AdSystem><VASTAdTagURI><![CDATA['+this._url+"]]></VASTAdTagURI></Wrapper></Ad></VAST>"}else this._data='<VAST version="2.0"><Ad id="123"><Wrapper><AdSystem>UnwrapMe</AdSystem><VASTAdTagURI><![CDATA['+this._url+"]]></VASTAdTagURI></Wrapper></Ad></VAST>";null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null),this._timeoutHandle=new _.Timer(this._onTimeout.bind(this),this._timeout),this._isInview||this._timeoutHandle.pause(),a=this._usePrebid?this._getPrebidData(this._dataCallback.bind(this)):this._getData(this._dataCallback.bind(this))}return a}},{key:"_handleJsMacros",value:function(e){if(this._executer&&e){var t=e.match(/\[js:.*?\]/gi);if(!t)return e;for(var i=0;i<t.length;i++){var a=t[i],n=a.replace(/\[js:/,"").replace(/(.*)\]/,"$1"),s=this._executer.execute(n);e=e.replace(a,encodeURIComponent(s))}}return e}},{key:"_handleJs2Macros",value:function(e){if(this._executer&&e){var t=e.match(/\[js2:.*?\]/gi);if(!t)return e;for(var i=0;i<t.length;i++){var a=t[i],n=a.replace(/\[js2:/,"").replace(/(.*)\]/,"$1"),s=this._executer.execute(n);e=e.replace(a,s)}}return e}},{key:"_addCustomDfPParameters",value:function(e){var t=!1;if("object"==typeof this._opts.msasClipData){var i=[];if(null!=(a=e.match(/&iu=([^&#]*)/))&&a.length>1&&(i=a[1].split("/")),void 0!==this._opts.msasClipData.dfp_adunit_l1&&""!=this._opts.msasClipData.dfp_adunit_l1){for(;i.length<=2;)i.push("");i[2]=encodeURIComponent(this._opts.msasClipData.dfp_adunit_l1),t=!0}if(void 0!==this._opts.msasClipData.dfp_adunit_l2&&""!=this._opts.msasClipData.dfp_adunit_l2){for(;i.length<=3;)i.push("");i[3]=encodeURIComponent(this._opts.msasClipData.dfp_adunit_l2),t=!0}if(void 0!==this._opts.msasClipData.dart_zone&&""!=this._opts.msasClipData.dart_zone){for(;i.length<=3;)i.push("");i[3]=encodeURIComponent(this._opts.msasClipData.dart_zone),t=!0}if(void 0!==this._opts.msasClipData.dfp_adunit_l3&&""!=this._opts.msasClipData.dfp_adunit_l3){for(;i.length<=4;)i.push("");i[4]=encodeURIComponent(this._opts.msasClipData.dfp_adunit_l3),t=!0}t&&(e=e.replace(/&iu=[^&#]*/g,"&iu="+i.join("/")))}if(e=this._handleSystem_adunits(e),"object"==typeof this._opts.playoutData){var a,n={},s=[];if(null!=(a=e.match(/[?&]{1}cust_params=([^&#]*)/))&&a.length>1)try{s=decodeURIComponent(a[1]).split("&")}catch(e){}for(var o=0;o<s.length;o++)try{var r=s[o].split("=");if(1==r.length){var l=this._handleJsMacros(r[0]);decodeURIComponent(l).split("&").forEach((function(e){var t=decodeURIComponent(e).split("=");n[t[0]]=decodeURIComponent(t[1])}))}else n[r[0]]=decodeURIComponent(r[1])}catch(e){}if("object"==typeof this._opts.msasClipData)for(var d in this._opts.msasClipData){(c=d.replace(/^dart_/,""))!=d&&(n[c]=this._opts.msasClipData[d])}for(var u in this._opts.playoutData){(c=u.replace(/^dart_/,""))!=u&&(n[c]=this._opts.playoutData[u])}s=[];var h=[];for(var c in n)n[c]&&0==n[c].indexOf("[")?h.push(c+encodeURIComponent("=")+n[c]):s.push(c+"="+encodeURIComponent(n[c]));null!=a&&a.length>1?e=(e=e.replace(/&cust_params=[^&#]*/,(function(){return"&cust_params="+encodeURIComponent(s.join("&"))+(s.length&&h.length?encodeURIComponent("&"):"")+h.join(encodeURIComponent("&"))}))).replace(/\?cust_params=[^&#]*/,(function(){return"?cust_params="+encodeURIComponent(s.join("&"))+(s.length&&h.length?encodeURIComponent("&"):"")+h.join(encodeURIComponent("&"))})):e+=(e.indexOf("?")>=0?"&":"?")+"cust_params="+encodeURIComponent(s.join("&"))+(s.length&&h.length?encodeURIComponent("&"):"")+h.join(encodeURIComponent("&"))}return e}},{key:"_addCustomDartParameters",value:function(e){var t=e.indexOf("|;|")>0?"|;|":";",i=t.replace("|","|");if("object"==typeof this._opts.playoutData)for(var a in this._opts.playoutData){var n=a.replace(/^dart_/,"");if(n!=a){var s=new RegExp(i+n+"=[^;|?]*","g");e=e.replace(s,t+n+"="+encodeURIComponent(this._opts.playoutData[a]))}}if("object"==typeof this._opts.msasClipData&&void 0!==this._opts.msasClipData.dart_zone&&""!=this._opts.msasClipData.dart_zone){var o=new RegExp("/[^/;|?]*"+i);e=e.replace(o,"/"+encodeURIComponent(this._opts.msasClipData.dart_zone)+t)}return e}},{key:"_handleSystem_adunits",value:function(e){var t=!1;if("object"==typeof this._opts.playoutData){var i=[],a=e.match(/&iu=([^&#]*)/);for(var n in null!=a&&a.length>1&&(i=String(a[1]).split("/")),this._opts.playoutData){if(null!=(a=n.match(/^dfp_adunit/))&&a.length>0){var s=n.match(/^dfp_adunit_l([0-9]+)$/);if(null!=s&&s.length>1){for(var o=parseInt(s[1]);i.length<=o+1;)i.push("");i[o+1]=encodeURIComponent(this._opts.playoutData[n]),""!=this._opts.playoutData[n]&&(t=!0)}}}t&&(e=e.replace(/&iu=[^&#]*/g,"&iu="+i.join("/")))}return e}},{key:"_getPrebidData",value:function(e){var t=!1;this._data_raw="string"==typeof this._data?this._data:null,this._auctionCount=++this._auctionCount||1;this._config.systemconfig&&this._config.systemconfig.adUnitCode;if(null==this._data)if(null!=this._url&&""!=this._url){try{var i=function(t,i){var a=!1,n=null,s=Array.isArray&&Array.isArray(t)?{dummy:{bids:t}}:t;if(s)for(var o in s){var r=s[o].bids;if(r)for(var l=0;l<r.length;l++){var d=r[l];(null==n||d.cpm>n.cpm||d.cpm==n.cpm&&d.timeToRespond<n.timeToRespond)&&(n=d)}}var u=null;if(i)for(var h in i)(null===u||null!==n&&i[h].code===n.adUnitCode)&&(u=i[h]);var p,m,f,y,v=void 0!==window.bluebillywig_pbjs?window.bluebillywig_pbjs:void 0!==window.pbjs?window.pbjs:{};if("dfp"===this._config.subtype){if(v.adServers&&v.adServers.dfp&&"function"==typeof v.adServers.dfp.buildVideoUrl){var g=_.getQueryParamsFromUrl(this._url),b=g.sz,w=g.iu;if(w){var k={iu:w,cust_params:"string"==typeof g.cust_params?_.getQueryParamsFromQueryString(g.cust_params):{},output:"vast",ad_rule:"0"};b&&(k.sz=b);var $=v.adServers.dfp.buildVideoUrl({adUnit:u,params:k});c.default("[MSASSystemVAST] _getPrebidData succeeded; final url: "+$),this._data='<VAST version="2.0"><Ad id="123"><Wrapper><AdSystem>UnwrapMe</AdSystem><VASTAdTagURI><![CDATA['+$+"]]></VASTAdTagURI></Wrapper></Ad></VAST>",a=!0}}}else(null==n?void 0:n.vastXml)?(this._xml=n.vastXml,a=!0):(null==n?void 0:n.vastUrl)?(this._data='<VAST version="2.0"><Ad id="123"><Wrapper><AdSystem>UnwrapMe</AdSystem><VASTAdTagURI><![CDATA['+n.vastUrl+"]]></VASTAdTagURI></Wrapper></Ad></VAST>",a=!0):(null==n||null===(p=n.adResponse)||void 0===p||null===(m=p.ad)||void 0===m||null===(f=m.rtb)||void 0===f||null===(y=f.video)||void 0===y?void 0:y.content)&&(this._xml=n.adResponse.ad.rtb.video.content,a=!0);if((null==n?void 0:n.adId)&&(n.renderer||u&&u.renderer))try{var C=n.bidderCode&&n.bidderCode.match(/unruly|teads/i),S=this._createOutstreamDoc(C);C&&(a=!1),v.renderAd(S,n.adId)}catch(e){c.default("[MSASSystemVAST] _getPrebidData warning: "+e)}"function"==typeof e&&e(a)}.bind(this),a=new m.default(this.$element,this._opts,this._config.systemconfig.prebidConfig);a.addAdUnits(),a.getBids(i)}catch(e){c.default(e)}t=!0}else"function"==typeof e&&e(!1);else"function"==typeof e&&e(!0),t=!0;return t}},{key:"_createOutstreamDoc",value:function(e){e=e||!1;var t={getElementsByTagName:function(){return[{firstChild:{},insertBefore:function(){}}]}},i=this.$element?this.$element.closest(".bb_wrapper"):null,a=i?i.parent():null;if(a){var n=null;this.$outstreamIframe=a.find("#"+this._eventNS),this.$outstreamIframe&&this.$outstreamIframe.length>0?n=this.$outstreamIframe.get(0):((n=document.createElement("iframe")).id=this._eventNS,n.height=e?i.height():1,n.width=e?i.width():1,n.border="0",n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.scrolling="no",n.frameBorder="0",n.style.border="0",n.style.margin="0",n.style.position="absolute",n.style.left="0",n.style.top="0",n.style.pointerEvents=e?"auto":"none",n.src="about:blank",this.$outstreamIframe=$parcel$interopDefault(u)(n).appendTo(a));try{t=n.contentWindow?n.contentWindow.document:n.contentDocument.document?n.contentDocument.document:n.contentDocument}catch(e){}}return t}},{key:"_getData",value:function(e){var t=!1;if(this._data_raw="string"==typeof this._data?this._data:null,null==this._data)if(null!=this._url&&""!=this._url){var i=this;_.fetchData(this._url,{dataType:"text",credentials:"include"}).then((function(t){t?(i._data=t,i._data_raw=t,i._xml=t,"function"==typeof e&&e(!0)):(i._logError("xml request failed: no data"),"function"==typeof e&&e(!1))})).catch((function(t){i._logError("xml request failed: "+t),"function"==typeof e&&e(!1)})),t=!0}else"function"==typeof e&&e(!1);else"function"==typeof e&&e(!0),t=!0;return t}},{key:"_dataCallback",value:function(e){if(e)if(this._xml)this._clip={assets:[{mediatype:"vast_"+this._config.subtype,response:this._xml}]};else{var t="string"==typeof this._data?$parcel$interopDefault(u)($parcel$interopDefault(u).parseXML(this._data)):$parcel$interopDefault(u)(this._data),i=t.find("VAST Ad InLine"),a=t.find("VAST Ad Wrapper");if(null!=i&&i.length>0)this._clip={assets:[{mediatype:"vast_"+this._config.subtype,src:this._url}]};else if(null!=a&&a.length>0){var n=a.find("AdSystem").text(),s=a.find("VASTAdTagURI").text();n.match(/UnwrapMe/i)?this._clip={assets:[{mediatype:"vast_"+this._config.subtype,src:s}]}:this._clip={assets:[{mediatype:"vast_"+this._config.subtype,src:this._url}]}}else this._clip={assets:[]}}else this._clip={assets:[]};if(this._clip&&this._clip.assets)for(var o=this._clip.assets.length-1;o>=0;o--){var r=this._clip.assets[o];if(r&&r.src)try{decodeURI(r.src)}catch(e){this._clip.assets.splice(o,1)}}null!=this._headController&&this._headController.load(this._clip),null!=this._headController&&(this._shouldPause||this._headController.play(this._userAction))}},{key:"_onPlayoutChanged",value:function(e,t){if(t&&t.playoutData){var i=t.playoutData;void 0!==i.adsystem_rdid&&(this._rdid=i.adsystem_rdid),void 0!==i.adsystem_idtype&&(this._idtype=i.adsystem_idtype),void 0!==i.adsystem_is_lat&&(this._is_lat="true"===i.adsystem_is_lat||1===parseInt(i.adsystem_is_lat,10)),void 0!==i.adsystem_buid&&(this._buid=i.adsystem_buid)}}},{key:"_onCmpDataSuccessCallback",value:function(e,t){this._consentGdprApplies=e&&e.gdprApplies?1:0,this._consentCmpVersion=t,1===t?this._consentString=e&&e.consentData?e.consentData:"":2===t&&(this._consentString=e&&e.tcString?e.tcString:"")}},{key:"_onCmpDataErrorCallback",value:function(){}}]),d}(d.default)})),parcelRequire.register("jTKZK",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),a=parcelRequire("b3HW6"),n=parcelRequire("k0pvG"),s=parcelRequire("48fym"),o=function(){"use strict";function e(t,a){i.default(this,e),this._init(t,a)}return a.default(e,[{key:"_init",value:function(e,t){if(this.$element=null,this._opts=void 0!==t?t:null,this._eventNS="MSASSystem"+String(Math.random()).replace(".",""),this._loaded=!1,this._config=null!=this._opts&&void 0!==this._opts.msasSystemData&&void 0!==this._opts.msasSystemData.config?this._opts.msasSystemData.config:null,this._lineItem=null!=this._opts&&void 0!==this._opts.msasSystemData&&void 0!==this._opts.msasSystemData.lineItem?this._opts.msasSystemData.lineItem:null,this._timeout=null!=this._opts&&void 0!==this._opts.msasSystemData&&void 0!==this._opts.msasSystemData.timeout?this._timeout=this._opts.msasSystemData.timeout:10,this._systemOverrule=null!=this._opts&&this._opts.msasSystemData&&this._opts.msasSystemData.config&&this._opts.msasSystemData.config.systemconfig&&this._opts.msasSystemData.config.systemconfig.subtype&&""!=this._opts.msasSystemData.config.systemconfig.subtype?this._opts.msasSystemData.config.systemconfig.subtype:null,this._config&&(this._timeout&&(this._config.timeout=this._timeout),this._systemOverrule&&(this._config.subtype=this._systemOverrule)),this._restriction_npaOnly=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.restriction_npaOnly,this._pos=null,this._url=null,this._timeoutHandle=null,this._detections=null,this._shouldPause=!1,this._onInViewBound=this._onInView.bind(this),this._onOutViewBound=this._onOutView.bind(this),void 0!==e&&null!=e){this.$element=e,this.$wrapper=this.$element.closest(".bb_wrapper"),this.$wrapper&&(this.$wrapper.on("bb_inview",this._onInViewBound),this.$wrapper.on("bb_outview",this._onOutViewBound)),this._headController=new s.default(this.$element,this._opts),this._headController.setLoadStartCallback(this._loadStartCallback.bind(this)),this._headController.setLoadedDataCallback(this._loadedDataCallback.bind(this)),this._headController.setCanPlayCallback(this._canPlayCallback.bind(this)),this._headController.setStartedCallback(this._startedCallback.bind(this)),this._headController.setEndedCallback(this._endedCallback.bind(this)),this._headController.setClickCallback(this._clickCallback.bind(this)),this._headController.setQuartileCallback(this._quartileCallback.bind(this)),this._headController.setRequestCallback(this._requestCallback.bind(this)),this._headController.enableResizing(),void 0!==n.default.getService(this._opts.playerAliasOrId).getInstance("Detections")&&(this._detections=n.default.getService(this._opts.playerAliasOrId).getInstance("Detections"));var i=this.$element.find(".bb_clicktracker");null!=i&&i.length>0&&(this._clickTracker=i[0])}}},{key:"_onOutView",value:function(){this._timeoutHandle&&this._timeoutHandle.pause(),this._isInview=!1}},{key:"_onInView",value:function(){this._timeoutHandle&&this._timeoutHandle.resume(),this._isInview=!0}},{key:"exit",value:function(){return null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null),this.$wrapper&&(this.$wrapper.off("bb_inview",this._onInViewBound),this.$wrapper.off("bb_outview",this._onOutViewBound)),null!=this._headController&&(this._headController=this._headController.exit()),null!=this.$element&&(this.$element=null),null}},{key:"handlePosition",value:function(e,t,i){return!1}},{key:"reset",value:function(e){var t=!1;return null!=this._headController&&(t=this._headController.reset()),null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null),t}},{key:"resume",value:function(e){this._shouldPause=!1;return null!=this._headController&&this._headController.play(e),!1}},{key:"pause",value:function(){var e=!1;return null!=this._headController&&(e=this._headController.pause()),e}},{key:"replay",value:function(){this._shouldPause=!1;var e=!1;return this._headController&&this._headController.load(this._clip),this._headController&&(e=this._headController.play()),e}},{key:"isPlaying",value:function(){var e=!1;return null!=this._headController&&(e=this._headController.isPlaying()),e}},{key:"set",value:function(e,t){var i=!1;return null!=this._headController&&(i=this._headController.set(e,t)),i}},{key:"get",value:function(e){if(null!=this._headController)return this._headController.get(e)}},{key:"_onTimeout",value:function(){this._timeoutHandle=null;var e=null!=this._config&&this._config.timeout?this._config.timeout:"unknown",t={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url,timeout:e};null!=this._lineItem&&(t.lineItemCode=this._lineItem.code),this.reset(),this.$element.triggerHandler("bb_adsystem_noad",[t])}},{key:"_loadStartCallback",value:function(e,t){var i={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url,adProperties:t};null!=this._lineItem&&(i.lineItemCode=this._lineItem.code),e?null!=this.$element&&this.$element.triggerHandler("bb_adsystem_loadstart",[i]):null!=this.$element&&this.$element.triggerHandler("bb_adsystem_blocked",[i])}},{key:"_loadedDataCallback",value:function(e,t){null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null);var i={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url,adProperties:t};null!=this._lineItem&&(i.lineItemCode=this._lineItem.code),e?(this._loaded=!0,null!=this.$element&&this.$element.triggerHandler("bb_adsystem_loaded",[i])):null!=this.$element&&this.$element.triggerHandler("bb_adsystem_noad",[i])}},{key:"_canPlayCallback",value:function(e,t){null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null);var i={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url,adProperties:t};null!=this._lineItem&&(i.lineItemCode=this._lineItem.code),e?(this._loaded=!0,null!=this.$element&&this.$element.triggerHandler("bb_adsystem_canplay",[i])):null!=this.$element&&this.$element.triggerHandler("bb_adsystem_noad",[i])}},{key:"_startedCallback",value:function(e,t){null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null);var i={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url,adProperties:t};null!=this._lineItem&&(i.lineItemCode=this._lineItem.code),e?null!=this.$element&&this.$element.triggerHandler("bb_adsystem_started",[i]):null!=this.$element&&this.$element.triggerHandler("bb_adsystem_failed",[i])}},{key:"_endedCallback",value:function(e){null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null);var t={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url};null!=this._lineItem&&(t.lineItemCode=this._lineItem.code),e?null!=this.$element&&this.$element.triggerHandler("bb_adsystem_finished",[t]):null!=this.$element&&this.$element.triggerHandler("bb_adsystem_skipped",[t])}},{key:"_clickCallback",value:function(e){var t={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url};null!=this._lineItem&&(t.lineItemCode=this._lineItem.code),e&&null!=this.$element&&this.$element.triggerHandler("bb_adsystem_clicked",[t])}},{key:"_quartileCallback",value:function(e){var t={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url};null!=this._lineItem&&(t.lineItemCode=this._lineItem.code),e>=0&&e<=4&&(t.quartile=e,null!=this.$element&&this.$element.triggerHandler("bb_adsystem_quartile",[t]))}},{key:"_requestCallback",value:function(e){var t={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url};null!=this._lineItem&&(t.lineItemCode=this._lineItem.code),t.action=e,this.$element&&this.$element.triggerHandler("bb_adsystem_request",[t])}}]),e}()})),parcelRequire.register("48fym",(function(e,t){$parcel$export(e.exports,"default",(function(){return m})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),a=parcelRequire("56Oox"),n=parcelRequire("87rX1"),s=parcelRequire("WI3YU"),o=parcelRequire("b3HW6"),r=parcelRequire("2PjQe"),l=parcelRequire("8DKpv");parcelRequire("boCbw");var d=parcelRequire("6gF5a"),u=parcelRequire("k0pvG"),h=parcelRequire("8ZRQJ"),c=parcelRequire("fZYiY"),p=parcelRequire("bSnBq"),_=parcelRequire("fLnr5"),m=function(e){"use strict";i.default(h,e);var t=a.default(h);function h(e,i){var a;return n.default(this,h),(a=t.call(this,e,i))._ended=!1,a._isNonLinearPosition=!1,a._errorCallback=null,a._loadStartCallback=null,a._canPlayCallback=null,a._startedCallback=null,a._endedCallback=null,a._clickCallback=null,a._quartileCallback=null,a._requestCallback=null,a._duration=0,a._quartile=0,a._onAdClickedBound=a._onAdClicked.bind(s.default(a)),a}return o.default(h,[{key:"exit",value:function(){for(var e in this.reset(),this._heads)if(null!=this._heads[e]){var t,i=this._heads[e].$element;if(-1!=e.indexOf("html5ima")&&null!=this.$wrapper)u.default.getService(this._opts.playerAliasOrId).setInstance("G_html5IMAHead",this._heads[e]),this._heads[e]=null,null===(t=u.default.getService(this._opts.playerAliasOrId).getInstance("G_html5IMAHead"))||void 0===t||t.reset(),i.hide();else this._heads[e]=this._heads[e].exit(),i.remove()}return this._heads={},null!=this.$element&&this.disableResizing(),this._sc&&(this._sc.unregisterMasterVolumeHandler(this._eventNS),this._sc.unregisterMasterMuteHandler(this._eventNS)),this._localStorage=null,null}},{key:"reset",value:function(){r.default(l.default(h.prototype),"reset",this).call(this),this._ended=!1}},{key:"setErrorCallback",value:function(e){void 0!==e&&(this._errorCallback=e)}},{key:"setLoadStartCallback",value:function(e){void 0!==e&&(this._loadStartCallback=e)}},{key:"setLoadedDataCallback",value:function(e){void 0!==e&&(this._loadedDataCallback=e)}},{key:"setCanPlayCallback",value:function(e){void 0!==e&&(this._canPlayCallback=e)}},{key:"setStartedCallback",value:function(e){void 0!==e&&(this._startedCallback=e)}},{key:"setEndedCallback",value:function(e){void 0!==e&&(this._endedCallback=e)}},{key:"setClickCallback",value:function(e){void 0!==e&&(this._clickCallback=e)}},{key:"setQuartileCallback",value:function(e){void 0!==e&&(this._quartileCallback=e)}},{key:"setRequestCallback",value:function(e){void 0!==e&&(this._requestCallback=e)}},{key:"isPlaying",value:function(){return this._playing}},{key:"_switchAsset",value:function(){var e=!1;this._isNonLinearPosition=null!=this._opts&&("OVERLAY"==this._opts.msasPos||"EXITSCREEN"==this._opts.msasPos);var t=768,i=432,a=this.$element.find(".bb-commercial-layer");a.length>0&&(t=a.width(),i=a.height());var n=t,s=i,o=0;if(this._isNonLinearPosition){var r=$parcel$interopDefault(d)(".bb-controlbar").height(),l=i-(r>0?r:30);switch(this._opts.msasPos){case"OVERLAY":o=l-(s=90);break;case"EXITSCREEN":s=l,o=0}}return this.$element.find(".bb-commercial-layer .bb-fitme").css({width:n+"px",height:s+"px",position:"absolute",left:"0px",top:o+"px"}),null!=this._asset?(this._selectHead(),null!=this._head?e=void 0!==this._asset.response&&null!=this._asset.response&&""!=this._asset.response?this._head.set("adsResponse",this._asset.response):this._head.set("src",this._asset.processedSrc):this._dispatchEvent("bb_error",{msg:"no head"})):this._dispatchEvent("bb_error",{msg:"no asset"}),e}},{key:"_determineHeadType",value:function(){this._headType="html5";null!=this._clip&&null!=this._asset&&(this._needsIMA(this._asset)?this._headType="html5ima":this._needsYouTube(this._asset)?this._headType="youtube":this._needsHtml5Seek(this._asset)?this._headType="Html5Seek":this._headType="html5")}},{key:"_selectHead",value:function(){var e=this._headType;r.default(l.default(h.prototype),"_selectHead",this).call(this),this._headType!==e&&(this._ended=!1),null!=this.$element&&(this.$element.trigger("bb_ad_log",[{msg:"Ad event: "+this._headType+" rendering mode selected."}]),this.$element.triggerHandler("bb_commercial_head_selected",[{head:this._head,headType:this._headType}]))}},{key:"_needsIMA",value:function(e){return!!e.mediatype.match(/^vast_/i)}},{key:"_createHead",value:function(e,t){var i=null,a=$parcel$interopDefault(d)('<div class="bb-head" style="position:absolute; width:100%; height:100%; top:0; left:0;"></div>');switch(this.$element.find(".bb-commercial-layer .bb-head-layer").append(a),a.attr("data-retryOnPlayFailed","true"),e){case"youtube":0,this._addClickThrough(a);break;case"Html5Seek":a.attr("data-borrowHtml5Media","true");break;case"html5":"image"==t||"interactive"==t||("audio"==t?a.attr("data-borrowHtml5Media","true"):(a.attr("data-borrowHtml5Media","true"),"function"==typeof _.default&&(i=new _.default(a,this._opts)))),this._addClickThrough(a);break;case"html5ima":u.default.getService(this._opts.playerAliasOrId).getInstance("G_html5IMAHead")?((i=u.default.getService(this._opts.playerAliasOrId).getInstance("G_html5IMAHead")).updateOpts&&i.updateOpts(this._opts),i.$element.show(),a.remove()):(a.attr("data-borrowHtml5Media","true"),"function"==typeof p.default&&(i=new p.default(a,this._opts)))}return null==i&&a.remove(),i}},{key:"_addClickThrough",value:function(e){if(null!=e&&null!=this._clip){var t,i=null;if(void 0!==this._clip.gendeeplink&&null!=this._clip.gendeeplink)null==(t=this._clip.gendeeplink).match(/^\w+:\/\//)&&null==t.match(/^\/\//)||(i=t);if(void 0!==this._clip.deeplink&&null!=this._clip.deeplink)null==(t=this._clip.deeplink).match(/^\w+:\/\//)&&null==t.match(/^\/\//)||(i=t);var a="commercial"==this._clip.usetype&&"image"==this._clip.mediatype?this._clip.url:i;if(void 0!==a&&null!=a&&(null!=a.match(/^\w+:\/\//)||null!=a.match(/^\/\//))){var n=this;e.click((function(e){var t=u.default.getService(n._opts.playerAliasOrId).getInstance("PublicAPI");t?t.doOpenUrl(a,"_blank",!0):window.open(a,"_blank","noopener")})).css("cursor","pointer")}}}},{key:"_dispatchEvent",value:function(e,t){"bb_error"==e&&(this._canPlay=!1,"function"==typeof this._canPlayCallback&&this._canPlayCallback(this._canPlay))}},{key:"_bindToHead",value:function(){if(null!=this._head&&!this._headBound&&null!=this._head.$element){if("html5ima"===this._headType)this._head.$element.on("bb_ad_clicked",this._onAdClickedBound);else this._head.$element.on("click",this._onAdClickedBound);"html5ima"==this._headType&&(this._head.$element.on("adStarted",this._onHeadEventBound),this._head.$element.on("adFirstQuartile",this._onHeadEventBound),this._head.$element.on("adMidPoint",this._onHeadEventBound),this._head.$element.on("adThirdQuartile",this._onHeadEventBound),this._head.$element.on("adComplete",this._onHeadEventBound),this._head.$element.on("adContentPauseReq",this._onHeadEventBound),this._head.$element.on("adContentResumeReq",this._onHeadEventBound))}r.default(l.default(h.prototype),"_bindToHead",this).call(this)}},{key:"_unbindFromHead",value:function(){if(null!=this._head&&this._headBound&&null!=this._head.$element){if("html5ima"===this._headType)this._head.$element.off("bb_ad_clicked",this._onAdClickedBound);else this._head.$element.off("click",this._onAdClickedBound);"html5ima"==this._headType&&(this._head.$element.off("adStarted",this._onHeadEventBound),this._head.$element.off("adFirstQuartile",this._onHeadEventBound),this._head.$element.off("adMidPoint",this._onHeadEventBound),this._head.$element.off("adThirdQuartile",this._onHeadEventBound),this._head.$element.off("adComplete",this._onHeadEventBound),this._head.$element.off("adContentPauseReq",this._onHeadEventBound),this._head.$element.off("adContentResumeReq",this._onHeadEventBound))}r.default(l.default(h.prototype),"_unbindFromHead",this).call(this)}},{key:"fitVideo",value:function(){this._isNonLinearPosition||(this._head&&this._head.get("restretchWillObjectFitContain")?c.default.prototype.fitVideo.call(this,"FIT_STRETCH"):c.default.prototype.fitVideo.call(this,"FIT_BOTH"));var e=768,t=432,i=this.$element.find(".bb-commercial-layer");i.length>0&&(e=i.width(),t=i.height());var a=e,n=t,s=0;if(this._isNonLinearPosition){var o=$parcel$interopDefault(d)(".bb-controlbar").height(),r=t-(o>0?o:30);switch(this._opts.msasPos){case"OVERLAY":s=r-(n=90);break;case"EXITSCREEN":n=r,s=0}}this.$element.find(".bb-commercial-layer .bb-fitme").css({width:a+"px",height:n+"px",position:"absolute",left:"0px",top:s+"px"}),null!=this._head&&this._head.restretch()}},{key:"_onHeadEvent",value:function(e){e.stopPropagation();var t=this._head?{adWrapperAdIds:this._head.get("adWrapperAdIds")}:null;if(null!=this.$element)switch(e.type){case"couldplay":this._couldPlay=!0,this._playPending?this.play():null!=this._seekPosition&&this._head&&this._head.load(!1);break;case"loadstart":this._couldPlay=!1,this._loadedData=!1,this._canPlay=!1,this._playing=!1,this.$element.triggerHandler("bb_commercial_loadstart");var i=null;null!=this._head&&(i={sdk:this._head.get("sdk")}),"function"==typeof this._loadStartCallback&&this._loadStartCallback(!0,i);break;case"loadeddata":this._loadedData=!0,this._playing=!1;i=null;if(null!=this._head)(i={adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),adContentType:this._head.get("adContentType"),duration:this._head.get("duration"),sdk:this._head.get("sdk")}).adWrapperAdIds=this._head.get("adWrapperAdIds"),(n=this._head.get("adPodInfo"))&&(i.adPodInfo=n),(s=this._head.get("cuePoints"))&&s.join&&(i.cuePoints=s.join(","));"function"==typeof this._loadedDataCallback&&this._loadedDataCallback(!0,i),this.fitVideo();break;case"error":i=null;if(null!=this._head){var a=this._head.get("error");null==a&&(a={error:"no error specified",code:666}),(i={errorMessage:a.error,errorCode:a.code,adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),duration:this._head.get("duration"),sdk:this._head.get("sdk")}).adWrapperAdIds=this._head.get("adWrapperAdIds"),this.$element&&this.$element.trigger("bb_ad_log",[{msg:"Ad error: "+a.error}])}this._canPlay?(this._canPlay=!1,"function"==typeof this._startedCallback&&this._startedCallback(!1,i)):this._loadedData?"function"==typeof this._canPlayCallback&&this._canPlayCallback(!1,i):"function"==typeof this._loadedDataCallback&&this._loadedDataCallback(!1,i);break;case"canplay":this._canPlay=!0;var n,s;i=null;if(null!=this._head)(i={adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),adContentType:this._head.get("adContentType"),duration:this._head.get("duration"),sdk:this._head.get("sdk")}).adWrapperAdIds=this._head.get("adWrapperAdIds"),(n=this._head.get("adPodInfo"))&&(i.adPodInfo=n),(s=this._head.get("cuePoints"))&&s.join&&(i.cuePoints=s.join(","));"function"==typeof this._canPlayCallback&&this._canPlayCallback(!0,i),this._playPending&&(this._playPending=!1,this.play());break;case"playing":if(!this._started){this._started=!0;i=null;if(null!=this._head){(i={ad:this._head.get("ad"),adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adContentType:this._head.get("adContentType"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),duration:this._head.get("duration"),sdk:this._head.get("sdk")}).adWrapperAdIds=this._head.get("adWrapperAdIds");var o=this._head.get("clickThroughUrl");o&&(i.clickThroughUrl=o)}"function"==typeof this._startedCallback&&this._startedCallback(!0,i)}this._playPending=!1,this._playing=!0,this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_playing");break;case"pause":this._playing=!1,this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_paused");break;case"timeupdate":var r=null;null!=this._head&&(r=this._head.get("currentTime")),this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_timeupdate",[{currentTime:r}]),"html5ima"!=this._headType&&this._duration>0&&r>=(this._quartile+1)/4*this._duration&&(this._quartile++,"function"==typeof this._quartileCallback&&this._quartileCallback(this._quartile,t));break;case"adSkipped":if(this._playing=!1,this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_ended"),this._started&&!this._ended){var l=null!=this._head?{adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),duration:this._head.get("duration"),sdk:this._head.get("sdk"),adPodInfo:this._head.get("adPodInfo"),adWrapperAdIds:this._head.get("adWrapperAdIds")}:{},d=this._head.get("cuePoints");if((null==d?void 0:d.length)>1){var u,h=this._head.get("currentTime");this._ended=-1===(null==l||null===(u=l.adPodInfo)||void 0===u?void 0:u.podIndex)||-1===d.indexOf(-1)&&h>Math.max(d)}else this._ended=!0;"function"==typeof this._endedCallback&&this._endedCallback(!1,l,this._ended)}break;case"ended":if(this._playing=!1,this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_ended"),this._started)this._ended||(this._ended=!0,"function"==typeof this._endedCallback&&this._endedCallback(!0));else if(!this._ended){var c;(i=null!=this._head?{adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),duration:this._head.get("duration"),sdk:this._head.get("sdk")}:{}).adWrapperAdIds=null===(c=this._head)||void 0===c?void 0:c.get("adWrapperAdIds"),this._canPlay?(i.errorMessage="BB - Timeout of MediaFile",i.errorCode=403,"function"==typeof this._canPlayCallback&&this._startedCallback(!1,i)):(i.errorMessage="BB - Timeout of Ad Tag URI",i.errorCode=402,"function"==typeof this._canPlayCallback&&this._canPlayCallback(!1,i))}break;case"volumechange":var p=null,_=null;null!=this._head&&(p=this._masterVolume>0?this._head.get("volume")/this._masterVolume:this._headVolume,_=this._masterMute?this._headMute:this._head.get("muted")),this.$element.triggerHandler("bb_commercial_volume_change",[{volume:p,masterVolume:this._masterVolume,muted:_,masterMuted:this._masterMute}]);break;case"durationchange":var m=null;null!=this._head&&(m=this._head.get("duration")),null!=m&&(this._duration=m),this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_duration_change",[{duration:m}]);break;case"adStarted":"function"==typeof this._quartileCallback&&this._quartileCallback(0,t);break;case"adFirstQuartile":"function"==typeof this._quartileCallback&&this._quartileCallback(1,t);break;case"adMidPoint":"function"==typeof this._quartileCallback&&this._quartileCallback(2,t);break;case"adThirdQuartile":"function"==typeof this._quartileCallback&&this._quartileCallback(3,t);break;case"adComplete":"function"==typeof this._quartileCallback&&this._quartileCallback(4,t);break;case"adContentPauseReq":"function"==typeof this._requestCallback&&this._requestCallback("content_pause");break;case"adContentResumeReq":"function"==typeof this._requestCallback&&this._requestCallback("content_resume")}}},{key:"_onAdClicked",value:function(e){e.stopPropagation();var t=this._head?{adWrapperAdIds:this._head.get("adWrapperAdIds")}:null;"function"==typeof this._clickCallback&&this._clickCallback(!0,t)}},{key:"_supportedByIOSVersionLessThan5",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^vast_/i))||r.default(l.default(h.prototype),"_supportedByIOSVersionLessThan5",this).call(this,e)}}]),h}(h.default)})),parcelRequire.register("bSnBq",(function(e,t){$parcel$export(e.exports,"default",(function(){return f})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),a=parcelRequire("56Oox"),n=parcelRequire("87rX1"),s=parcelRequire("WI3YU"),o=parcelRequire("b3HW6"),r=parcelRequire("2PjQe"),l=parcelRequire("8DKpv");parcelRequire("boCbw");var d=parcelRequire("6gF5a"),u=parcelRequire("k0pvG"),h=parcelRequire("8aMPH"),c=parcelRequire("a4FKK"),p=parcelRequire("dKCx8"),_=parcelRequire("hm4aY");parcelRequire("lGhIk");var m=parcelRequire("fZtuh"),f=function(e){"use strict";i.default(c,e);var t=a.default(c);function c(e,i){var a,o,r,l,p,m,f,y,v,g,b,w,k,$,C,S,P,A,x,D,I,M,T,E,R,q,O,H,L,B,F;switch(n.default(this,c),(a=t.call(this,e,i))._objectFit=!1,a._canControlVolume=!0,a._isiPhone=!1,a._isiPad=!1,window.tmpHead=s.default(a),a._sdk=null,a._googleImaURL="//s0.2mdn.net/instream/html5/ima3.js",h.debugMode&&(a._googleImaURL="//s0.2mdn.net/instream/html5/ima3_debug.js"),a._bbImaURL="//cdn.bluebillywig.com/scripts/ima/latest/bluebillywig.ima.js",a._adDisplayContainer=null,a._adDisplayContainerInitialized=!1,a._adsRequestTimeout=null,a._adsManagerStarted=!1,a._adSkippable=!1,a._blockInsecureVPAID=!1,a._imaEnablePreloading=!1,a._imaDisableCustomPlaybackForIOS10Plus=!0,a._imaBbPrioritizeWrappers=!1,a._imaBbPreferredwrapperIndex=0,a._adTagUrl=null,a._adResponse=null,a._ad=null,a._adPodInfo_flat=null,a._adMediaMismatch=!1,a._currentTime=0,a._adDuration=-1,a._adContentType=null,a._volume=1,a._muted=!1,a._paused=!1,a._exiting=!1,a._expectingPause=!1,a._pausedByBlur=!1,a._savedSrc=null,a._api=null,a._isMuted=!1,a._haveStarted=!1,a._playing=!1,a._pendingCanplay=!1,a._isTouchDevice=!1,a._isMobileDevice=!1,a._pendingSet_imaReady=[],a._pendingSet_adsManager=[],a._lastTouchY=null,a._onAdContainerTouchStartCallback=a._onAdContainerTouchStart.bind(s.default(a)),a._onAdContainerTouchMoveCallback=a._onAdContainerTouchMove.bind(s.default(a)),a._opts&&a._opts.publicationData&&a._opts.publicationData.googleImaURL&&(a._googleImaURL=a._opts.publicationData.googleImaURL),null===(o=a._opts)||void 0===o?void 0:o.previewMode){case"dev":case"acc":case"test":a._bbImaURL=a._bbImaURL.replace("//cdn.","//cdn-"+a._opts.previewMode+".")}if(!0===(null===(r=a._opts)||void 0===r?void 0:r.devmode)&&(a._bbImaURL=a._bbImaURL.replace("//cdn.","//cdn-dev.")),a._isNonLinearPosition="OVERLAY"===(null===(l=a._opts)||void 0===l?void 0:l.msasPos)||"EXITSCREEN"===(null===(p=a._opts)||void 0===p?void 0:p.msasPos),a._isVMAPPosition="VMAP"===(null===(m=a._opts)||void 0===m?void 0:m.msasPos),a._isNotOverlayPosition="OVERLAY"!==(null===(f=a._opts)||void 0===f?void 0:f.msasPos)&&"MIDROLL"!==(null===(y=a._opts)||void 0===y?void 0:y.msasPos),a._disableHtml5VPAID="true"===(null===(v=a._opts)||void 0===v||null===(g=v.playoutData)||void 0===g?void 0:g.disableHtml5VPAID),a._isVPAIDAd=(null===(b=a._opts)||void 0===b||null===(w=b.msasSystemData)||void 0===w?void 0:w.isVPAIDAd)||!1,a._allowBBIma="true"===(null===(k=a._opts)||void 0===k||null===($=k.playoutData)||void 0===$?void 0:$.allowBBIma),a._forceCanAutoPlay="true"===(null===(C=a._opts)||void 0===C||null===(S=C.playoutData)||void 0===S?void 0:S.forceCanAutoPlay),a._isAutoMuteSet="true"===(null===(P=a._opts)||void 0===P||null===(A=P.playoutData)||void 0===A?void 0:A.autoMute)||!0===(null===(x=a._opts)||void 0===x||null===(D=x.playoutData)||void 0===D?void 0:D.autoMute),a._allowCustomClickLayer="true"===(null===(I=a._opts)||void 0===I||null===(M=I.playoutData)||void 0===M?void 0:M.allowCustomClickLayer),a._forceBBIma=a._opts&&a._opts.playoutData&&"true"===a._opts.playoutData.forceBBIma,a._disableCookies=a._opts&&a._opts.playoutData&&a._opts.playoutData.disableCookies||"false",a._disableTrackingCookies=a._opts&&a._opts.playoutData&&"tracking"===a._opts.playoutData.disableCookies,"true"===(null===(T=a._opts)||void 0===T||null===(E=T.msasSystemData)||void 0===E?void 0:E.allowBBIma)&&(a._allowBBIma=!0),!0===(null===(R=a._opts)||void 0===R||null===(q=R.msasSystemData)||void 0===q?void 0:q.blockInsecureVPAID)&&(a._blockInsecureVPAID=!0),(null===(O=a._opts)||void 0===O?void 0:O.msasSystemData)&&(void 0!==a._opts.msasSystemData.imaEnablePreloading&&(a._imaEnablePreloading="true"===a._opts.msasSystemData.imaEnablePreloading||!0===a._opts.msasSystemData.imaEnablePreloading),void 0!==a._opts.msasSystemData.imaDisableCustomPlaybackForIOS10Plus&&(a._imaDisableCustomPlaybackForIOS10Plus=!!a._opts.msasSystemData.imaDisableCustomPlaybackForIOS10Plus),void 0!==a._opts.msasSystemData.imaBbPrioritizeWrappers&&(a._imaBbPrioritizeWrappers=!!a._opts.msasSystemData.imaBbPrioritizeWrappers),void 0!==a._opts.msasSystemData.imaBbPreferredwrapperIndex&&(a._imaBbPreferredwrapperIndex=a._opts.msasSystemData.imaBbPreferredwrapperIndex)),a.$media=null,a._media=null,a.$adClickLayer_fake=null,a.$adClickLayer=null,a.$adSkipLayer=null,a._skipOffset=-1,a._skipCounterText="You can skip this ad in",a._skipButtonText="Skip Ad",a._$skipLayer=null,a._skipController=null,a._skipTimer=null,a._usingAdSchedule=!!(null===(H=a._opts)||void 0===H?void 0:H.adSchedulingData),a._skippableAdBreaks=(null===(L=a._opts)||void 0===L||null===(B=L.adSchedulingData)||void 0===B?void 0:B.skippableAdBreaks)||[],a._upcomingVideo="false",a._upcomingText="Video will play after this ad",(null===(F=a._opts)||void 0===F?void 0:F.msasSystemData)&&(void 0!==a._opts.msasSystemData.skipOffset&&(a._skipOffset=a._opts.msasSystemData.skipOffset),void 0!==a._opts.msasSystemData.skipCounterText&&(a._skipCounterText=a._opts.msasSystemData.skipCounterText),void 0!==a._opts.msasSystemData.skipButtonText&&(a._skipButtonText=a._opts.msasSystemData.skipButtonText),void 0!==a._opts.msasSystemData.upcomingVideo&&(a._upcomingVideo=a._opts.msasSystemData.upcomingVideo),void 0!==a._opts.msasSystemData.upcomingText&&(a._upcomingText=a._opts.msasSystemData.upcomingText)),a._windowHasFocus=!0,$parcel$interopDefault(d)(window).on("blur."+a._eventNS,$parcel$interopDefault(d).proxy(a._onWindowBlur,s.default(a))),$parcel$interopDefault(d)(window).on("focus."+a._eventNS,$parcel$interopDefault(d).proxy(a._onWindowFocus,s.default(a))),a._vendorPrefixes=["","-o-","-ms-","-moz-","-webkit-","-khtml-"],null!=a.$element){a.$wrapper=a.$element.closest(".bb_wrapper"),a._api=u.default.getService(a._opts.playerAliasOrId).getInstance("PublicAPI");a.$adContainer=$parcel$interopDefault(d)('<div class="bb-ad-container"></div>').css({width:"100%",height:"100%",position:"absolute",pointerEvents:"none"}),a.$element.append("<style>.bb_wrapper .bb-head-html5-ima .bb-ad-container video {left:0;top:0;}</style>"),a.$element.append(a.$adContainer),a._isNonLinearPosition||(a.$adClickLayer_fake=$parcel$interopDefault(d)('<div class="bb-ad-clicklayer"></div>').css({width:"100%",height:"66.7%",position:"absolute"}).css("cursor","pointer").css("pointer-events","auto"),a.$adClickLayer_fake.on("click.clickthroughurl"+a._eventNS,(function(e){e.preventDefault(),e.stopPropagation()})),a.$element.append(a.$adClickLayer_fake.hide()),a.$adClickLayer=$parcel$interopDefault(d)('<div class="bb-ad-clicklayer"></div>').css({width:"100%",height:"66.7%",position:"absolute"}).css("cursor","pointer").css("pointer-events","auto"),a.$element.append(a.$adClickLayer.hide()),a.$adSkipLayer=$parcel$interopDefault(d)('<div class="bb-ad-clicklayer"></div>').css({width:"100%",height:"33.3%",position:"absolute",top:"66.7%"}).css("cursor","pointer").css("pointer-events","auto"),a.$element.append(a.$adSkipLayer.hide())),a.$element.addClass("bb-head-html5-ima");var N=u.default.getService(a._opts.playerAliasOrId).getInstance("LocalStorage");N&&(a._uuid_ls=N.get("bb_uuid")),_.getCookie&&(a._uuid_c=_.getCookie("uuid")),a._uuid=a._uuid_ls||a._uuid_c||Math.uuid(),a._checkAdSkipController(),a._onAdsRequestTimeoutBound=a._onAdsRequestTimeout.bind(s.default(a)),a.$wrapper&&(a.$wrapper.on("bb_as_item_canplay."+a._eventNS,$parcel$interopDefault(d).proxy(a._onAdScheduleItemCanPlay,s.default(a))),a.$wrapper.on("bb_playout_changed."+a._eventNS,$parcel$interopDefault(d).proxy(a._onPlayoutChanged,s.default(a))),a.$wrapper.on("bb_autoplay_check_ready."+a._eventNS,$parcel$interopDefault(d).proxy(a._onAutoPlayCheckReady,s.default(a))),a.$wrapper.on("bb_component_loaded."+a._eventNS+" bb_component_failed."+a._eventNS,$parcel$interopDefault(d).proxy(a._onComponent,s.default(a))));var U,V,W=u.default.getService(a._opts.playerAliasOrId).getInstance("Detections");if(void 0!==W&&null!=W)a._objectFit=W.objectFit,a._canAutoPlay=W.canAutoPlay,a._canControlVolume=W.canControlVolume,a._canAutoPlayMuted=W.canAutoPlayMuted,a._isiPhone=W.isiPhone,a._isAndroid=W.isAndroid,a._androidVersion=W.androidVersion,a._isiPad=W.isiPad,a._isiOS=W.isiOS,a._iOSVersion=W.iOSVersion,a._isChrome=W.isChrome,a._isChromeiOS=W.isChromeiOS,a._chromeVersion=W.chromeVersion,a._isMainroll="mainroll"===(null===(U=a._opts)||void 0===U||null===(V=U.clipData)||void 0===V?void 0:V.mediatype),a._preferBBIma=a._forceBBIma||(a._isiPhone||a._isiPad&&a._isMainroll)&&W.iOSVersion<10,a._isTouchDevice=W.isTouchDevice,a._isMobileDevice=W.isMobileDevice,a._avoidPreload=W.avoidPreload;if(a._disableCustomClickLayer=!a._allowCustomClickLayer||a._isNonLinearPosition||a._isiOS&&a._iOSVersion<10&&"BB_IMA"!==a._sdk,a._headController=u.default.getService(a._opts.playerAliasOrId).getInstance("HeadController"),void 0!==a._headController&&(a._isVPAIDAd||a._preferBBIma?a.$media=a._headController.getHtml5Media():a.$media=a._headController.getHtml5Video(),null!=a.$media&&a.$media.length<=0&&(a.$media=null)),void 0!==u.default.getService(a._opts.playerAliasOrId).getInstance("ComponentBroker")&&(a._broker=u.default.getService(a._opts.playerAliasOrId).getInstance("ComponentBroker")),null!=a.$media){if(a._media=a.$media.get(0),a._media&&!a._usingAdSchedule){var z=a._media.src,j=a._media.currentSrc;j&&""!==j&&null==j.match(/\/null$/)?a._savedSrc=j:z&&""!==z&&null==z.match(/\/null$/)&&(a._savedSrc=z),a._savedCrossOrigin=a._media.crossOrigin}null!=a.$media&&a.$media.on("ended.content"+a._eventNS,$parcel$interopDefault(d).proxy(a._onContentEnded,s.default(a))),a._isNonLinearPosition||a._initializeOnFirstTouch()}}return a._loadIMA(),a}return o.default(c,[{key:"_checkAdSkipController",value:function(){if(this._skipOffset>=0||"true"===this._upcomingVideo||this._skippableAdBreaks.length){var e;null==this._$skipLayer&&(this._$skipLayer=$parcel$interopDefault(d)('<div class="bbima-skip-layer" style="width:100%; height:100%; position:absolute; z-index:99999; pointer-events:none;"></div>'),this._$skipLayer.on("click",$parcel$interopDefault(d).proxy(this._onSkipClick,this)),this._$skipLayer.appendTo(this.$element)),this._skipController=null===(e=this._skipController)||void 0===e?void 0:e.exit();var t={skipCounterText:this._skipCounterText,skipButtonText:this._skipButtonText,upcomingText:this._upcomingText};this._skipController=new p.default(this._$skipLayer,this._opts,t),this._skipController.setType(this._isNonLinearPosition?"close":"skip")}else this._skipController&&(this._skipController.reset(),this._skipController.exit(),this._skipController=null),this._$skipLayer&&(this._$skipLayer.remove(),this._$skipLayer=null)}},{key:"updateOpts",value:function(e){this._opts=e;var t=this._allowBBIma,i=this._imaDisableCustomPlaybackForIOS10Plus,a=this._imaBbPrioritizeWrappers,n=this._imaBbPreferredwrapperIndex;this._opts&&(this._isNonLinearPosition="OVERLAY"===this._opts.msasPos||"EXITSCREEN"===this._opts.msasPos,this._isVMAPPosition="VMAP"===this._opts.msasPos,this._opts.msasSystemData&&(void 0!==this._opts.msasSystemData.isVPAIDAd&&(this._isVPAIDAd="true"===this._opts.msasSystemData.isVPAIDAd||!0===this._opts.msasSystemData.isVPAIDAd),void 0!==this._opts.msasSystemData.allowBBIma&&(this._allowBBIma="true"===this._opts.msasSystemData.allowBBIma||!0===this._opts.msasSystemData.allowBBIma),void 0!==this._opts.msasSystemData.blockInsecureVPAID&&(this._blockInsecureVPAID="true"===this._opts.msasSystemData.blockInsecureVPAID||!0===this._opts.msasSystemData.blockInsecureVPAID),void 0!==this._opts.msasSystemData.imaEnablePreloading&&(this._imaEnablePreloading="true"===this._opts.msasSystemData.imaEnablePreloading||!0===this._opts.msasSystemData.imaEnablePreloading),void 0!==this._opts.msasSystemData.imaDisableCustomPlaybackForIOS10Plus&&(this._imaDisableCustomPlaybackForIOS10Plus=!!this._opts.msasSystemData.imaDisableCustomPlaybackForIOS10Plus),void 0!==this._opts.msasSystemData.imaBbPrioritizeWrappers&&(this._imaBbPrioritizeWrappers=!!this._opts.msasSystemData.imaBbPrioritizeWrappers),void 0!==this._opts.msasSystemData.imaBbPreferredwrapperIndex&&(this._imaBbPreferredwrapperIndex=this._opts.msasSystemData.imaBbPreferredwrapperIndex),void 0!==this._opts.msasSystemData.skipOffset&&(this._skipOffset=this._opts.msasSystemData.skipOffset),void 0!==this._opts.msasSystemData.skipCounterText&&(this._skipCounterText=this._opts.msasSystemData.skipCounterText),void 0!==this._opts.msasSystemData.skipButtonText&&(this._skipButtonText=this._opts.msasSystemData.skipButtonText),void 0!==this._opts.msasSystemData.upcomingVideo&&(this._upcomingVideo=this._opts.msasSystemData.upcomingVideo),void 0!==this._opts.msasSystemData.upcomingText&&(this._upcomingText=this._opts.msasSystemData.upcomingText)),this._opts.adSchedulingData?(this._usingAdSchedule=!0,this._skippableAdBreaks=this._opts.adSchedulingData.skippableAdBreaks||[]):this._usingAdSchedule=!1,this._checkAdSkipController()),this._allowBBIma===t&&i===this._imaDisableCustomPlaybackForIOS10Plus&&a===this._imaBbPrioritizeWrappers&&n===this._imaBbPreferredwrapperIndex||this._loadIMA()}},{key:"_onWindowBlur",value:function(e){!this._paused&&this._isiOS&&(this._pausedByBlur=!0,this._expectingPause=!0,this.pause()),this._windowHasFocus=!1}},{key:"_onWindowFocus",value:function(e){this._pausedByBlur&&(this._pausedByBlur=!1,this._expectingPause=!1),this._windowHasFocus=!0}},{key:"_onAdScheduleItemCanPlay",value:function(e,t){var i,a;if(this._skipOffset=-1,this._upcomingVideo="false","function"!=typeof(null===(i=this._ad)||void 0===i?void 0:i.isSkippable)||!(null===(a=this._ad)||void 0===a?void 0:a.isSkippable())){var n=(null==t?void 0:t.adScheduleItemCode)||null,s=null;if(n&&n.indexOf("#")>-1){var o=n.split("#",2)[1];s=m.mapPodIndexToPosition(o)}"preroll"===s&&(this._upcomingVideo="true"),this._skippableAdBreaks.indexOf(s)>-1&&(this._skipOffset=5)}this._checkAdSkipController()}},{key:"_onPlayoutChanged",value:function(e,t){var i,a=this._disableCookies,n=this._forceBBIma;t&&t.playoutData&&(void 0!==t.playoutData.disableCookies&&""!==t.playoutData.disableCookies&&(this._disableCookies=t.playoutData.disableCookies),void 0!==t.playoutData.forceBBIma&&""!==t.playoutData.forceBBIma&&(this._forceBBIma="true"===t.playoutData.forceBBIma),void 0!==t.playoutData.skipOffset&&""!==t.playoutData.skipOffset&&(this._skipOffset=t.playoutData.skipOffset,this._checkAdSkipController()),(null==t||null===(i=t.playoutData)||void 0===i?void 0:i.allowCustomClickLayer)&&(this._allowCustomClickLayer="true"===t.playoutData.allowCustomClickLayer));this._disableCookies===a&&this._forceBBIma===n||this._loadIMA()}},{key:"_onAutoPlayCheckReady",value:function(e,t){if(t){var i=this._canAutoPlay,a=this._canAutoPlayMuted;void 0!==t.canAutoPlay&&(this._canAutoPlay=t.canAutoPlay),void 0!==t.canAutoPlayMuted&&(this._canAutoPlayMuted=t.canAutoPlayMuted),i===this._canAutoPlay&&a===this._canAutoPlayMuted||(this._canAutoPlay||this._canAutoPlayMuted&&this._isMuted)&&this._pendingCanplay&&this.$element&&(this._pendingCanplay=!1,this.$element.triggerHandler("canplay"),this.$element.triggerHandler("canplaythrough"))}}},{key:"_performMediaBorrow",value:function(){if(this._headController&&(this._isNonLinearPosition||(this._isVPAIDAd||this._preferBBIma?this.$media=this._headController.borrowHtml5Media():this.$media=this._headController.borrowHtml5Video()),null!=this.$media&&this.$media.length<=0&&(this.$media=null)),null!=this.$media&&(this._media=this.$media.get(0),this._isVMAPPosition&&(this._savedPlaybackStatePlaying=!this._media.paused&&!this._media.ended,this._savedPlaybackStatePlaying&&this._media.pause()),!this._isNonLinearPosition&&(void 0===this._savedCrossOrigin&&(this._savedCrossOrigin=this._media.crossOrigin),this._media.crossOrigin=null,!this._savedSrc))){var e=this._media.src,t=this._media.currentSrc;t&&""!==t&&null==t.match(/\/null$/)?this._savedSrc=t:e&&""!==e&&null==e.match(/\/null$/)&&(this._savedSrc=e)}}},{key:"_performMediaReturn",value:function(){this._isNonLinearPosition||(void 0!==this._savedCrossOrigin&&(this._media.crossOrigin=this._savedCrossOrigin),null!=this._savedSrc&&null!=this._media&&(this._media.src=this._savedSrc),this._savedSrc=null,this._isVMAPPosition&&(this._savedPlaybackStatePlaying&&this._media.play(),this._savedPlaybackStatePlaying=!1),this._headController&&(this._isVPAIDAd||this._preferBBIma?this._headController.returnHtml5Media():this._headController.returnHtml5Video()))}},{key:"_initializeOnFirstTouch",value:function(){var e=this;$parcel$interopDefault(d)(window).on("touchstart."+this._eventNS,(function(t){if(null!=e._adDisplayContainer&&($parcel$interopDefault(d)(window).off("touchstart."+e._eventNS),!e._haveStarted&&!e._adDisplayContainerInitialized))try{e._adDisplayContainer.initialize(),e._adDisplayContainerInitialized=!0,this._avoidPreload||(e._isVMAPPosition?e._isAndroid?e._media.load():e._media.play():e._isNotOverlayPosition&&(e._isChrome&&e._chromeVersion>=80&&e._headController._headType&&e._headController._headType.match(/^Html5HLS/)||e._media.load())),e._pendingCanplay&&e.$element&&(e._pendingCanplay=!1,e.$element.triggerHandler("canplay"),e.$element.triggerHandler("canplaythrough"))}catch(e){h.default("[Html5IMAHead] caught error in _initializeOnFirstTouch while going to initialize AdDisplayContainer")}}))}},{key:"exit",value:function(){if(this.reset(),this._skipController&&(this._skipController=this._skipController.exit()),this._isNonLinearPosition||this._headController&&(this._isVPAIDAd||this._preferBBIma?this.$media=this._headController.returnHtml5Media():this.$media=this._headController.returnHtml5Video(),null!=this._savedSrc&&null!=this._media&&(this._media.src=this._savedSrc),this._savedSrc=null,this._isVMAPPosition&&(this._savedPlaybackStatePlaying&&this._media.play(),this._savedPlaybackStatePlaying=!1)),this._media=null,this.$media=null,null!=this.$element&&this.$element.hide(),this.$wrapper&&(this.$wrapper.off("bb_as_item_canplay."+this._eventNS),this.$wrapper.off("bb_playout_changed."+this._eventNS),this.$wrapper.off("bb_autoplay_check_ready."+this._eventNS),this.$wrapper.off("bb_component_loaded."+this._eventNS+" bb_component_failed."+this._eventNS)),this.$adClickLayer_fake&&this.$adClickLayer_fake.off("click.clickthroughurl"+this._eventNS),this.$adClickLayer&&this.$adClickLayer.off("click.clickthroughurl"+this._eventNS),$parcel$interopDefault(d)(window).off("touchstart."+this._eventNS),$parcel$interopDefault(d)(window).off("blur."+this._eventNS),$parcel$interopDefault(d)(window).off("focus."+this._eventNS),this._isMobileDevice&&this._isTouchDevice&&this.$adContainer&&this.$adContainer.length&&(this.$adContainer[0].removeEventListener("touchstart",this._onAdContainerTouchStartCallback),this.$adContainer[0].removeEventListener("touchmove",this._onAdContainerTouchMoveCallback),this._lastTouchY=null),this._imaReady=!1,null!=this._adsManager){try{this._adsManager.destroy()}catch(e){}this._adsManager=null}return this._adsManagerInited=!1,this._adsManagerStarted=!1,r.default(l.default(c.prototype),"exit",this).call(this)}},{key:"reset",value:function(){if(null!==this._adsRequestTimeout&&(clearTimeout(this._adsRequestTimeout),this._adsRequestTimeout=null),this.$element.css("pointer-events","none"),this.$adContainer.css("pointer-events","none"),this.$adClickLayer&&this.$adClickLayer.hide(),this.$adSkipLayer&&this.$adSkipLayer.hide(),this._paused=!0,this._playing=!1,this._pendingPlay=!1,this._pendingCanplay=!1,null!=this._adsManager){if(this._bindArray)for(var e=0;e<this._bindArray.length;e++)this._adsManager.removeEventListener(this._vendor.ima.AdEvent.Type[this._bindArray[e]],this._onAdEvent);this._expectingPause=!0;try{this._adsManager.stop()}catch(e){}}this._pendingSet_imaReady=[],this._pendingSet_adsManager=[],this._skipController&&this._skipController.reset(),null!=this.$media&&this._unbindMediaEvents(this.$media),null!=this._skipTimer&&(window.clearInterval(this._skipTimer),this._skipTimer=null)}},{key:"_chooseBBIma",value:function(){return this._forceBBIma||"true"===this._disableCookies||"tracking"===this._disableCookies||this._preferBBIma&&!this._isVPAIDAd&&this._allowBBIma}},{key:"_getImaVendor",value:function(){return"BB_IMA"===this._sdk?window.bluebillywig:window.google}},{key:"_isImaLoaded",value:function(){var e=this._getImaVendor();return!(!e||"object"!=typeof e.ima||"string"!=typeof e.ima.VERSION)}},{key:"_loadIMA",value:function(e){var t=this._sdk,i=this._sdk=this._chooseBBIma()?"BB_IMA":"GOOGLE_IMA";if(this._isImaLoaded()||!window.bluebillywig||window.bluebillywig[i+"_load_started"]||!this._broker||this._broker.isLoading(i))if(!this._isImaLoaded()&&window.bluebillywig&&window.bluebillywig[i+"_load_started"]&&!this._broker.isLoading(i)){var a=this;this._broker.subscribe(i,(function(e){e&&a._onIMALoaded(!0)}))}else this._isImaLoaded()&&i!==t&&(this._sdk=i,this._vendor=this._getImaVendor(),this._onIMALoaded(!1));else{window.bluebillywig[i+"_load_started"]=!0,this._imaReady=!1;var n="BB_IMA"===i?this._bbImaURL:this._googleImaURL;null==n.match(/^\/\//)&&(n=n.replace(/^https{0,1}:/,"")),this._broker.load(n+":"+i,15)}}},{key:"_onLoadIMATimeout",value:function(){this._pendingPlay=!1,h.default("[Html5IMAHead] Timeout loading IMA script"),null!=this.$element&&this.$element.triggerHandler("bb_ima_load_failed"),this._errorMessage="Timeout loading "+this._sdk+" script",this._errorCode=-1,null!=this.$element&&this.$element.triggerHandler("error")}},{key:"_onIMALoaded",value:function(e){if(!this._isImaLoaded())return null!=this.$element&&this.$element.triggerHandler("bb_ima_load_failed"),this._errorMessage="Error loading "+this._sdk+" script",this._errorCode=0,null!=this.$element&&this.$element.triggerHandler("error"),!1;this._vendor=this._getImaVendor(),this._viewMode=this._vendor.ima.ViewMode.NORMAL,this._contentCompleteCalled=!1;try{this._vendor.ima.settings.setSessionId(this._uuid)}catch(e){"string"==typeof this._vendor.ima.settings.Y&&this._vendor.ima.settings.Y.match(/\w{8}-\w{4}-\w{4}-\w{4}-\w{12}/)&&(this._vendor.ima.settings.Y=this._uuid)}try{this._vendor.ima.settings.setPlayerType("Blue Billywig Player"),this._vendor.ima.settings.setPlayerVersion("6.x"),this._vendor.ima.settings.setDisableCustomPlaybackForIOS10Plus(this._imaDisableCustomPlaybackForIOS10Plus),this._vendor.ima.settings.setCookiesEnabled(!this._disableTrackingCookies)}catch(e){}try{this._vendor.ima.settings.setNumRedirects(10)}catch(e){}try{this._vendor.ima.settings.setBbPrioritizeWrappers(this._imaBbPrioritizeWrappers)}catch(e){}try{this._vendor.ima.settings.setBbPreferredWrapperIndex(this._imaBbPreferredwrapperIndex)}catch(e){}if(this._disableHtml5VPAID)try{this._vendor.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.DISABLED)}catch(e){}else{try{this._vendor.ima.settings.setVpaidAllowed(!0)}catch(e){}if(this._blockInsecureVPAID||this._isiOS&&this._isChromeiOS)try{this._vendor.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.ENABLED)}catch(e){}else try{this._vendor.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.INSECURE)}catch(e){}}var t;if(this._adDisplayContainerInitialized=!1,this._disableCustomClickLayer=!this._allowCustomClickLayer||this._isNonLinearPosition||this._isiOS&&this._iOSVersion<10&&"BB_IMA"!==this._sdk,this._disableCustomClickLayer?(this._isMobileDevice&&this._isTouchDevice&&(null===(t=this.$adContainer)||void 0===t?void 0:t.length)&&(this.$adContainer[0].addEventListener("touchstart",this._onAdContainerTouchStartCallback),this.$adContainer[0].addEventListener("touchmove",this._onAdContainerTouchMoveCallback)),this._adDisplayContainer=new this._vendor.ima.AdDisplayContainer(this.$adContainer[0],this._media)):this._adDisplayContainer=new this._vendor.ima.AdDisplayContainer(this.$adContainer[0],this._media,this.$adClickLayer_fake[0]),this._adsLoader=new this._vendor.ima.AdsLoader(this._adDisplayContainer),this._adsManager)try{this._adsManager.destroy()}catch(e){}for(this._adsManager=null,this._adsManagerInited=!1,this._adsManagerStarted=!1,this._adsLoader.addEventListener(this._vendor.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoaded,!1,this),this._adsLoader.addEventListener(this._vendor.ima.AdErrorEvent.Type.AD_ERROR,this._onAdsLoaderAdError,!1,this),this._imaReady=!0;this._pendingSet_imaReady.length>0;){var i=this._pendingSet_imaReady.shift();this.set(i.propertyName,i.value)}if(!e&&(!this._isMainroll||this._forceCanAutoPlay||this._canAutoPlayMuted&&(this._isAutoMuteSet||this._media.muted))&&null!=this._adDisplayContainer&&!this._adDisplayContainerInitialized)try{this._adDisplayContainer.initialize(),this._adDisplayContainerInitialized=!0,this._avoidPreload||(this._isVMAPPosition?this._isAndroid?this._media.load():this._media.play():this._isNotOverlayPosition&&(this._isChrome&&this._chromeVersion>=80&&this._headController._headType&&this._headController._headType.match(/^Html5HLS/)||this._media.load()))}catch(e){}}},{key:"_onAdContainerTouchStart",value:function(e){var t,i;this._lastTouchY=null==e||null===(t=e.changedTouches)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.screenY}},{key:"_onAdContainerTouchMove",value:function(e){var t,i=null==e||null===(t=e.changedTouches)||void 0===t?void 0:t[0];if(i){this._lastTouchY||(this._lastTouchY=i.screenY);var a=i.screenY-this._lastTouchY;0!==a&&window.scrollBy({top:-2.5*a,left:0,behavior:"instant"}),this._lastTouchY=i.screenY}}},{key:"_onComponent",value:function(e,t){t.component===this._sdk&&("bb_component_failed"!==e.type||"timeout"!==t.reason?this._onIMALoaded(!0):this._onLoadIMATimeout())}},{key:"_createAdsRequest",value:function(e,t){if(!this._vendor||"adTagUrl"!==e&&"adsResponse"!==e)return null;var i,a,n=new this._vendor.ima.AdsRequest;return n[e]=t,n.linearAdSlotWidth=this.$element.width(),n.linearAdSlotHeight=this.$element.height(),n.nonLinearAdSlotWidth=this.$element.width(),n.nonLinearAdSlotHeight=this.$element.height(),h.default("[Html5IMAHead.set] going to adsRequest.setAdWillAutoPlay("+(this._canAutoPlayMuted||this._canAutoPlay)+");"),null===(i=n.setAdWillAutoPlay)||void 0===i||i.call(n,this._canAutoPlayMuted||this._canAutoPlay),h.default("[Html5IMAHead.set] going to adsRequest.setAdWillPlayMuted("+(this._canAutoPlayMuted&&!this._canAutoPlay)+");"),null===(a=n.setAdWillPlayMuted)||void 0===a||a.call(n,this._canAutoPlayMuted&&!this._canAutoPlay),null!==this._adsRequestTimeout&&(clearTimeout(this._adsRequestTimeout),this._adsRequestTimeout=null),this._adsRequestTimeout=setTimeout(this._onAdsRequestTimeoutBound,6e3),n}},{key:"set",value:function(e,t){if(!this._imaReady)return"muted"===e&&"boolean"==typeof t&&(this._muted=t),"volume"===e&&!isNaN(parseFloat(t))&&t>=0&&t<=1&&(this._volume=t),this._pendingSet_imaReady.push({propertyName:e,value:t}),!1;if(!this._adsManager&&"src"!==e&&"adsResponse"!==e)return this._pendingSet_adsManager.push({propertyName:e,value:t}),!1;switch(h.default("[Html5IMAHead] set: propertyName = "+e+", value = "+t),e){case"currentTime":break;case"muted":return"boolean"==typeof t&&(this._muted=t,this._effectuateVolumeAndMuted(!0),!0);case"src":case"adsResponse":var i,a;if(!this._adsLoader)return!1;null===(i=this._skipController)||void 0===i||i.reset(),null===(a=this.$element)||void 0===a||a.triggerHandler("loadstart");try{var n;null===(n=this._adsManager)||void 0===n||n.destroy()}catch(e){}this._adsManager=null,this._adsManagerInited=!1,this._adsManagerStarted=!1,this._manageLeaderStyle();var s="src"===e?"adTagUrl":"adsResponse";"adTagUrl"===s?this._adTagUrl=t:this._adsResponse=t;var o=this._createAdsRequest(s,t);if(o){try{this._adsLoader.requestAds(o)}catch(e){return!1}return!0}return!1;case"volume":return!isNaN(parseFloat(t))&&t>=0&&t<=1&&(this._volume=t,this._effectuateVolumeAndMuted(!0),!0)}}},{key:"_manageLeaderStyle",value:function(){var e;"LEADER"===(null===(e=this._opts)||void 0===e?void 0:e.msasPos)?this.$leaderStyle||(this.$leaderStyle=$parcel$interopDefault(d)("<style>.bb-head-html5-ima video { object-fit: cover; }</style>"),this.$leaderStyle.prependTo(this.$element)):this.$leaderStyle&&(this.$leaderStyle.remove(),this.$leaderStyle=null)}},{key:"_effectuateVolumeAndMuted",value:function(e){if(h.default("[Html5IMAHead] _effectuateVolumeAndMuted muted: "+this._muted),this._muted?this._adsManager&&this._adsManager.setVolume&&this._adsManager.setVolume(0):this._adsManager&&this._adsManager.setVolume&&this._adsManager.setVolume(this._volume),this._isMuted=this._muted||this._volume<=0,this._media&&this._media.muted!==this._isMuted&&(this._media.muted=this._isMuted),this._isMainroll&&"BB_IMA"!==this._sdk){var t=this;this.$element.find("video").each((function(e,i){i.muted=t._isMuted}))}if(this._isMuted&&e&&this._pendingPlay&&!this._playing&&this._adsManager&&this._adsManagerInited&&this._adsManagerStarted){h.default("[Html5IMAHead] _effectuateVolumeAndMuted: pausing and resuming adsManager because of _pendingPlay and not _playing.");try{this._adsManager.pause()}catch(e){}var i=this;setTimeout((function(){try{i._adsManager.resume()}catch(e){}}),500)}return this._isMuted}},{key:"get",value:function(e){if(!this._imaReady)return!1;switch(e){case"remainingTime":return null!=this._adsManager&&this._adsManager.getRemainingTime();case"paused":return this._paused;case"duration":return null!=this._ad?this._ad.getDuration():-1;case"currentTime":return this._currentTime;case"muted":return void 0!==this._muted&&this._muted;case"src":return this._adTagUrl;case"adsResponse":return this._adsResponse;case"volume":return void 0!==this._volume&&this._volume;case"cuePoints":return null!=this._adsManager&&this._adsManager.getCuePoints();case"mediaWidth":return this._adWidth;case"mediaHeight":return this._adHeight;case"ad":return this._ad;case"adId":return this._adId;case"adTitle":return this._adTitle;case"adLinear":return this._adLinear;case"adSystem":return this._adSystem;case"adContentType":return this._adContentType;case"adPodInfo":return this._adPodInfo_flat;case"adMediaMismatch":return this._adMediaMismatch;case"adWrapperAdIds":return this._adWrapperAdIds;case"clickThroughUrl":return this._savedClickThroughUrl;case"sdk":return this._sdk;case"restretchWillObjectFitContain":return this._objectFit&&null!=this.$media;case"error":return{error:this._errorMessage};case"canControlVolume":return this._canControlVolume}}},{key:"pause",value:function(){if(this._pendingPlay=!1,this._playing=!1,this._adsManager){this._expectingPause=!0;try{this._adsManager.pause()}catch(e){}}}},{key:"_onSkipTimerTick",value:function(){if(!this._paused&&null!=this._adsManager){var e=this._adsManager.getRemainingTime();c._timeIsValid(e)?(c._timeIsValid(this._adDuration)||(this._adDuration=e+0,null!=this.$element&&this.$element.triggerHandler("durationchange")),this._currentTime=Math.max(this._adDuration-e,this._currentTime+.5)):this._currentTime=this._currentTime+.5,null!=this.$element&&this.$element.triggerHandler("timeupdate"),this._skipController&&this._skipController.hasSkippableStateChanged(this._currentTime,this._skipOffset,this._adDuration)}}},{key:"_onAdStarted",value:function(e){h.default("[Html5IMAHead] ad started "),null!=this._skipTimer&&(window.clearInterval(this._skipTimer),this._skipTimer=null),this._skipTimer=window.setInterval($parcel$interopDefault(d).proxy(this._onSkipTimerTick,this),500),this._currentTime=0,this._skipController&&this._skipController.hasSkippableStateChanged(this._currentTime,this._skipOffset,this._adDuration),this._skipController&&"true"===this._upcomingVideo&&this._skipController.setUpcomingVideo()}},{key:"_tryInitialize",value:function(){if(null!==this._adDisplayContainer)try{this._adDisplayContainer.initialize(),this._adDisplayContainerInitialized=!0,this._pendingCanplay&&this.$element&&(this._pendingCanplay=!1,this.$element.triggerHandler("canplay"),this.$element.triggerHandler("canplaythrough"))}catch(e){e&&h.default("[Html5IMAHead] _tryInitialize => adDisplayContainer.initialize() error = "+e.message)}else this._pendingInitialize=!0}},{key:"load",value:function(e){!this._adDisplayContainerInitialized&&e&&this._tryInitialize()}},{key:"play",value:function(e){if(h.default("[Html5IMAHead] resume/play userAction: "+e),null!=this.$element&&this._isMuted&&this._isMainroll&&"BB_IMA"!==this._sdk&&this.$element.find("video").each((function(e,t){t.muted=!0})),this._adDisplayContainerInitialized||this._tryInitialize(),!this._imaReady)return!1;if(null!=this._adsManager&&!this._pendingPlay&&!this._playing)if(this._pendingPlay=!0,null!=this.$element&&this.$element.triggerHandler("play"),this._adsManagerStarted){this._effectuateVolumeAndMuted();try{this._adsManager.resume()}catch(e){this._errorMessage=e.message,null!=this.$element&&this.$element.triggerHandler("error")}}else{null!=this.$media&&this._bindMediaEvents(this.$media),this._adsManagerStarted=!0,null!=this.$media&&this.$media.closest(".bb-head").show(),this._effectuateVolumeAndMuted();try{this._adsManager.start()}catch(e){this._errorMessage=e.message,h.default("[Html5IMAHead] play adsManager.start() error; error = "+this._errorMessage),null!=this.$element&&this.$element.triggerHandler("error")}}}},{key:"resume",value:function(e){this.play(e)}},{key:"restretch",value:function(e,t){if(!this.$element)return!1;var i=this.$element.parent()[0];if(i){var a=void 0!==i.style.width&&i.style.width.match(/px/)?parseInt(i.style.width.replace("px","")):this.$element.width(),n=void 0!==i.style.height&&i.style.height.match(/px/)?parseInt(i.style.height.replace("px","")):this.$element.height();if(this._objectFit&&null!=this.$media){for(var s=0;s<this._vendorPrefixes.length;s++)this.$media.css(this._vendorPrefixes[s]+"transform","scale(1.0, 1.0)").css(this._vendorPrefixes[s]+"transform-origin","0 0");this.$media.css("height","100%").css("width","100%"),this.$media.css("object-fit","contain")}if(null!=this._adsManager){if(this._previousResizeWidth===a&&this._previousResizeHeight===n)return!1;this._api&&this._api.isFullscreen()?this._viewMode=this._vendor.ima.ViewMode.FULLSCREEN:this._viewMode=this._vendor.ima.ViewMode.NORMAL,this._isNonLinearPosition?a>=this._adWidth&&n>=this._adHeight&&this._adsManager.resize(a,n,this._viewMode):this._adsManager.resize(a,n,this._viewMode),this._previousResizeWidth=a,this._previousResizeHeight=n}}}},{key:"contentEnded",value:function(){this._contentCompleteCalled=!0,this._adsLoader.contentComplete()}},{key:"_onAdsRequestTimeout",value:function(e){var t;this._adsRequestTimeout=null,this.reset(),null===(t=this.$element)||void 0===t||t.triggerHandler("error")}},{key:"_onAdsLoaderAdError",value:function(e){if(h.default("[Html5IMAHead] _onAdsLoaderAdError"),null!==this._adsRequestTimeout){clearTimeout(this._adsRequestTimeout),this._adsRequestTimeout=null;var t,i=e.getError();if(h.default("[Html5IMAHead] _onAdsLoaderAdError error: "+i.toString()),(null==i?void 0:i.getErrorCode())===this._vendor.ima.AdError.ErrorCode.VAST_MEDIA_LOAD_TIMEOUT);else this._errorMessage=null==i?void 0:i.toString(),this._errorCode=null==i?void 0:i.getErrorCode().toString(),this.reset(),null===(t=this.$element)||void 0===t||t.triggerHandler("error")}}},{key:"_onAdsManagerLoaded",value:function(e){if(null!==this._adsRequestTimeout){if(clearTimeout(this._adsRequestTimeout),this._adsRequestTimeout=null,null!=this._media){var t=new this._vendor.ima.AdsRenderingSettings;t.loadVideoTimeout=1e4,t.useStyledNonLinearAds=!0,t.useStyledLinearAds=!1,t.uiElements=[],t.restoreCustomPlaybackStateOnAdBreakComplete=!1,t.enablePreloading=this._imaEnablePreloading,this._isMainroll&&this._isAutoMuteSet&&($parcel$interopDefault(d)(this._media).attr("muted",""),$parcel$interopDefault(d)(this._media).attr("defaultMuted","")),this._adsManager=e.getAdsManager(this._media,t)}else this._adsManager=e.getAdsManager({duration:0,currentTime:0});if(this._adsManager)for(;this._pendingSet_adsManager.length>0;){var i=this._pendingSet_adsManager.shift();this.set(i.propertyName,i.value)}this._processAdsManager(this._adsManager)}}},{key:"_processAdsManager",value:function(e){e.addEventListener(this._vendor.ima.AdErrorEvent.Type.AD_ERROR,this._onAdError,!1,this),e.addEventListener(this._vendor.ima.AdEvent.Type.STARTED,this._onAdStarted,!1,this),this._bindArray="ALL_ADS_COMPLETED CLICK COMPLETE CONTENT_PAUSE_REQUESTED CONTENT_RESUME_REQUESTED FIRST_QUARTILE LOADED LOG MIDPOINT PAUSED RESUMED SKIPPABLE_STATE_CHANGED SKIPPED STARTED THIRD_QUARTILE USER_CLOSE VOLUME_CHANGED VOLUME_MUTED".split(" ");for(var t=0;t<this._bindArray.length;t++)e.addEventListener(this._vendor.ima.AdEvent.Type[this._bindArray[t]],this._onAdEvent,!1,this);this._initAdsManager()}},{key:"_initAdsManager",value:function(){if(this._adsManager&&!this._adsManagerInited){this._adsManagerInited=!0;var e=this.$element.width(),t=this.$element.height();this._api&&this._api.isFullscreen()?this._viewMode=this._vendor.ima.ViewMode.FULLSCREEN:this._viewMode=this._vendor.ima.ViewMode.NORMAL,this._adsManager.init(e,t,this._viewMode)}}},{key:"onContentPauseRequested_",value:function(e){}},{key:"onContentResumeRequested_",value:function(e){this._contentCompleteCalled}},{key:"_onAdEvent",value:function(e){var t=this;switch(h.default("[Html5IMAHead] Ad event: "+e.type),this.$element&&this.$element.trigger("bb_ad_log",[{msg:"Ad event: "+e.type}]),e.type){case this._vendor.ima.AdEvent.Type.LOG:var i=e.getAdData();i.adError&&(h.default("[Html5IMAHead] Non-fatal error occurred: "+i.adError.getMessage()),null!=this.$element&&this.$element.triggerHandler("warning"));break;case this._vendor.ima.AdEvent.Type.LOADED:if(null!=this.$element&&(this.$element.triggerHandler("loadedmetadata"),this._isMainroll&&"BB_IMA"!==this._sdk&&this.$element.find("video").each((function(e,t){t.muted=!0}))),this._adWidth=0,this._adHeight=0,this._ad=e.getAd(),null!=this._ad){var a={};a.duration=this._adDuration=this._ad.getDuration(),a.id=this._adId=this._ad.getAdId(),a.title=this._adTitle=this._ad.getTitle(),a.linear=this._adLinear=this._ad.isLinear(),a.adSystem=this._adSystem=this._ad.getAdSystem(),a.surveyURL=this._adSurveyUrl="function"==typeof this._ad.getSurveyUrl?this._ad.getSurveyUrl():null,a.wrapperAdIds=this._adWrapperAdIds="function"==typeof this._ad.getWrapperAdIds?this._ad.getWrapperAdIds():null,a.width=this._ad.getWidth(),a.height=this._ad.getHeight(),this._updateAdDimensions(),this._adLinear||this._adDuration<0&&(this._adDuration=27),a.contentType=this._adContentType=this._ad.getContentType(),this._adPodInfo_flat=null;var n=a.adPodInfo=this._ad.getAdPodInfo?this._ad.getAdPodInfo():null;n&&(this._adPodInfo_flat=a.adPodData={},a.adPodData.adPosition=this._adPodInfo_flat.adPosition=n.getAdPosition(),a.adPodData.isBumper=this._adPodInfo_flat.isBumper=n.getIsBumper(),a.adPodData.maxDuration=this._adPodInfo_flat.maxDuration=n.getMaxDuration(),a.adPodData.podIndex=this._adPodInfo_flat.podIndex=n.getPodIndex(),a.adPodData.timeOffset=this._adPodInfo_flat.timeOffset=n.getTimeOffset(),a.adPodData.totalAds=this._adPodInfo_flat.totalAds=n.getTotalAds()),null!=this.$element&&this.$element.triggerHandler("durationchange"),"function"==typeof this._ad.isSkippable&&this._ad.isSkippable()&&this._skipController&&(this._skipController=this._skipController.exit()),null!=this.$element&&this.$element.trigger("bb_ad_loaded",[{ad:a}])}null!=this.$element&&this.$element.triggerHandler("loadeddata"),this._pendingInitialize&&this._tryInitialize(),this._adDisplayContainerInitialized||this._canAutoPlay||this._canAutoPlayMuted&&this._isMuted?(null!=this.$element&&this.$element.triggerHandler("canplay"),null!=this.$element&&this.$element.triggerHandler("canplaythrough")):this._pendingCanplay=!0,this.$adClickLayer&&this.$adClickLayer.off("click.clickthroughurl"+this._eventNS);break;case this._vendor.ima.AdEvent.Type.STARTED:if(this._ad=e.getAd(),null!=this._ad){var s;if(this._adDuration=this._ad.getDuration(),this._updateAdDimensions(),!this._adLinear)this._adDuration<0&&(this._adDuration=27),null!=this._durationTimeout&&(clearTimeout(this._durationTimeout),this._durationTimeout=null),this._durationTimeout=setTimeout($parcel$interopDefault(d).proxy(this._handleDurationTimeout,this),1e3*this._adDuration),"OVERLAY"===(null===(s=this._opts)||void 0===s?void 0:s.msasPos)&&null!=this._media&&this._media.play();this._adContentType=this._ad.getContentType(),null!=this.$element&&this.$element.triggerHandler("durationchange");var o="a b c d e f g h i j k l m n o p q r s t u v w x y z".split(" "),r=!1;$parcel$interopDefault(d).each(o,(function(e,i){if(!r&&t._ad&&void 0!==t._ad[i]&&t._ad[i].clickThroughUrl)t._savedClickThroughUrl=t._ad[i].clickThroughUrl,r=!0,h.default("[Html5IMAHead] on ad event started: found _savedClickThroughUrl = "+t._savedClickThroughUrl);else if(!r&&t._ad&&void 0!==t._ad[i]&&t._ad[i].traffickingParameters)try{var a=JSON.parse(t._ad[i].traffickingParameters);a&&a.page_url&&(t._savedClickThroughUrl=a.page_url,r=!0,h.default("[Html5IMAHead] on ad event started: found _savedClickThroughUrl from AdParameters traffickingParameters.page_url = "+t._savedClickThroughUrl))}catch(e){h.default("[Html5IMAHead] _savedClickThroughUrl couldn't parse JSON to find AdParameters")}}))}if(this.$adClickLayer&&this.$adSkipLayer?(this._isCustomClickTrackingUsed=null!=this._adsManager&&this._adsManager.isCustomClickTrackingUsed(),this._isVPAIDAd&&(this._isCustomClickTrackingUsed=!1),"application/javascript"!==this._adContentType&&"application/x-shockwave-flash"!==this._adContentType||(this._isCustomClickTrackingUsed=!1),this._isCustomClickTrackingUsed?(this.$element.css("pointer-events","auto"),this.$adClickLayer.show(),this.$adSkipLayer.show(),this.$adClickLayer.off("click.clickthroughurl"+this._eventNS),this.$adClickLayer.on("click.clickthroughurl"+this._eventNS,$parcel$interopDefault(d).proxy(this._onAdClickLayerClick,this)),this.$adSkipLayer.off("click.clickthroughurl"+this._eventNS),this.$adSkipLayer.on("click.clickthroughurl"+this._eventNS,$parcel$interopDefault(d).proxy(this._onAdSkipLayerClick,this))):(this.$element.css("pointer-events","none"),this.$adClickLayer.hide(),this.$adSkipLayer.hide())):this.$element.css("pointer-events","none"),this.$adContainer.css("pointer-events","auto"),this._paused=!1,this._playing=!0,this._pendingPlay=!1,null!=this.$element&&this.$element.triggerHandler("playing"),null!=this.$element&&this.$element.triggerHandler("adStarted"),this._adSurveyUrl&&this._adSurveyUrl.match(/^https:\/\//)&&this._adSurveyUrl.match(/[/.]{1}leanlab\.co\//)){var l=this._adSurveyUrl;2*Math.random()<1&&setTimeout((function(){m.fetchScript(l,{async:!0}).then((function(e){h.default("[Html5IMAHead] _onAdEvent STARTED survey request status: "+e)})).catch((function(e){h.default("[Html5IMAHead] _onAdEvent STARTED survey request status: error")}))}),1)}break;case this._vendor.ima.AdEvent.Type.PAUSED:this._paused=!0,this._playing=!1,this._pendingPlay=!1,null!=this.$element&&this.$element.triggerHandler("pause");break;case this._vendor.ima.AdEvent.Type.RESUMED:this._paused=!1,this._playing=!0,this._pendingPlay=!1,null!=this.$element&&this.$element.triggerHandler("playing");break;case this._vendor.ima.AdEvent.Type.COMPLETE:this._playing=!1,this._pendingPlay=!1,this.$element.css("pointer-events","none"),this.$adContainer.css("pointer-events","none"),this.$adClickLayer&&this.$adClickLayer.hide(),this.$adSkipLayer&&this.$adSkipLayer.hide(),this._skipController&&this._skipController.reset(),null!=this._skipTimer&&(window.clearInterval(this._skipTimer),this._skipTimer=null),c._timeIsValid(this._adDuration)&&(this._currentTime=this._adDuration,null!=this.$element&&this.$element.triggerHandler("timeupdate")),this._paused=!0,null!=this.$element&&this.$element.triggerHandler("pause"),null!=this.$element&&this.$element.triggerHandler("adComplete");break;case this._vendor.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.$element.css("pointer-events","none"),this._paused=!0,this._playing=!1,this._pendingPlay=!1,this.reset(),null!=this.$element&&this.$element.triggerHandler("ended");break;case this._vendor.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:if(null!=this._adsManager&&this._adsManager.getAdSkippableState()&&this._pendingSkip){this._expectingPause=!0;try{this._adsManager.skip(),this._playing=!1}catch(e){}}break;case this._vendor.ima.AdEvent.Type.USER_CLOSE:case this._vendor.ima.AdEvent.Type.SKIPPED:this.$element.css("pointer-events","none"),this._paused=!0,this._playing=!1,this._pendingPlay=!1,this.reset(),this._opts&&this._opts.clipData&&"mainroll"===this._opts.clipData.mediatype&&this._media&&!this._avoidPreload&&this._media.load(),null!=this.$element&&this.$element.triggerHandler("adSkipped");break;case this._vendor.ima.AdEvent.Type.CLICK:this._isCustomClickTrackingUsed||null!=this.$element&&this.$element.triggerHandler("bb_ad_clicked");break;case this._vendor.ima.AdEvent.Type.FIRST_QUARTILE:null!=this.$element&&this.$element.triggerHandler("adFirstQuartile");break;case this._vendor.ima.AdEvent.Type.MIDPOINT:null!=this.$element&&this.$element.triggerHandler("adMidPoint");break;case this._vendor.ima.AdEvent.Type.THIRD_QUARTILE:null!=this.$element&&this.$element.triggerHandler("adThirdQuartile");break;case this._vendor.ima.AdEvent.Type.VOLUME_CHANGED:null!=this.$element&&this.$element.triggerHandler("volumechange");case this._vendor.ima.AdEvent.Type.VOLUME_MUTED:null!=this.$element&&this.$element.triggerHandler("volumechange");break;case this._vendor.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this._adContentType&&this._adContentType.match(/^image/)&&!this._isNonLinearPosition||(this._adsManager&&this._adsManager.isCustomPlaybackUsed()?this._performMediaBorrow():this._isVMAPPosition&&(this._expectingPause=!0,this.$element&&this.$element.triggerHandler("adContentPauseReq"))),null!=this.$media&&this.$media.off("ended.content"+this._eventNS);break;case this._vendor.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:null!=this.$media&&this.$media.on("ended.content"+this._eventNS,$parcel$interopDefault(d).proxy(this._onContentEnded,this)),this._adContentType&&this._adContentType.match(/^image/)&&!this._isNonLinearPosition?(this.$element.css("pointer-events","none"),this._paused=!0,this._playing=!1,this._pendingPlay=!1,this.reset(),null!=this.$element&&this.$element.triggerHandler("ended")):this._adsManager&&this._adsManager.isCustomPlaybackUsed()?this._performMediaReturn():this._isVMAPPosition&&(this._expectingPause=!1,this.$element&&this.$element.triggerHandler("adContentResumeReq"))}}},{key:"_updateAdDimensions",value:function(){var e=this._adWidth,t=this._adHeight;try{this._adWidth=this._ad.getWidth()||this._ad.getVastMediaWidth(),this._adHeight=this._ad.getHeight()||this._ad.getVastMediaHeight();var i=this._media.videoHeight>0?this._media.videoWidth/this._media.videoHeight:1.777,a=this._adHeight>0?this._adWidth/this._adHeight:1.777;if(this._adMediaMismatch=a>0&&Math.abs(1-i/a)>.05,this.$element&&0!==this._adWidth&&(e!==this._adWidth||t!==this._adHeight)){var n={adWidth:this._adWidth,adHeight:this._adHeight};this.$element.trigger("bb_ad_size_changed",[n])}}catch(e){e&&e.message&&h.default("[Html5IMAHead] error in _updateAdDimensions: "+e.message)}}},{key:"_handleDurationTimeout",value:function(e){if(null!=this._adsManager){this._expectingPause=!0;try{this._adsManager.stop()}catch(e){}}this._onAdEvent({type:this._vendor.ima.AdEvent.Type.ALL_ADS_COMPLETED,getAd:function(){return null}})}},{key:"_onSkipClick",value:function(e){this._handleSkipClick()}},{key:"_handleSkipClick",value:function(){var e=!1;if(null!=this._adsManager){var t,i=m.mapPodIndexToPosition(this._adPodInfo_flat.podIndex),a=this._adsManager.getAdSkippableState(),n=!!(null===(t=this._skipController)||void 0===t?void 0:t.getSkippableState()),s=a||n;if(this._isVMAPPosition&&(!this._usingAdSchedule||this._usingAdSchedule&&this._skippableAdBreaks.indexOf(i)>-1)&&s){try{this._adsManager.discardAdBreak(),e=!0}catch(e){}this._skipController&&this._skipController.reset(),this._skipTimer&&(window.clearInterval(this._skipTimer),this._skipTimer=null),this.$element&&this.$element.triggerHandler("adSkipped")}else if(a){this._expectingPause=!0;try{this._adsManager.skip(),e=!0}catch(e){}this._skipController&&this._skipController.reset(),null!=this._skipTimer&&(window.clearInterval(this._skipTimer),this._skipTimer=null)}else n&&(this._paused=!0,this.reset(),e=!0,this._opts&&this._opts.clipData&&"mainroll"===this._opts.clipData.mediatype&&this._media&&!this._avoidPreload&&this._media.load(),null!=this.$element&&this.$element.trigger("bb_ad_log",[{msg:"Ad event: skip"}]),null!=this.$element&&this.$element.triggerHandler("adSkipped"))}return e}},{key:"_onAdClickLayerClick",value:function(e){var t=this._media&&!this._media.paused&&!this._media.ended;if(null!=this._adsManager&&this._adsManager.isCustomPlaybackUsed()&&!t)this.resume();else if(this.$adClickLayer_fake&&this.$adClickLayer_fake.trigger("click"),this.$element&&this.$element.triggerHandler("bb_ad_clicked"),this._windowHasFocus&&this._savedClickThroughUrl){e.preventDefault();var i=u.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI");i?i.doOpenUrl(this._savedClickThroughUrl,"_blank",!0):window.open(this._savedClickThroughUrl,"_blank","noopener")}}},{key:"_onAdSkipLayerClick",value:function(e){this._handleSkipClick()||this._onAdClickLayerClick(e)}},{key:"_onAdError",value:function(e){h.default("[Html5IMAHead] Ad error: "+e.getError().toString());var t=e.getError();if(t.getErrorCode()===this._vendor.ima.AdError.ErrorCode.VAST_MEDIA_LOAD_TIMEOUT);else this._errorMessage=e.getError().toString(),this._errorCode=t.getErrorCode().toString(),this.reset(),null!=this.$element&&this.$element.triggerHandler("error")}},{key:"_bindMediaEvents",value:function(e){this._isiPhone?e.on("playing."+this._eventNS,$parcel$interopDefault(d).proxy(this._onIPhoneMediaPlaying,this)):(e.on("playing."+this._eventNS,$parcel$interopDefault(d).proxy(this._onMediaPlaying,this)),e.on("pause."+this._eventNS,$parcel$interopDefault(d).proxy(this._onMediaPause,this)),e.on("error."+this._eventNS,$parcel$interopDefault(d).proxy(this._onMediaError,this)),e.on("ended."+this._eventNS,$parcel$interopDefault(d).proxy(this._onMediaEnded,this)))}},{key:"_unbindMediaEvents",value:function(e){this._isiPhone?e.off("playing."+this._eventNS):(e.off("playing."+this._eventNS),e.off("pause."+this._eventNS),e.off("error."+this._eventNS),e.off("ended."+this._eventNS))}},{key:"_onIPhoneMediaPlaying",value:function(e){this._haveStarted=!0}},{key:"_onMediaPlaying",value:function(e){if(this._pausedUnexpectedly=!1,this._expectingPause=!1,this._haveStarted=!0,this._pausedByBlur=!1,!this._mediaPlaying){this._mediaPlaying=!0;var t=this;window.setTimeout((function(){t._animationCallback()}),1e3/60)}this._mediaFinished=!1}},{key:"_onMediaPause",value:function(e){this._pausedUnexpectedly=!this._expectingPause,this._expectingPause=!1,this._mediaPlaying=!1}},{key:"_onMediaError",value:function(e){this._pausedUnexpectedly=!1,this._mediaPlaying=!1,this._mediaFinished=!0}},{key:"_onMediaEnded",value:function(e){this._pausedUnexpectedly=!1,this._mediaPlaying=!1,this._mediaFinished=!0}},{key:"_onContentEnded",value:function(e){try{this._adsLoader.contentComplete()}catch(e){}}},{key:"_animationCallback",value:function(){var e;if(this._mediaPlaying){var t=this;window.setTimeout((function(){t._animationCallback()}),1e3/60)}this._pausedUnexpectedly&&!this._mediaFinished&&(null===(e=this._adsManager)||void 0===e?void 0:e.isCustomPlaybackUsed())&&this.$media[0].play()}}],[{key:"_timeIsValid",value:function(e){return!isNaN(parseFloat(e))&&e>0}}]),c}(c.default)})),parcelRequire.register("dKCx8",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG"),n=parcelRequire("8aMPH"),s=function(e,t,i){this._init(e,t,i)};s.prototype._init=function(e,t,n){var s,o,r,l;if(this._opts=t||{},this._skipOptions=n||{},this._eventNS="AdSkipController"+String(Math.random()).replace(".",""),this._type="skip",this._skipOffset=-1,this._skipCounterText=(null==n?void 0:n.skipCounterText)||"You can skip this ad in",this._skipButtonText=(null==n?void 0:n.skipButtonText)||"Skip Ad",this._upcomingText=(null==n?void 0:n.upcomingText)||"Video will play after this ad",this._upcomingTitle=null,this._upcomingClipId=null,this._upcomingThumb=null,this._isOutstream="mainroll"===(null===(s=this._opts)||void 0===s||null===(o=s.clipData)||void 0===o?void 0:o.mediatype)||"inarticle"===(null===(r=this._opts)||void 0===r||null===(l=r.clipData)||void 0===l?void 0:l.mediatype),this._visible=!1,this._skippable=!1,this.$skipCounter=null,this.$skipButton=null,this.$closeButton=null,this._api=null,this.$upcomingVideoDiv=null,this.$upcomingText=null,this.$upcomingThumbnail=null,this._genericType="mediaclip",this._onSkipClickBound=this._onSkipClick.bind(this),this._onLoadedClipDataBound=this._onLoadedClipData.bind(this),this._onResizedBound=this._onResized.bind(this),this.$element=null,void 0!==e&&null!=e){var d;if(this.$element=e,this.$element.hide(),(null===(d=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController"))||void 0===d?void 0:d.getGeneration())>=8){this.$skipWrapper=$parcel$interopDefault(i)('<div class="bb-skip-wrapper" style="--skip-font-size:16px;pointer-events:none;user-select:none;font-weight:500;font-size:var(--skip-font-size);font-family:Lato,arial,sans-serif; color:#fff;min-width:var(--skip-font-size); min-height:var(--skip-font-size);background-color: rgba(0,0,0,0.5);border-radius: 5px 0 0 5px;text-align:center; position:absolute;right:0;bottom:max(40px,18%); display:flex"></div>').appendTo(this.$element),this.$skipCounter=$parcel$interopDefault(i)('<div class="bb-skip-counter" style="pointer-events:all;padding:var(--skip-font-size);"></div>').appendTo(this.$skipWrapper),this.$skipButton=$parcel$interopDefault(i)('<div class="bb-skip-button" style="padding:var(--skip-font-size);pointer-events:auto;cursor:pointer;display:flex;align-items:center;gap:12px;white-space:nowrap;"></div>').appendTo(this.$skipWrapper).hide();$parcel$interopDefault(i)('<span class="bb-skip-text">'+this._skipButtonText+' </span><svg style="height: 12px;" viewBox="0 0 12 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t<g>\n\t\t\t\t\t<path d="M10.8272 13.9677C11.4935 13.9677 12 13.4452 12 12.8009V1.1668C12 0.522508 11.4596 0 10.7932 0C10.1268 0 9.62037 0.522508 9.62037 1.13398V12.7983C9.62037 13.4755 10.1936 13.9677 10.8272 13.9677ZM1.98026 13.7307L9.22099 7.92951C9.50855 7.69483 9.65204 7.36324 9.65204 7.0318C9.65204 6.70021 9.5084 6.36891 9.22099 6.13409L1.98026 0.332903C1.20226 -0.355509 0 0.168821 0 1.1668V12.8312C0 13.8291 1.20226 14.3542 1.98026 13.7307Z" fill="white"/>\n\t\t\t\t</g>\n\t\t\t</svg>').appendTo(this.$skipButton)}else this.$skipWrapper=$parcel$interopDefault(i)('<div class="bb-skip-button" style="pointer-events:none; user-select:none; font:normal 12px Ubuntu,arial,helvetica,sans-serif; color:#fff;min-width:12px; min-height:12px;background-color: rgba(0,0,0,0.6);border-radius: 2px;border: 1px solid #000000;text-align:center; position:absolute; right:-2px; bottom:50px; display:flex"></div>').appendTo(this.$element),this.$skipCounter=$parcel$interopDefault(i)('<div class="bb-skip-counter" style="pointer-events:all;padding:8px 12px 8px 10px;"></div>').appendTo(this.$skipWrapper),this.$skipButton=$parcel$interopDefault(i)('<div class="bb-skip-button" style="pointer-events:auto;padding:8px 12px 8px 10px;cursor:pointer;"></div>').appendTo(this.$skipWrapper).hide(),$parcel$interopDefault(i)('<span class="bb-skip-text">'+this._skipButtonText+" </span>").appendTo(this.$skipButton);this.$skipButton.on("click",this._onSkipClickBound),this.$closeButton=$parcel$interopDefault(i)('<div class="bb-skip-close-button" style="pointer-events:auto;padding:8px 12px 8px 10px;"></div>').appendTo(this.$skipWrapper).hide();$parcel$interopDefault(i)('<span class="bb-icon-close-ad" style="color:#fff;height:12px;width:12px;display:inline-block;vertical-align:middle;">X</span>').appendTo(this.$closeButton);if(this.$closeButton.on("click",this._onSkipClickBound),!this._isOutstream&&(this.$upcomingVideoDiv=$parcel$interopDefault(i)('<div class="bb-upcoming" style="pointer-events:auto;cursor:auto;display:flex"></div>').appendTo(this.$skipWrapper).hide(),this.$upcomingVideoDiv.attr("title",this._upcomingTitle),this.$upcomingText=$parcel$interopDefault(i)('<span class="bb-upcoming-text" style="padding:8px 3px 0 3px;max-width:90px;">'+this._upcomingText+" </span>").appendTo(this.$upcomingVideoDiv),this.$upcomingThumbnail=$parcel$interopDefault(i)(document.createElement("img")).appendTo(this.$upcomingVideoDiv),this.$upcomingThumbnail.css({width:"75px",height:"42px",background:"rgba(0,0,0,0.6)",color:"transparent"}),this.$upcomingThumbnail.attr("alt","poster"),this._api=a.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this._api)){if(!this._upcomingClipId||!this._upcomingTitle){var u=this._api.getClipData();this._upcomingClipId=u.id,this._upcomingTitle=u.title}this._upcomingThumb=this._api.getThumbnail(this._upcomingClipId,75,42)}this.$wrapper=this.$element.closest(".bb_wrapper"),this.$wrapper&&(this.$wrapper.on("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$wrapper.on("bb_resized",this._onResizedBound))}},s.prototype.exit=function(){var e,t;null!=this.$element&&(null===(e=this.$skipButton)||void 0===e||e.off("click",this._onSkipClickBound),null===(t=this.$closeButton)||void 0===t||t.off("click",this._onSkipClickBound),this.$element.empty());return this.$wrapper&&(this.$wrapper.off("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$wrapper.off("bb_resize",this._onResizedBound)),null},s.prototype.reset=function(){var e,t;(this._skipOffset=-1,this._visible=!1,this._skippable=!1,this.$element)&&(null===(e=this.$upcomingThumbnail)||void 0===e||e.hide(),null===(t=this.$upcomingVideoDiv)||void 0===t||t.hide(),this.$element.hide());this._showHideElements()},s.prototype.setType=function(e){this._type=void 0!==e?e:"skip"},s.prototype.getSkippableState=function(){return this._skippable},s.prototype.hasSkippableStateChanged=function(e,t,i){void 0!==t&&(this._skipOffset=t),(isNaN(parseFloat(i))||i<=0)&&(i=999999);var a=!1;if(this._skipOffset>=0&&this._skipOffset<i){this._visible||(this._visible=!0,this.$element.show(),this._showHideElements());var o=this._skipOffset-e;o>0?this.$skipCounter.text(this._skipCounterText+" "+s._timeToTimeStr(Math.ceil(o))):this._skippable||(this._skippable=!0,this._showHideElements(),n.default("[AdSkipController] hasSkippableStateChanged skippable!"),a=!0)}return a},s.prototype.setUpcomingVideo=function(){!this._isOutstream&&this.$element&&(this.$upcomingVideoDiv.attr("title",this._upcomingTitle),this._upcomingThumb?this.$upcomingThumbnail.attr("src",this._upcomingThumb).show():this.$upcomingThumbnail.hide(),this._skipOffset>=0?(this.$upcomingText.css({display:"none"}),this.$skipCounter.css({padding:"12px 12px 8px 10px"}),this.$skipButton.css({padding:"12px 12px 8px 10px"})):(this.$upcomingText.css({display:"inline-block"}),this.$skipCounter.css({display:"none"})),this.$element.show(),this.$upcomingVideoDiv.show())},s.prototype._onResized=function(){var e,t=Math.min(this.$wrapper.height(),this.$wrapper.width());null===(e=this.$skipWrapper)||void 0===e||e.css({"--skip-font-size":Math.max(12,Math.min(16,.0235*t))+"px"})},s.prototype._onSkipClick=function(e){this._skippable||e.stopPropagation()},s.prototype._showHideElements=function(e){var t,i;this._skippable?(this.$skipCounter.hide(),null===(t=this.$upcomingThumbnail)||void 0===t||t.css({cursor:"pointer"}),"close"===this._type?(this.$skipButton.hide(),this.$closeButton.show()):(this.$skipButton.show(),this.$closeButton.hide())):(null===(i=this.$upcomingThumbnail)||void 0===i||i.css({cursor:"auto"}),"close"===this._type?this.$skipCounter.hide():this.$skipCounter.show(),this.$skipButton.hide(),this.$closeButton.hide())},s._timeToTimeStr=function(e){var t="--:--";if(!isNaN(parseFloat(e))&&e>=0){var i=Math.round(e),a=Math.floor(i/3600),n=Math.floor((i-3600*a)/60),s=i-3600*a-60*n;a=a<10?"0"+a:a.toString(),n=n<10?"0"+n:n.toString(),s=s<10&&i>=60?"0"+s:s.toString();var o=[];i>=3600&&o.push(a),i>=60&&o.push(n),o.push(s),t=o.join(":")}return t},s.prototype._onLoadedClipData=function(e,t){!this._isOutstream&&(null==t?void 0:t.clipData)&&(this._upcomingTitle=t.clipData.title,this._upcomingClipId=t.clipData.id,this._api&&this._upcomingClipId?this._upcomingThumb=this._api.getThumbnail(this._upcomingClipId,75,42):this._upcomingThumb=null)}})),parcelRequire.register("hI1ps",(function(module,exports){$parcel$export(module.exports,"default",(function(){return BBPrebid})),parcelRequire("dhZ6J");var $87rX1=parcelRequire("87rX1"),$b3HW6=parcelRequire("b3HW6"),$4V4aZ=parcelRequire("4V4aZ"),$8aMPH=parcelRequire("8aMPH"),BBPrebid=function(){"use strict";function BBPrebid(e,t,i){var a,n=this;if($87rX1.default(this,BBPrebid),this._adMacroHelper=new $4V4aZ.default(e,t),this._appId=(null===(a=t.embedData)||void 0===a?void 0:a.appId)||"default",this._adUnits=i.adUnits||t.appConfig,this._adUnitCodes=[],this._config=i.config||{usePrebidCache:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}},this._analytics=i.analytics,this._bids=null,this._callbacks=[],window.bluebillywig_pbjs=window.bluebillywig_pbjs||{},window.bluebillywig_pbjs.que=window.bluebillywig_pbjs.que||[],window.bluebillywig_pbjs.que.push((function(){n._init()})),!window.document.querySelector('script[src$="bluebillywig_pbjs.js"]')){var s,o;if(null==t?void 0:t.playerPath){var r=new URL(null==t?void 0:t.playerPath);o="".concat(r.protocol,"//").concat(r.hostname,"/scripts/prebid/bluebillywig_pbjs.js")}else if("string"==typeof(null==t||null===(s=t.playoutData)||void 0===s?void 0:s.publication)){var l,d,u=-1===(null==t||null===(l=t.playoutData)||void 0===l||null===(d=l.publication)||void 0===d?void 0:d.indexOf("."))?"prod":t.playoutData.publication.split(".")[1],h="prod"===u?"":"-".concat(u);o="https://cdn".concat(h,".bluebillywig.com/scripts/prebid/bluebillywig_pbjs.js")}var c=document.createElement("script");c.src=o,c.async=!0,window.document.getElementsByTagName("head")[0].appendChild(c)}}return $b3HW6.default(BBPrebid,[{key:"_init",value:function _init(){this._config=this._adMacroHelper.resolveMacrosRecursively(this._config,!0),this._adUnits=this._adMacroHelper.resolveMacrosRecursively(this._adUnits,!0);var targetingOverride=this._config.adserverTargetingOverride||{};for(var label in window.bluebillywig_pbjs.bidderSettings={standard:{storageAllowed:!0,allowAlternateBidderCodes:!0,allowedAlternateBidderCodes:["*"],adserverTargeting:[{key:targetingOverride.hb_bidder||"hb_bidder",val:function(e){return e.bidderCode}},{key:targetingOverride.hb_adid||"hb_adid",val:function(e){return e.adId}},{key:targetingOverride.hb_pb||"hb_pb",val:function(e){return e.pbHg}},{key:targetingOverride.hb_size||"hb_size",val:function(e){return e.size}},{key:targetingOverride.hb_source||"hb_source",val:function(e){return e.source}},{key:targetingOverride.hb_format||"hb_format",val:function(e){return e.mediaType}},{key:targetingOverride.hb_impression_id||"hb_impression_id",val:function(e){return e.impression_id}}]}},this._adUnits){var adUnit=this._adUnits[label];if(this._adUnitCodes.push(adUnit.code||label),void 0!==adUnit.renderer)if("BB"===adUnit.renderer)adUnit.renderer={url:"https://cdn.bluebillywig.com/apps/dummy/latest/app.js",render:function(e){}};else if(adUnit.renderer.url&&"string"==typeof adUnit.renderer.render&&adUnit.renderer.render.match(/^function/)){var render=adUnit.renderer.render;try{eval("adUnit['renderer']['render'] = "+render)}catch(e){}}else delete adUnit.renderer;if(void 0!==adUnit.bids){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _loop=function(e,t){var i=t.value;if(void 0!==i.bidCpmAdjustmentMultiplier){if("number"==typeof i.bidCpmAdjustmentMultiplier||!isNaN(parseFloat(i.bidCpmAdjustmentMultiplier))){var a="number"==typeof i.bidCpmAdjustmentMultiplier?i.bidCpmAdjustmentMultiplier:parseFloat(i.bidCpmAdjustmentMultiplier);window.bluebillywig_pbjs.bidderSettings[i.bidder]=window.bluebillywig_pbjs.bidderSettings[i.bidder]||{},window.bluebillywig_pbjs.bidderSettings[i.bidder].bidCpmAdjustment=function(e,t){return e*a}}delete i.bidCpmAdjustmentMultiplier}},_iterator=adUnit.bids[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop(_iterator,_step)}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}}this._config.userSync||(this._config.userSync={}),this._config.userSync.filterSettings||(this._config.userSync.filterSettings={iframe:{bidders:"*",filter:"include"}}),this._config.currency||(this._config.currency={adServerCurrency:"USD"}),this._config.debug=$8aMPH.debugMode,window.bluebillywig_pbjs.setConfig(this._config),this._analytics&&window.bluebillywig_pbjs.enableAnalytics&&window.bluebillywig_pbjs.enableAnalytics(this._analytics)}},{key:"addAdUnits",value:function(){var e=this,t=function(t){var i=e._adUnits[t];window.bluebillywig_pbjs.que.push((function(){window.bluebillywig_pbjs.removeAdUnit(i.code)})),window.bluebillywig_pbjs.que.push((function(){window.bluebillywig_pbjs.addAdUnits(i)}))};for(var i in this._adUnits){var a,n=this._adUnits[i];if(null==n||null===(a=n.bids)||void 0===a?void 0:a.length){var s=!0,o=!1,r=void 0;try{for(var l,d=n.bids[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var u=l.value;u.alias&&u.code&&(window.bluebillywig_pbjs.aliasBidder(u.alias,u.code),delete u.alias,delete u.code)}}catch(e){o=!0,r=e}finally{try{s||null==d.return||d.return()}finally{if(o)throw r}}}}for(var h in this._adUnits)t(h)}},{key:"getBids",value:function(e){this._callbacks.push(e),this._bids?this._returnBidsViaCallback():this._requestBids()}},{key:"_requestBids",value:function(){var e=this;window.bluebillywig_pbjs.que.push((function(){var t=e;window.bluebillywig_pbjs.requestBids({bidsBackHandler:function(e){t._bids=e||{},t._adUnitCodes=[],t._returnBidsViaCallback()},adUnitCodes:e._adUnitCodes})}))}},{key:"_returnBidsViaCallback",value:function(){var e=this._bids,t=this._callbacks[0];e&&"function"==typeof t&&(this._bids=null,this._callbacks.shift(),t(e,this._adUnits),this._callbacks.length>0&&this._requestBids())}}]),BBPrebid}()})),parcelRequire.register("4V4aZ",(function(e,t){$parcel$export(e.exports,"default",(function(){return l})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),a=parcelRequire("b3HW6"),n=parcelRequire("k0pvG"),s=parcelRequire("8aMPH"),o=parcelRequire("hm4aY");parcelRequire("lGhIk");var r=["[CONTENTCAT]","[PLAYBACKMETHODS]","[STOREID]","[STOREURL]","[CACHEBUSTING]","[TIMESTAMP]","[ADCATEGORIES]","[ADCOUNT]","[ADTYPE]","[BLOCKEDADCATEGORIES]","[BREAKMAXADLENGTH]","[BREAKMAXADS]","[BREAKMAXDURATION]","[BREAKMINADLENGTH]","[BREAKPOSITION]","[CONTENTPLAYHEAD]","[MEDIAPLAYHEAD]","[PLACEMENTTYPE]","[UNIVERSALADID]","[CLIENTUA]","[DEVICEIP]","[DEVICEUA]","[IFA]","[IFATYPE]","[LATLONG]","[SERVERSIDE]","[SERVERUA]","[APPBUNDLE]","[DOMAIN]","[PAGEURL]","[APIFRAMEWORKS]","[CLICKTYPE]","[EXTENSIONS]","[MEDIAMIME]","[OMIDPARTNER]","[PLAYERCAPABILITIES]","[VASTVERSIONS]","[VERIFICATIONVENDORS]","[ADPLAYHEAD]","[ADSERVINGID]","[ASSETURI]","[CONTENTID]","[CONTENTURI]","[INVENTORYSTATE]","[PLAYERSIZE]","[PLAYERSTATE]","[PODSEQUENCE]","[CLICKPOS]","[ERRORCODE]","[REASON]","[GDPRCONSENT]","[LIMITADTRACKING]","[REGULATIONS]"],l=function(){"use strict";function e(t,a){i.default(this,e),this._init(t,a)}return a.default(e,[{key:"_api",get:function(){return this._apiInternal||n.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI")}},{key:"_executer",get:function(){return this._executerInternal||n.default.getService(this._opts.playerAliasOrId).getInstance("Executer")}},{key:"_init",value:function(e,t){var i,a,s;for(var o in this.$element=e,this._opts=t,this.$wrapper=null===(i=this.$element)||void 0===i?void 0:i.closest(".bb_wrapper"),this.reset(),this.eventCallbacks={bb_playout_changed:this._onPlayoutChanged.bind(this)},this.eventCallbacks)null===(a=this.$wrapper)||void 0===a||a.on(o,this.eventCallbacks[o]);null===(s=n.default.getService(this._opts.playerAliasOrId).getInstance("ConsentFrameworkSupport"))||void 0===s||s.getCmpData(this._onCmpDataSuccessCallback.bind(this),this._onCmpDataErrorCallback.bind(this)),this._apiInternal=n.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI")||null,this._executerInternal=n.default.getService(this._opts.playerAliasOrId).getInstance("Executer")||null}},{key:"_onPlayoutChanged",value:function(e,t){if(null==t?void 0:t.playoutData){var i=t.playoutData;void 0!==i.adsystem_rdid&&(this._uuid=this._rdid=i.adsystem_rdid),void 0!==i.adsystem_idtype&&(this._idtype=i.adsystem_idtype),void 0!==i.adsystem_is_lat&&(this._is_lat="true"===i.adsystem_is_lat||1===parseInt(i.adsystem_is_lat,10)),void 0!==i.adsystem_buid&&(this._buid=i.adsystem_buid)}}},{key:"_onCmpDataSuccessCallback",value:function(e,t){this._consentGdprApplies=e&&e.gdprApplies?1:0,this._consentCmpVersion=t,1===t?this._consentString=e&&e.consentData?e.consentData:"":2===t&&(this._consentString=e&&e.tcString?e.tcString:"")}},{key:"_onCmpDataErrorCallback",value:function(){s.default("[AdMacroService] Error getting CMP data")}},{key:"reset",value:function(){this._uuid=o.getCookie("uuid")||Math.uuid(),this._rdid=null,this._idtype=null,this._is_lat=!1,this._buid=null,this._consentGdprApplies=0,this._consentCmpVersion=0,this._consentString=""}},{key:"resolveMacrosRecursively",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,a="object"==typeof e,n=Array.isArray(e);if(!a&&!n){if("string"==typeof e){var s=this.resolveMacro(e,t);return(null==s?void 0:s.doNotReplace)?e:s}return e}if(n)return e.map((function(e){return i.resolveMacrosRecursively(e,t)}));for(var o in e)e[o]=this.resolveMacrosRecursively(e[o],t);return e}},{key:"resolveMacro",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={doNotReplace:!0};return e.startsWith("%%")?i=this._resolvePercentMacro(e):/\[.+\]/.test(e)&&(i=e.startsWith("[js:")&&t?this._resolveJSMacro(e):this._resolveBracketMacro(e)),i}},{key:"_resolvePercentMacro",value:function(e){var t,i=e.replaceAll("%%","");switch(i){case"APP_BUNDLE_ID":t=this._buid;break;case"ADVERTISING_IDENTIFIER_PLAIN":t=this._uuid;break;case"ADVERTISING_IDENTIFIER_TYPE":t=this._idtype;break;case"ADVERTISING_IDENTIFIER_IS_LAT":t=this._is_lat?"1":"0";break;default:var a;t=null===(a=this._api)||void 0===a?void 0:a.getPlayoutData()["macro_".concat(i)]}return t||""}},{key:"_resolveBracketMacro",value:function(e){var t,i,a;if(r.includes(e))return!1;var n,s=null===(t=e.match(/\[(.+)\]/))||void 0===t?void 0:t[1];if(s.startsWith("mediaclip_"))n=null===(i=this._api)||void 0===i?void 0:i.getClipData()[s];else if(s.startsWith("playout_"))n=null===(a=this._api)||void 0===a?void 0:a.getPlayoutData()[s];else switch(s.toLowerCase()){case"url":n=window.location.protocol+"//"+window.location.hostname+window.location.pathname;break;case"deeplink":case"description_url":var o;n=null===(o=this._api)||void 0===o?void 0:o.getDeeplink();break;case"correlator":n=this._uuid;break;case"timestamp":case"random":n=Date.now().toString();break;case"playerwidth":var l;n=((null===(l=this.$wrapper)||void 0===l?void 0:l.width())||768).toString();break;case"playerheight":var d;n=((null===(d=this.$wrapper)||void 0===d?void 0:d.height())||432).toString();break;case"consent_string":n=this._consentString;break;case"gdpr_applies":n=this._consentGdprApplies;break;case"cmp_version":n=this._consentCmpVersion}return n||""}},{key:"_resolveJSMacro",value:function(e){var t,i=e.match(/\[js:.*\]/gi);if(null==i?void 0:i.length){var a,n=i[0].replace(/\[js:/,"").replace(/(.*)\]$/,"$1");t=null===(a=this._executer)||void 0===a?void 0:a.execute(n)}return t||""}},{key:"exit",value:function(){for(var e in this.eventCallbacks)this.$wrapper.off(e,this.eventCallbacks[e])}}]),e}()})),parcelRequire.register("4w2rI",(function(e,t){$parcel$export(e.exports,"default",(function(){return d})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),a=parcelRequire("56Oox"),n=parcelRequire("87rX1"),s=parcelRequire("b3HW6"),o=parcelRequire("jTKZK");parcelRequire("boCbw");var r=parcelRequire("8aMPH"),l=parcelRequire("fZtuh"),d=function(e){"use strict";i.default(o,e);var t=a.default(o);function o(){return n.default(this,o),t.apply(this,arguments)}return s.default(o,[{key:"handlePosition",value:function(e,t){this._shouldPause=t;var i=!1;if(void 0!==e&&(this._pos=e),this._opts.msasPos=this._pos.toUpperCase(),this._loaded)this._headController&&(this._shouldPause||this._headController.play(this._userAction)),i=!0;else if(null!=this._config&&void 0!==this._config.systemconfig){this._clipid=this._config.systemconfig["media-clipid"],this._url=this._opts.publicationData.server+"/json/mediaclip/"+this._clipid,r.default("[MSASSystemVMS] handlePosition url: "+this._url),this._vastUrl=this._opts.publicationData.server+"/mediaclip/"+this._clipid+".xml?output=vast";var a={adType:"vms",adPosition:this._pos,adRequestUrl:this._url,vmsClipId:this._clipid};null!=this._lineItem&&(a.lineItemCode=this._lineItem.code),null!=this.$element&&this.$element.triggerHandler("bb_adsystem_initialized",[a]),this._data=null,this._data={assets:[{mediatype:"vast_"+this._config.subtype,src:this._vastUrl}]},null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null),this._timeoutHandle=new l.Timer(this._onTimeout.bind(this),this._timeout),this._isInview||this._timeoutHandle.pause(),i=this._getData(this._dataCallback.bind(this))}return i}},{key:"_getData",value:function(e){var t=!1;if(null==this._data)if(null!=this._url&&""!=this._url){var i=this;l.fetchData(this._url).then((function(t){t?(i._data=t,"function"==typeof e&&e(!0)):(i._logError("json request failed: no data"),"function"==typeof e&&e(!1))})).catch((function(t){i._logError("json request failed: "+t),"function"==typeof e&&e(!1)})),t=!0}else this._logError("no url specified"),"function"==typeof e&&e(!1);else"function"==typeof e&&e(!0),t=!0;return t}},{key:"_dataCallback",value:function(e){if(e){if(this._clip=this._data,this._clip&&this._clip.assets)for(var t=this._clip.assets.length-1;t>=0;t--){var i=this._clip.assets[t];if(i&&i.src)try{decodeURI(i.src)}catch(e){r.default("[MSASSystemVMS] _dataCallback caught error: "+e),this._clip.assets.splice(t,1)}}null!=this._headController&&this._headController.load(this._clip),null!=this._headController&&(this._shouldPause||this._headController.play())}}}]),o}(o.default)})),parcelRequire.register("9qiPQ",(function(e,t){$parcel$export(e.exports,"default",(function(){return n})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("8aMPH"),n=function(){this._init()};n.prototype._init=function(){this._eventNS="IABConsentFrameworkSupport"+String(Math.random()).replace(".",""),this._findCmpAndGetData()},n.prototype._findCmpAndGetData=function(){var e=window;for(this._cmpData=null,this._cmpFrame=null,this._cmpVersion=null,this._cmpFunction=null,this._cmpRequestInProgress=!1,this._successCallbacks=[],this._errorCallbacks=[];!this._cmpFrame;){try{if("function"==typeof e.__tcfapi||"function"==typeof e.__cmp){"function"==typeof e.__tcfapi?(this._cmpVersion=2,this._cmpFunction=e.__tcfapi):(this._cmpVersion=1,this._cmpFunction=e.__cmp),this._cmpFrame=e;break}}catch(e){}try{if(e.frames.__tcfapiLocator){this._cmpVersion=2,this._cmpFrame=e;break}}catch(e){}try{if(e.frames.__cmpLocator){this._cmpVersion=1,this._cmpFrame=e;break}}catch(e){}if(e===window.top)break;e=e.parent}if(!this._cmpFrame||!this._cmpVersion)return!1;a.default("[IABConsentFrameworkSupport] _findCmp: found CMP version "+this._cmpVersion+", requesting CMP data"),"function"!=typeof this._cmpFunction&&(this._cmpCallbacks={},$parcel$interopDefault(i)(window).on("message."+this._eventNS,$parcel$interopDefault(i).proxy(this._onMessage,this))),this._makeCmpDataRequests()},n.prototype._getApiName=function(){return 2===this._cmpVersion?"__tcfapi":"__cmp"},n.prototype._callSuccessCallbacks=function(e,t){for(;this._successCallbacks.length;){var i=this._successCallbacks.shift();"function"==typeof i&&i(e,t)}this._errorCallbacks=[]},n.prototype._callErrorCallbacks=function(){for(;this._errorCallbacks.length;){var e=this._errorCallbacks.shift();"function"==typeof e&&e()}this._successCallbacks=[]},n.prototype._v2CmpResponseHandler=function(e,t){e&&"cmpuishown"===e.eventStatus||(this._cmpRequestInProgress=!1,"function"==typeof this._cmpFunction&&this._cmpFunction("removeEventListener",this._cmpVersion,a.default,e.listenerId),!t||!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus?(a.default("[IABConsentFrameworkSupport] _v2CmpResponseHandler: did not get tcfData in correct state, firing error callback"),this._callErrorCallbacks()):(a.default("[IABConsentFrameworkSupport] _v2CmpResponseHandler: got tcfData in correct state, firing success callback"),this._cmpData=e,this._callSuccessCallbacks(this._cmpData,this._cmpVersion)))},n.prototype._v1CmpResponseHandler=function(e){this._cmpRequestInProgress=!1,e?(this._cmpData=e,this._callSuccessCallbacks(this._cmpData,this._cmpVersion)):this._callErrorCallbacks()},n.prototype._callCmpFromIframe=function(e,t){var i=(Math.random()+"").replace(".",""),a={};a["".concat(this._getApiName(),"Call")]={command:e,parameter:null,callId:i},this._cmpCallbacks[i]=t,this._cmpFrame.postMessage(a,"*")},n.prototype._onMessage=function(e){e=e.originalEvent||e;var t=this._getApiName()+"Return";try{var i=e.data&&"string"==typeof e.data?JSON.parse(e.data):e.data;if(i&&i[t]&&i[t].callId){var a=i[t];"function"==typeof this._cmpCallbacks[a.callId]&&(this._cmpCallbacks[a.callId](a.returnValue,a.success),this._cmpCallbacks[a.callId]=null)}}catch(e){}},n.prototype._makeCmpDataRequests=function(){this._cmpRequestInProgress=!0,this._cmpFrame&&this._cmpVersion?"function"==typeof this._cmpFunction?1===this._cmpVersion?this._cmpFunction("getConsentData",null,$parcel$interopDefault(i).proxy(this._v1CmpResponseHandler,this)):2===this._cmpVersion&&this._cmpFunction("addEventListener",this._cmpVersion,$parcel$interopDefault(i).proxy(this._v2CmpResponseHandler,this)):1===this._cmpVersion?this._callCmpFromIframe("getConsentData",$parcel$interopDefault(i).proxy(this._v1CmpResponseHandler,this)):2===this._cmpVersion&&this._callCmpFromIframe("addEventListener",$parcel$interopDefault(i).proxy(this._v2CmpResponseHandler,this)):(this._cmpRequestInProgress=!1,this._callErrorCallbacks())},n.prototype.getCmpData=function(e,t){this._successCallbacks.push(e),this._errorCallbacks.push(t),"function"==typeof e&&"function"==typeof t&&(!this._cmpRequestInProgress&&this._cmpData?this._callSuccessCallbacks(this._cmpData,this._cmpVersion):this._cmpRequestInProgress||this._makeCmpDataRequests())},n.prototype.isRequestInProgress=function(){return this._cmpRequestInProgress},n.prototype.getCmpVersion=function(){return this._cmpVersion},n.prototype.refreshCmpData=function(){this._successCallbacks=[],this._errorCallbacks=[],this._findCmpAndGetData()},n.prototype.exit=function(){return $parcel$interopDefault(i)(window).off("message."+this._eventNS),this._cmpCallbacks={},this._cmpFrame=null,this._cmpFunction=null,this._cmpVersion=null,this._cmpData=null,this._cmpRequestInProgress=!1,null}})),parcelRequire.register("f9USI",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("8aMPH"),a={_pad:function(e,t,i){return void 0===t?e:i?(e+t).slice(-e.length):(t+e).substring(0,e.length)},decodeBase64StringToBitString:function(e){var t=!1,i=e.replace(/-/g,"+").replace(/_/g,"/")+"==".substring(0,3*e.length%4);try{var n=atob(i);t="";for(var s=0;s<n.length;s++){var o=n.charCodeAt(s).toString(2);t+=a._pad("00000000",o,8-o.length)}}catch(e){}return t},decodeBitsToInt:function(e,t,i){return parseInt(e.substr(t,i),2)},decodeBitsToIds:function(e,t,i){return e.substr(t,i).split("").reduce((function(e,t,i){return"1"===t&&-1===e.indexOf(i+1)&&e.push(i+1),e}),[])},ingestConsentIntoPlayout:function(e,t){t=t||{},e&&e.indexOf(".")>-1&&(e=e.split(".")[0]);var n=e?a.decodeBase64StringToBitString(e):"00000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";switch(i.default("[IABConsentFrameworkUtils] consent_bs: "+n),a.decodeBitsToInt(n,0,6)){default:case 2:var s=a.decodeBitsToIds(n,152,24);if(["disableCookies","restriction_npaOnly","restriction_npcOnly","noStats"].forEach((function(e){void 0!==t[e]&&void 0===t[e+"__orig__"]&&(t[e+"__orig__"]=t[e])})),s){var o=-1===s.indexOf(1),r=-1===s.indexOf(3)||-1===s.indexOf(5);o?t.disableCookies="true":!o&&r?t.disableCookies="true"===t.disableCookies__orig__?"true":"tracking":o||r||(t.disableCookies="true"===t.disableCookies__orig__||"tracking"===t.disableCookies__orig__?t.disableCookies__orig__:"false"),-1===s.indexOf(4)?t.restriction_npaOnly="true":t.restriction_npaOnly="true"===t.restriction_npaOnly__orig__?"true ":"false",-1===s.indexOf(6)?t.restriction_npcOnly="true":t.restriction_npcOnly="true"===t.restriction_npcOnly__orig__?"true":"false",-1===s.indexOf(7)||-1===s.indexOf(8)||-1===s.indexOf(10)?t.noStats="true":t.noStats="true"===t.noStats__orig__?"true":"false"}break;case 1:var l=a.decodeBitsToInt(n,132,6);void 0!==t.disableCookies&&void 0===t.disableCookies__orig__&&(t.disableCookies__orig__=t.disableCookies),t.disableCookies=32&l?16&l?"false":"tracking":"true",void 0!==t.restriction_npaOnly&&void 0===t.restriction_npaOnly__orig__&&(t.restriction_npaOnly__orig__=t.restriction_npaOnly),t.restriction_npaOnly=8&l?"false":"true",void 0!==t.restriction_npcOnly&&void 0===t.restriction_npcOnly__orig__&&(t.restriction_npcOnly__orig__=t.restriction_npcOnly),t.restriction_npcOnly=4&l?"false":"true",void 0!==t.noStats&&void 0===t.noStats__orig__&&(t.noStats__orig__=t.noStats),t.noStats=2&l?"false":"true",e&&(t._consentIngested=!0)}return t}}})),parcelRequire.register("eMdmS",(function(e,t){$parcel$export(e.exports,"default",(function(){return n})),parcelRequire("boCbw");var i=parcelRequire("6gF5a"),a=parcelRequire("k0pvG"),n=function(e,t){this.$element=e,this._opts=t,a.default.getService(this._opts.playerAliasOrId).setInstance("Placement",this),this._spotFound=!1};n.prototype.exit=function(){return a.default.getService(this._opts.playerAliasOrId).setInstance("Placement",null),null},n.prototype.inarticleFindSpot=function(){var e=this;this._playout=this._opts.playoutData;var t=$parcel$interopDefault(i)(window).height(),a=[],n=$parcel$interopDefault(i)(this._playout.placementDOMSelector);switch(e.$placementElement=null,this._playout.placementOption){default:break;case"afterSelector":case"appendTo":n&&(e.$placementElement=n[0]);break;case"halfwaySelectors":n&&n.length>0&&(e.$placementElement=n[Math.floor(n.length/2)-1]);break;case"fold":case"foldOrLast":if(n&&n.each((function(e,n){$parcel$interopDefault(i)(this).offset().top>t&&a.push(this)})),a.length>0){var s=n.length-a.length;s>0&&(s-=1),e.$placementElement=n[s]}else n&&n.length>0&&"foldOrLast"==this._playout.placementOption&&(e.$placementElement=n[n.length-1])}return e._movePlayerToSpotFound("appendTo"===this._playout.placementOption),this._spotFound},n.prototype._movePlayerToSpotFound=function(e){null!=this.$placementElement&&(void 0!==this._opts.debugmode&&!0===this._opts.debugmode&&$parcel$interopDefault(i)(this.$placementElement).css({border:"1px dashed red"}).attr("title","This element was found by the Blue Billywig placement DOM-selector"),e?$parcel$interopDefault(i)(this.$placementElement).append(this.$element):this.$element.insertAfter(this.$placementElement),this._spotFound=!0)}}));var $d5edf10efb0a15a6$exports={};parcelRequire("kvHoK").register(JSON.parse('{"4jxPJ":"os-player.js","1xc6V":"TimelineWidget.62248ebc.js"}')),parcelRequire("b1081");var $j7M4L=parcelRequire("j7M4L");window.bluebillywig=window.bluebillywig||{},window.bluebillywig._internal=window.bluebillywig._internal||{},window.bluebillywig._internal.playerBuildDate=$j7M4L.playerBuildDate})();
print("●ドリルマンステージの岩壁\n")
print("(利用方法)範囲選択後[0]:自動補正実行\n")
print("・オレンジ色の岩壁を自動補正する。\n・岩壁タイル同士で連続していると判定される。\n")

require("lua/common")


local tTGDest = --対象
{
[0x01]=1,[0x02]=1,[0x03]=1,[0x04]=1,[0x06]=1,[0x07]=1,[0x09]=1,[0x0A]=1,[0x0B]=1,[0x0C]=1,[0x0E]=1,[0x0F]=1,[0x10]=1,[0x11]=1,[0x16]=1,[0x17]=1,[0x18]=1,[0x19]=1,[0x1F]=1,
}
local tTSurface =
{
0x06,0x07,0x01,0x01,0x03,0x10,0x11,0x01,0x0E,0x0F,0x01,0x01,0x0B,0x1F,0x00,0x00,
}

function pEdit()
	local iRV=0
	local x0,y0,x1,y1 = getselectedrect()
	
	if iskeypressed(string.byte("0")) then --{
		iRV = 1
		CorrectSurface(tTGDest,tTSurface,true)
		CorrectCyclicTile({[0x01]=1},{0x01,0x02,0x09,0x0A,},1,2,2,2)
		CorrectCyclicTile({[0x03]=1},{0x03,0x04,},1,0,2,2)
		CorrectCyclicTile({[0x0B]=1},{0x0B,0x0C,},1,0,2,2)
		CorrectCyclicTile({[0x10]=1},{0x10,0x18,},0,1,2,2)
		CorrectCyclicTile({[0x11]=1},{0x11,0x19,},0,1,2,2)
--		CorrectCyclicTile({[]=1},{},1,2,2,2)

		updateundo()
	end --}

	return iRV
end --function

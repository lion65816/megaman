print("●スパークマンステージの壁\n")
print("(利用方法)範囲選択後[0]:自動補正実行\n")
print("・壁を自動設定する。\n・点滅している部分は市松模様に配置される。\n")

require("lua/common")

local tTGDest = --対象
{
[0x16]=1,[0x17]=1,[0x1E]=1,[0x1F]=1,[0x20]=1,[0x21]=1,[0x22]=1,[0x24]=1,[0x25]=1,[0x26]=1,[0x27]=1,[0x28]=1,[0x2A]=1,[0x2B]=1,[0x2C]=1,[0x2D]=1,[0x2E]=1,[0x2F]=1,[0x30]=1,[0x31]=1,[0x32]=1,[0x34]=1,[0x35]=1,[0x36]=1,[0x37]=1,[0x38]=1,[0x39]=1,[0x3A]=1,[0x3B]=1,
}

local tPat =
{
0x20,0x22,0x3B,0x3A,0x21,0x28,0x2A,0x1F,
0x30,0x32,0x39,0x38,0x31,0x00,0x2B,0x00,
}


local tDestInside =
{
[0x16]=1,[0x17]=1,[0x1E]=1,[0x1F]=1,
}

local tPatInside =
{
0x1F,0x1E,0x17,0x16,
}



function CheckedPattern(ix,iy) --{
	if (ix+iy)%2==1 then return true end
	return false
end --}

local tDestPat =
{
[0x20]=0x24,
[0x22]=0x26,
[0x3B]=0x3F,
[0x3A]=0x3E,
[0x21]=0x25,
[0x28]=0x2C,
[0x2A]=0x2E,
[0x30]=0x34,
[0x32]=0x36,
[0x39]=0x3D,
[0x38]=0x3C,
[0x31]=0x35,
[0x2B]=0x2F,
}


function pEdit()
	local iRV=0
	
	if iskeypressed(string.byte("0")) then --{
		iRV = 1
		CorrectSurface_c(tTGDest,tPat,true,1)
		CorrectCyclicTile(tDestInside,tPatInside,1,2,2,2)
		SwitchTileByPosition(tDestPat,CheckedPattern)
		updateundo()
	end --}

	return iRV
end --function
